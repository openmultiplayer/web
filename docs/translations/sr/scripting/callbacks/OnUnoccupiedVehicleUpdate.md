---
title: OnUnoccupiedVehicleUpdate
description: Ова функција се позива када клијент играча ажурира/синхронизује позицију возила које не управља.
tags: ["vehicle"]
---

## Опис

Ова функција се позива када клијент играча ажурира/синхронизује позицију возила које не управља. То може да се деси ван возила или када је играч путник у возилу које нема возача.

| Име            | Опис                                                                                                                                                               |
| -------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| vehicleid      | ID возила чија је позиција ажурирана.                                                                                                               |
| playerid       | ID играча који је послао актуализацију позиције возила.                                                                                                   |
| passenger_seat | ID седишта ако је играч путник. 0=није у возилу, 1=предњи путник, 2=лево задње, 3=десно задње, 4+ за аутобусе/бусеве итд. са многим седиштима. |
| Float:new_x    | Нова X координата возила.                                                                                                                             |
| Float:new_y    | Нова Y координата возила.                                                                                                                             |
| Float:new_z    | Нова Z координата возила.                                                                                                                             |
| Float:vel_x    | Нова X брзина возила.                                                                                                                               |
| Float:vel_y    | Нова Y брзина возила.                                                                                                                               |
| Float:vel_z    | Нова Z брзина возила.                                                                                                                               |

## Враћа

Увек се прво позива у филтер скриптама, па враћање 0 такође блокира друге скрипте да је виде.

## Пример

```c
public OnUnoccupiedVehicleUpdate(vehicleid, playerid, passenger_seat, Float:new_x, Float:new_y, Float:new_z, Float:vel_x, Float:vel_y, Float:vel_z)
{
    // Проверавамо да ли се много удаљио
    if (GetVehicleDistanceFromPoint(vehicleid, new_x, new_y, new_z) > 50.0)
    {
        // Не ажурирамо
        return 0;
    }

    return 1;
}
```

## Белешке

:::warning

- Ова функција се позива веома често по секунди по необјектованом возилу. Треба избегавати имплементацију интензивних израчунавања или интензивних операција читања/писања у фајлове у овој функцији.
- [GetVehiclePos](../functions/GetVehiclePos) ће вратити старе координате возила пре ове актуализације.

:::

## Повезане повратне функције

Следеће повратне функције могу бити корисне, јер су на један или други начин повезане са овим позивом.

- [OnTrailerUpdate](OnTrailerUpdate): Позива се када је позиција приколице синхронизована од стране клијента.

"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["62226"],{88444:function(e,n,l){l.r(n),l.d(n,{frontMatter:()=>t,toc:()=>u,default:()=>c,metadata:()=>i,assets:()=>o,contentTitle:()=>a});var i=JSON.parse('{"id":"scripting/callbacks/OnDialogResponse","title":"OnDialogResponse","description":"Cette callback est appel\xe9e lorsqu\'un joueur lorsqu\'un joueur r\xe9pond \xe0 une bo\xeete de dialogue affich\xe9e \xe0 l\'aide de ShowPlayerDialog en cliquant sur un bouton, en appuyant sur ENTR\xc9E / \xc9CHAP ou en double-cliquant sur un \xe9l\xe9ment de liste (si vous utilisez un `DIALOG_STYLE_LIST`).","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/scripting/callbacks/OnDialogResponse.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnDialogResponse","permalink":"/fr/docs/scripting/callbacks/OnDialogResponse","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/scripting/callbacks/OnDialogResponse.md","tags":[{"inline":true,"label":"Dialog","permalink":"/fr/docs/tags/dialog"},{"inline":true,"label":"DIALOG_STYLE_LIST","permalink":"/fr/docs/tags/dialog-style-list"},{"inline":true,"label":"OnDialogReponse","permalink":"/fr/docs/tags/on-dialog-reponse"},{"inline":true,"label":"listitem","permalink":"/fr/docs/tags/listitem"},{"inline":true,"label":"dialogid","permalink":"/fr/docs/tags/dialogid"}],"version":"current","frontMatter":{"title":"OnDialogResponse","sidebar_label":"OnDialogResponse","description":"Cette callback est appel\xe9e lorsqu\'un joueur lorsqu\'un joueur r\xe9pond \xe0 une bo\xeete de dialogue affich\xe9e \xe0 l\'aide de ShowPlayerDialog en cliquant sur un bouton, en appuyant sur ENTR\xc9E / \xc9CHAP ou en double-cliquant sur un \xe9l\xe9ment de liste (si vous utilisez un `DIALOG_STYLE_LIST`).","tags":["Dialog","DIALOG_STYLE_LIST","OnDialogReponse","listitem","dialogid"]},"sidebar":"docsSidebar","previous":{"title":"OnClientMessage","permalink":"/fr/docs/scripting/callbacks/OnClientMessage"},"next":{"title":"OnEnterExitModShop","permalink":"/fr/docs/scripting/callbacks/OnEnterExitModShop"}}'),s=l(85893),r=l(50065);let t={title:"OnDialogResponse",sidebar_label:"OnDialogResponse",description:"Cette callback est appel\xe9e lorsqu'un joueur lorsqu'un joueur r\xe9pond \xe0 une bo\xeete de dialogue affich\xe9e \xe0 l'aide de ShowPlayerDialog en cliquant sur un bouton, en appuyant sur ENTR\xc9E / \xc9CHAP ou en double-cliquant sur un \xe9l\xe9ment de liste (si vous utilisez un `DIALOG_STYLE_LIST`).",tags:["Dialog","DIALOG_STYLE_LIST","OnDialogReponse","listitem","dialogid"]},a=void 0,o={},u=[{value:"Param\xe8tres",id:"param\xe8tres",level:2},{value:"Valeur de retour",id:"valeur-de-retour",level:2},{value:"Exemple",id:"exemple",level:2},{value:"Notes",id:"notes",level:2},{value:"Fonctions connexes",id:"fonctions-connexes",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,s.jsxs)(n.p,{children:["Cette callback est appel\xe9e lorsqu'un joueur lorsqu'un joueur r\xe9pond \xe0 une bo\xeete de dialogue affich\xe9e \xe0 l'aide de ShowPlayerDialog en cliquant sur un bouton, en appuyant sur ENTR\xc9E / \xc9CHAP ou en double-cliquant sur un \xe9l\xe9ment de liste (si vous utilisez un ",(0,s.jsx)(n.code,{children:"DIALOG_STYLE_LIST"}),")."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Nom"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"int"})," playerid"]}),(0,s.jsx)(n.td,{children:"ID du joueur qui a r\xe9pondu au dialog"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"int"})," dialogid"]}),(0,s.jsx)(n.td,{children:"ID du dialog auquel le joueur r\xe9pond, assign\xe9 dans ShowPlayerDialog"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"int"})," response"]}),(0,s.jsx)(n.td,{children:"1 pour le bouton de gauche, 0 pour celui de droite (s'il n'y a qu'un bouton apparent = toujours 1)"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"int"})," listitem"]}),(0,s.jsxs)(n.td,{children:["ID de l'item s\xe9lectionn\xe9 par le joueur _(commence \xe0 0, seulement dans les ",(0,s.jsx)(n.code,{children:"DIALOG_STYLE_LIST"}),", pour le reste c'est -1)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"string"})," inputtext[]"]}),(0,s.jsx)(n.td,{children:"Texte ins\xe9r\xe9 dans la bo\xeete de saisie par le joueur, ou le texte de l'\xe9l\xe9ment de l'item s\xe9lectionn\xe9"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"valeur-de-retour",children:"Valeur de retour"}),"\n",(0,s.jsx)(n.p,{children:"Return 1 \xe0 la fin de chaque bo\xeete de dialogue manipul\xe9e.\nEn revanche, return 0 \xe0 la fin de la callback."}),"\n",(0,s.jsx)(n.h2,{id:"exemple",children:"Exemple"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-c",children:'// Dans un premier temps, d\xe9finir l\'ID du dialog concern\xe9.\n#define DIALOG_REGLES 1\n\n// \xc0 mettre \xe0 la suite d\'une commande, par exemple. Dans notre cas, il s\'agit d\'un style de dialog MSGBOX (n\'affiche qu\'un message).\nShowPlayerDialog(playerid, DIALOG_REGLES, DIALOG_STYLE_MSGBOX, "Serveur / R\xe8glement", "- Pas de cheat\\n- Pas de spam\\n- Respect d\'autrui\\n\\nAcceptez-vous ces r\xe8gles ?", "Oui", "Non !");\n\npublic OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])\n{\n    if (dialogid == DIALOG_REGLES)\n    {\n        if (response) // Si le joueur a cliqu\xe9 sur "Oui"\n        {\n            SendClientMessage(playerid, COLOR_GREEN, "Merci d\'avoir accept\xe9 les r\xe8gles du serveur ! :)");\n        }\n        else // Si le joueur a fait ECHAP ou a cliqu\xe9 sur "Non !"\n        {\n            Kick(playerid);\n        }\n        return 1; // Nous avons manipul\xe9 un dialog, donc return 1. Tout comme dans OnPlayerCommandText.\n    }\n\n    return 0; // Vous DEVEZ faire un return 0! Comme dans OnPlayerCommandText.\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["Les param\xe8tres peuvent changer selon le style de dialog (",(0,s.jsx)(n.a,{href:"../resources/dialogstyles.md",children:"voir plus de styles de dialog"}),")."]})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"Il est important d'avoir plusieurs dialogids, surtout si vous en faites plusieurs."})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:'Le dialog ouvert par un joueur ne se cache pas quand le serveur red\xe9marre, le serveur va afficher "Warning: PlayerDialogResponse PlayerId: 0 dialog ID doesn\'t match last sent dialog ID" si un joueur r\xe9pond \xe0 ce dialog apr\xe8s le red\xe9marrage.'})}),"\n",(0,s.jsx)(n.h2,{id:"fonctions-connexes",children:"Fonctions connexes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"../functions/ShowPlayerDialog.md",children:"ShowPlayerDialog"}),": affiche le Dialog \xe0 un joueur."]}),"\n"]})]})}function c(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},50065:function(e,n,l){l.d(n,{Z:()=>a,a:()=>t});var i=l(67294);let s={},r=i.createContext(s);function t(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["87683"],{38431:function(e,t,a){a.r(t),a.d(t,{frontMatter:()=>i,toc:()=>r,default:()=>h,metadata:()=>n,assets:()=>s,contentTitle:()=>c});var n=JSON.parse('{"id":"scripting/callbacks/OnPlayerEditAttachedObject","title":"OnPlayerEditAttachedObject","description":"Cette callback est appel\xe9e quand un joueur en a fini avec le mode \xe9dition des attach objects.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerEditAttachedObject.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnPlayerEditAttachedObject","permalink":"/fr/docs/scripting/callbacks/OnPlayerEditAttachedObject","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/scripting/callbacks/OnPlayerEditAttachedObject.md","tags":[{"inline":true,"label":"player","permalink":"/fr/docs/tags/player"}],"version":"current","frontMatter":{"title":"OnPlayerEditAttachedObject","sidebar_label":"OnPlayerEditAttachedObject","description":"Cette callback est appel\xe9e quand un joueur en a fini avec le mode \xe9dition des attach objects.","tags":["player"]},"sidebar":"docsSidebar","previous":{"title":"OnPlayerDisconnect","permalink":"/fr/docs/scripting/callbacks/OnPlayerDisconnect"},"next":{"title":"OnPlayerEditObject","permalink":"/fr/docs/scripting/callbacks/OnPlayerEditObject"}}'),d=a(85893),l=a(50065);let i={title:"OnPlayerEditAttachedObject",sidebar_label:"OnPlayerEditAttachedObject",description:"Cette callback est appel\xe9e quand un joueur en a fini avec le mode \xe9dition des attach objects.",tags:["player"]},c=void 0,s={},r=[{value:"Param\xe8tres",id:"param\xe8tres",level:2},{value:"Valeur de retour",id:"valeur-de-retour",level:2},{value:"Exemple",id:"exemple",level:2},{value:"Astuces",id:"astuces",level:2},{value:"Fonctions connexes",id:"fonctions-connexes",level:2}];function o(e){let t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.h2,{id:"param\xe8tres",children:"Param\xe8tres"}),"\n",(0,d.jsx)(t.p,{children:"Cette callback est appel\xe9e quand un joueur en a fini avec le mode \xe9dition des attach objects."}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Name"}),(0,d.jsx)(t.th,{children:"Description"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"int"})," playerid"]}),(0,d.jsx)(t.td,{children:"ID du joueur en mode \xe9dition"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"int"})," EDIT_RESPONSE",":response"]}),(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.strong,{children:"0"})," si annul\xe9 (ECHAP) ou ",(0,d.jsx)(t.strong,{children:"1"})," si le joueur a cliqu\xe9 sur l'ic\xf4ne de sauvegarde."]})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"int"})," index"]}),(0,d.jsx)(t.td,{children:"The index of the attached object (0-9)"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"int"})," modelid"]}),(0,d.jsx)(t.td,{children:"Model de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"int"})," boneid"]}),(0,d.jsx)(t.td,{children:"Bone de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"float"})," Float",":fOffsetX"]}),(0,d.jsx)(t.td,{children:"Offset X de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"float"})," Float",":fOffsetY"]}),(0,d.jsx)(t.td,{children:"Offset Y de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"float"})," Float",":fOffsetZ"]}),(0,d.jsx)(t.td,{children:"Offset Z de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"float"})," Float",":fRotX"]}),(0,d.jsx)(t.td,{children:"Rotation X de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"float"})," Float",":fRotY"]}),(0,d.jsx)(t.td,{children:"Rotation Y de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"float"})," Float",":fRotZ"]}),(0,d.jsx)(t.td,{children:"Rotation Z de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"float"})," Float",":fScaleX"]}),(0,d.jsxs)(t.td,{children:["Scale ",(0,d.jsx)(t.em,{children:"(taille)"})," X de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"]})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"float"})," Float",":fScaleY"]}),(0,d.jsxs)(t.td,{children:["Scale ",(0,d.jsx)(t.em,{children:"(taille)"})," X de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"]})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsxs)(t.td,{children:[(0,d.jsx)(t.code,{children:"float"})," Float",":fScaleZ"]}),(0,d.jsxs)(t.td,{children:["Scale ",(0,d.jsx)(t.em,{children:"(taille)"})," X de l'attach object qui a \xe9t\xe9 \xe9dit\xe9"]})]})]})]}),"\n",(0,d.jsx)(t.h2,{id:"valeur-de-retour",children:"Valeur de retour"}),"\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.strong,{children:"1"})," - Autorise la callback \xe0 \xeatre appel\xe9e par un autre script."]}),"\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.strong,{children:"0"})," - Refuser que la callback soit appel\xe9e ailleurs."]}),"\n",(0,d.jsx)(t.h2,{id:"exemple",children:"Exemple"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-c",children:'enum attached_object_data\n{\n    Float:ao_x,\n    Float:ao_y,\n    Float:ao_z,\n    Float:ao_rx,\n    Float:ao_ry,\n    Float:ao_rz,\n    Float:ao_sx,\n    Float:ao_sy,\n    Float:ao_sz\n}\n\nnew ao[MAX_PLAYERS][MAX_PLAYER_ATTACHED_OBJECTS][attached_object_data];\n\n// Les donn\xe9es doivent \xeatre stock\xe9es dans les array ci-dessus quand les attach objects sont ... attach\xe9s.\n\npublic OnPlayerEditAttachedObject(playerid, EDIT_RESPONSE:response, index, modelid, boneid, Float:fOffsetX, Float:fOffsetY, Float:fOffsetZ, Float:fRotX, Float:fRotY, Float:fRotZ, Float:fScaleX, Float:fScaleY, Float:fScaleZ)\n{\n    if (response)\n    {\n        SendClientMessage(playerid, COLOR_GREEN, "\xc9dition sauvegard\xe9e.");\n\n        ao[playerid][index][ao_x] = fOffsetX;\n        ao[playerid][index][ao_y] = fOffsetY;\n        ao[playerid][index][ao_z] = fOffsetZ;\n        ao[playerid][index][ao_rx] = fRotX;\n        ao[playerid][index][ao_ry] = fRotY;\n        ao[playerid][index][ao_rz] = fRotZ;\n        ao[playerid][index][ao_sx] = fScaleX;\n        ao[playerid][index][ao_sy] = fScaleY;\n        ao[playerid][index][ao_sz] = fScaleZ;\n    }\n    else\n    {\n        SendClientMessage(playerid, COLOR_RED, "\xc9dition abandonn\xe9e.");\n\n        new i = index;\n        SetPlayerAttachedObject(playerid, index, modelid, boneid, ao[playerid][i][ao_x], ao[playerid][i][ao_y], ao[playerid][i][ao_z], ao[playerid][i][ao_rx], ao[playerid][i][ao_ry], ao[playerid][i][ao_rz], ao[playerid][i][ao_sx], ao[playerid][i][ao_sy], ao[playerid][i][ao_sz]);\n    }\n    return 1;\n}\n'})}),"\n",(0,d.jsx)(t.h2,{id:"astuces",children:"Astuces"}),"\n",(0,d.jsx)(t.admonition,{type:"warning",children:(0,d.jsx)(t.p,{children:"L'\xe9dition doit \xeatre abandonn\xe9e si la r\xe9ponse est '0' (cancelled). Cela doit \xeatre fait par le stockage des offsets au pr\xe9alable dans un array."})}),"\n",(0,d.jsx)(t.h2,{id:"fonctions-connexes",children:"Fonctions connexes"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.a,{href:"../functions/EditAttachedObject",children:"EditAttachedObject"}),": \xc9dition d'un attach object."]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.a,{href:"../functions/SetPlayerAttachedObject",children:"SetPlayerAttachedObject"}),": Attache un objet \xe0 un joueur."]}),"\n"]})]})}function h(e={}){let{wrapper:t}={...(0,l.a)(),...e.components};return t?(0,d.jsx)(t,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},50065:function(e,t,a){a.d(t,{Z:()=>c,a:()=>i});var n=a(67294);let d={},l=n.createContext(d);function i(e){let t=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);
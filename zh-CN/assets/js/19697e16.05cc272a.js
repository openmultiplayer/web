"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["46854"],{70099:function(n,e,r){r.r(e),r.d(e,{frontMatter:()=>i,toc:()=>c,default:()=>h,metadata:()=>l,assets:()=>t,contentTitle:()=>d});var l=JSON.parse('{"id":"tutorials/PluginDevelopmentGuide","title":"\u63D2\u4EF6\u5F00\u53D1\u6307\u5357","description":"\u5173\u4E8E\u63D2\u4EF6\u5F00\u53D1\u7684\u6307\u5357","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/tutorials/PluginDevelopmentGuide.md","sourceDirName":"tutorials","slug":"/tutorials/PluginDevelopmentGuide","permalink":"/zh-CN/docs/tutorials/PluginDevelopmentGuide","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/i18n/zh-CN/docusaurus-plugin-content-docs/current/tutorials/PluginDevelopmentGuide.md","tags":[],"version":"current","frontMatter":{"title":"\u63D2\u4EF6\u5F00\u53D1\u6307\u5357","sidebar_label":"\u63D2\u4EF6\u5F00\u53D1\u6307\u5357","description":"\u5173\u4E8E\u63D2\u4EF6\u5F00\u53D1\u7684\u6307\u5357"},"sidebar":"docsSidebar","previous":{"title":"\u62FE\u53D6\u7269\u6307\u5357","permalink":"/zh-CN/docs/tutorials/PickupGuide"},"next":{"title":"\u7AEF\u53E3\u8F6C\u53D1","permalink":"/zh-CN/docs/tutorials/PortForwarding"}}'),s=r(85893),a=r(50065);let i={title:"\u63D2\u4EF6\u5F00\u53D1\u6307\u5357",sidebar_label:"\u63D2\u4EF6\u5F00\u53D1\u6307\u5357",description:"\u5173\u4E8E\u63D2\u4EF6\u5F00\u53D1\u7684\u6307\u5357"},d=void 0,t={},c=[{value:"\u4ECB\u7ECD",id:"\u4ECB\u7ECD",level:2},{value:"\u8FD9\u4E0D\u662F\u4E00\u4E2A C/++\u5E2E\u52A9\u8BBA\u575B",id:"\u8FD9\u4E0D\u662F\u4E00\u4E2A-c\u5E2E\u52A9\u8BBA\u575B",level:2},{value:"\u5E38\u89C1\u95EE\u9898",id:"\u5E38\u89C1\u95EE\u9898",level:2},{value:"\u5FEB\u901F\u95EE\u7B54",id:"\u5FEB\u901F\u95EE\u7B54",level:3},{value:"\u5165\u95E8",id:"\u5165\u95E8",level:2},{value:"\u6E90\u6587\u4EF6 (*.cpp)",id:"\u6E90\u6587\u4EF6-cpp",level:3},{value:"\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6(*.def)",id:"\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6def",level:3},{value:"\u4EE3\u7801\u5206\u6790",id:"\u4EE3\u7801\u5206\u6790",level:2},{value:"\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6",id:"\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6",level:3},{value:"\u4EC0\u4E48\u662F &quot;<strong>EXPORTS</strong>&quot;",id:"\u4EC0\u4E48\u662F-exports",level:4},{value:"\u5BFC\u51FA\u7684\u51FD\u6570",id:"\u5BFC\u51FA\u7684\u51FD\u6570",level:4},{value:"\u5B9A\u4E49\u548C\u7ED3\u6784",id:"\u5B9A\u4E49\u548C\u7ED3\u6784",level:3},{value:"Amx \u51FD\u6570",id:"amx-\u51FD\u6570",level:2},{value:"\u5173\u952E",id:"\u5173\u952E",level:3},{value:"amx_Allot",id:"amx_allot",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5",level:3},{value:"amx_ctof",id:"amx_ctof",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-1",level:3},{value:"amx_Exec",id:"amx_exec",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-2",level:3},{value:"amx_FindPublic",id:"amx_findpublic",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-3",level:3},{value:"amx_ftoc",id:"amx_ftoc",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-4",level:3},{value:"amx_GetAddr",id:"amx_getaddr",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-5",level:3},{value:"amx_GetString",id:"amx_getstring",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-6",level:3},{value:"amx_Push",id:"amx_push",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-7",level:3},{value:"amx_PushArray",id:"amx_pusharray",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-8",level:3},{value:"amx_PushString",id:"amx_pushstring",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-9",level:3},{value:"amx_Register",id:"amx_register",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-10",level:3},{value:"amx_Release",id:"amx_release",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-11",level:3},{value:"amx_SetString",id:"amx_setstring",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-12",level:3},{value:"amx_StrLen",id:"amx_strlen",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-13",level:3},{value:"amx_StrParam",id:"amx_strparam",level:2},{value:"\u8BED\u6CD5",id:"\u8BED\u6CD5-14",level:3},{value:"Amx \u51FD\u6570\u793A\u4F8B",id:"amx-\u51FD\u6570\u793A\u4F8B",level:2},{value:"\u6CE8\u518C\u672C\u5730\u51FD\u6570",id:"\u6CE8\u518C\u672C\u5730\u51FD\u6570",level:3},{value:"\u83B7\u53D6\u5B57\u7B26\u4E32\u53CA\u5176\u957F\u5EA6",id:"\u83B7\u53D6\u5B57\u7B26\u4E32\u53CA\u5176\u957F\u5EA6",level:3},{value:"\u83B7\u53D6\u5B57\u7B26\u4E32\u7684\u66FF\u4EE3\u65B9\u6CD5",id:"\u83B7\u53D6\u5B57\u7B26\u4E32\u7684\u66FF\u4EE3\u65B9\u6CD5",level:3},{value:"\u5982\u4F55\u8BBE\u7F6E\u4E00\u4E2A\u5B57\u7B26\u4E32",id:"\u5982\u4F55\u8BBE\u7F6E\u4E00\u4E2A\u5B57\u7B26\u4E32",level:3},{value:"\u7C7B\u578B\u8F6C\u6362\u5E76\u8FD4\u56DE\u6D6E\u70B9\u6570",id:"\u7C7B\u578B\u8F6C\u6362\u5E76\u8FD4\u56DE\u6D6E\u70B9\u6570",level:3},{value:"\u901A\u8FC7\u5F15\u7528\u4F20\u9012\u53C2\u6570",id:"\u901A\u8FC7\u5F15\u7528\u4F20\u9012\u53C2\u6570",level:3},{value:"\u83B7\u53D6\u548C\u4FEE\u6539\u6570\u7EC4\u503C",id:"\u83B7\u53D6\u548C\u4FEE\u6539\u6570\u7EC4\u503C",level:3},{value:"\u8C03\u7528\u56DE\u8C03\u51FD\u6570",id:"\u8C03\u7528\u56DE\u8C03\u51FD\u6570",level:3},{value:"\u8C03\u7528\u539F\u751F\u51FD\u6570\u548C\u6302\u94A9\u56DE\u8C03\u51FD\u6570",id:"\u8C03\u7528\u539F\u751F\u51FD\u6570\u548C\u6302\u94A9\u56DE\u8C03\u51FD\u6570",level:2},{value:"Invoke",id:"invoke",level:3},{value:"\u5F00\u59CB",id:"\u5F00\u59CB",level:4},{value:"\u6DFB\u52A0 SA-MP \u539F\u751F\u51FD\u6570",id:"\u6DFB\u52A0-sa-mp-\u539F\u751F\u51FD\u6570",level:4},{value:"\u8C03\u7528\u539F\u751F\u51FD\u6570",id:"\u8C03\u7528\u539F\u751F\u51FD\u6570",level:4},{value:"\u6302\u94A9\u56DE\u8C03\u51FD\u6570",id:"\u6302\u94A9\u56DE\u8C03\u51FD\u6570",level:3},{value:"\u7ED3\u675F\u8BED",id:"\u7ED3\u675F\u8BED",level:2},{value:"\u63D2\u4EF6 include",id:"\u63D2\u4EF6-include",level:3},{value:"Plugin source code",id:"plugin-source-code",level:3},{value:"\u7279\u522B\u611F\u8C22",id:"\u7279\u522B\u611F\u8C22",level:2}];function x(n){let e={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h2,{id:"\u4ECB\u7ECD",children:"\u4ECB\u7ECD"}),"\n",(0,s.jsx)(e.p,{children:"\u6211\u51B3\u5B9A\u521B\u5EFA\u8FD9\u4E2A\u4E3B\u9898\u6765\u89E3\u51B3\u6709\u5173\u63D2\u4EF6\u5F00\u53D1\u7684\u5E38\u89C1\u95EE\u9898\u548C\u7591\u95EE. \u867D\u7136\u6211\u5E76\u4E0D\u662F C/++\u6216\u63D2\u4EF6 SDK \u65B9\u9762\u7684\u4E13\u5BB6, \u4F46\u6211\u4F1A\u5206\u4EAB\u6211\u5728\u5F00\u53D1\u63D2\u4EF6\u65F6\u6240\u5B66\u5230\u7684\u4E1C\u897F. \u5E0C\u671B\u8FD9\u4E2A\u4E3B\u9898\u5B8C\u6210\u540E\u80FD\u591F\u6210\u4E3A\u4E00\u4E2A\u7FA4\u4F53\u9879\u76EE, \u5176\u4ED6\u7528\u6237\u53EF\u4EE5\u8D21\u732E\u4E00\u4E9B\u6211\u53EF\u80FD\u4E0D\u77E5\u9053\u6216\u8005\u5FD8\u8BB0\u5305\u542B\u7684\u4FE1\u606F. \u8981\u6DB5\u76D6\u8FD9\u4E48\u5927\u7684\u4E00\u4E2A\u8BDD\u9898, \u6211\u9700\u8981\u4E00\u4E9B\u5E2E\u52A9."}),"\n",(0,s.jsx)(e.h2,{id:"\u8FD9\u4E0D\u662F\u4E00\u4E2A-c\u5E2E\u52A9\u8BBA\u575B",children:"\u8FD9\u4E0D\u662F\u4E00\u4E2A C/++\u5E2E\u52A9\u8BBA\u575B"}),"\n",(0,s.jsxs)(e.p,{children:['\u4EBA\u4EEC\u5728\u9605\u8BFB\u8FD9\u7BC7\u6587\u7AE0\u65F6\u4F3C\u4E4E\u975E\u5E38\u56F0\u60D1. \u6211\u770B\u5230\u5F88\u591A\u4EBA\u5728\u63D0\u51FA\u5173\u4E8E\u63D2\u4EF6 SDK \u7684\u5B8C\u5168\u5408\u7406\u7684\u95EE\u9898\u65F6, \u6536\u5230\u4E86\u5927\u91CF\u7684"\u8FD9\u4E0D\u662F C/++\u5E2E\u52A9\u8BBA\u575B\uFF01"\u7684\u56DE\u590D. \u4EC5\u4EC5\u56E0\u4E3A\u4EBA\u4EEC\u88AB\u671F\u671B\u638C\u63E1\u8FD9\u4E9B\u8BED\u8A00, \u5E76',(0,s.jsx)(e.strong,{children:"\u4E0D"}),'\u610F\u5473\u7740\u4ED6\u4EEC\u4E0D\u80FD\u5C31\u5B9E\u9645\u7684 SDK \u63D0\u95EE\uFF01\u95EE"\u6307\u9488\u662F\u4EC0\u4E48"\u548C\u95EE"\u5982\u4F55\u521B\u5EFA\u56DE\u8C03\u51FD\u6570"\u662F\u6709\u533A\u522B\u7684\uFF01']}),"\n",(0,s.jsx)(e.p,{children:"\u8BDD\u867D\u5982\u6B64, \u4EE5\u4E0B\u6709\u4E00\u4E9B\u4F18\u79C0\u7684\u7F51\u7AD9\u548C\u8BBA\u575B\u4E13\u95E8\u7528\u4E8E\u6559\u6388\u548C\u89E3\u7B54\u5173\u4E8E C/++\u7684\u95EE\u9898. \u6211\u81EA\u5DF1\u4E5F\u4F7F\u7528\u8FC7\u8FD9\u4E9B\u7F51\u7AD9\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"\u8FD9\u4E9B\u7F51\u7AD9\u6709\u5F88\u68D2\u7684\u6559\u7A0B\u4F9B\u5B66\u4E60\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"cprogramming.com"}),"\n",(0,s.jsx)(e.p,{children:"cplusplus.com"}),"\n",(0,s.jsx)(e.p,{children:"learncpp.com"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679C\u4F60\u5728 C/++\u95EE\u9898\u4E0A\u9047\u5230\u56F0\u96BE, \u4F60\u53EF\u4EE5\u5728\u4EE5\u4E0B\u8BBA\u575B\u5BFB\u6C42\u5E2E\u52A9\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"dreamincode.net"}),"\n",(0,s.jsx)(e.p,{children:"stackoverflow.com"}),"\n",(0,s.jsx)(e.h2,{id:"\u5E38\u89C1\u95EE\u9898",children:"\u5E38\u89C1\u95EE\u9898"}),"\n",(0,s.jsx)(e.h3,{id:"\u5FEB\u901F\u95EE\u7B54",children:"\u5FEB\u901F\u95EE\u7B54"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u95EE\u9898\uFF1A"})," \u63D2\u4EF6\u662F\u5982\u4F55\u5236\u4F5C\u7684\uFF1F"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u56DE\u7B54\uFF1A"})," \u63D2\u4EF6\u662F\u7528 C/++\u548C\u63D2\u4EF6 SDK \u5236\u4F5C\u7684. \u672C FAQ \u5047\u8BBE\u4F60\u5DF2\u7ECF\u4E86\u89E3 C/++, \u7A0D\u540E\u5728\u6587\u7AE0\u4E2D\u4F1A\u63D0\u4F9B\u4E00\u4E9B\u5173\u4E8E\u5B9E\u9645 SDK \u7684\u4FE1\u606F."]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u95EE\u9898\uFF1A"})," \u6211\u53EF\u4EE5\u7528 C/++\u4EE5\u5916\u7684\u7F16\u7A0B\u8BED\u8A00\u521B\u5EFA\u63D2\u4EF6\u5417\uFF1F"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u56DE\u7B54\uFF1A"})," \u7406\u8BBA\u4E0A\u662F\u53EF\u80FD\u7684. \u66FE\u7ECF\u6709\u4EBA\u5C1D\u8BD5\u5C06 SA-MP \u63D2\u4EF6 SDK \u79FB\u690D\u5230\u652F\u6301 C \u5E94\u7528\u7A0B\u5E8F\u4E8C\u8FDB\u5236\u63A5\u53E3\u7684 D \u7F16\u7A0B\u8BED\u8A00. \u867D\u7136\u6211\u4ECE\u672A\u89C1\u8FC7\u4E00\u4E2A\u5B8C\u5168\u5DE5\u4F5C\u7684 D \u8BED\u8A00\u63D2\u4EF6, \u4F46\u8FD9\u4E2A\u4F8B\u5B50\u8BA9\u6211\u4EEC\u770B\u5230\u4F7F\u7528\u652F\u6301 C/++\u7684\u8BED\u8A00\u7F16\u5199\u63D2\u4EF6\u7684\u53EF\u80FD\u6027. \u4E5F\u6709\u4EBA\u8BA8\u8BBA\u8FC7\u7ED1\u5B9A\u7684\u53EF\u80FD\u6027, \u4F46\u6211\u8FD8\u6CA1\u6709\u770B\u5230\u4EFB\u4F55\u5B9E\u9645\u7684\u652F\u6301."]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u95EE\u9898\uFF1A"})," \u6211\u5982\u4F55\u8BA9\u6211\u7684\u63D2\u4EF6\u5B9E\u73B0\u8DE8\u5E73\u53F0(\u5728 Linux \u548C Windows \u4E0A\u90FD\u53EF\u7528)\uFF1F"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u56DE\u7B54\uFF1A"})," Linux \u548C Windows \u662F\u4E24\u4E2A\u4E0D\u540C\u7684\u64CD\u4F5C\u7CFB\u7EDF, \u5B83\u4EEC\u5404\u81EA\u6709\u4E0D\u540C\u7684 API \u548C\u5B9E\u73B0. \u8BA9\u4F60\u7684\u4EE3\u7801\u5728\u8FD9\u4E24\u79CD\u5E73\u53F0\u4E0A\u90FD\u80FD\u8FD0\u884C\u610F\u5473\u7740\u4F60\u5FC5\u987B\u4F7F\u7528\u4E0E\u5E73\u53F0\u65E0\u5173\u7684\u4EE3\u7801, \u6216\u8005\u4F7F\u7528\u67D0\u79CD\u6846\u67B6\u6765\u5904\u7406\u4E0E\u5E73\u53F0\u76F8\u5173\u7684\u6240\u6709\u95EE\u9898. \u5728\u786E\u4FDD\u4F60\u7684\u4EE3\u7801\u4E0D\u4F9D\u8D56\u4E8E\u4EFB\u4F55\u7279\u5B9A API \u540E, \u4F60\u53EA\u9700\u5728\u4F60\u6240\u9009\u62E9\u7684\u73AF\u5883\u4E2D\u7F16\u8BD1\u4EE3\u7801\u5373\u53EF(\u518D\u6B21\u8BF4\u660E, \u672C\u6307\u5357\u5047\u8BBE\u4F60\u77E5\u9053\u5982\u4F55\u505A\u8FD9\u4E9B)."]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u95EE\u9898\uFF1A"})," \u6211\u7684\u63D2\u4EF6\u53EF\u4EE5\u4F7F\u7528\u5185\u5B58\u7834\u89E3\u5417\uFF1F"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u56DE\u7B54\uFF1A"})," \u8BF4\u5B9E\u8BDD, \u8FD9\u662F\u4E00\u4E2A\u7070\u8272\u5730\u5E26. \u4F7F\u7528\u5185\u5B58\u7834\u89E3\u6765\u6302\u94A9\u56DE\u8C03\u6216\u8C03\u7528\u51FD\u6570\u4F3C\u4E4E\u662F\u5B8C\u5168\u53EF\u4EE5\u63A5\u53D7\u7684. \u800C\u4EFB\u4F55\u4FEE\u6539\u670D\u52A1\u5668\u5185\u5B58\u7684\u884C\u4E3A\u4F3C\u4E4E\u90FD\u662F\u4E0D\u88AB\u5141\u8BB8\u7684(\u53C2\u89C1\u6B64\u5904). \u5982\u679C\u4F60\u8BA1\u5212\u5236\u4F5C\u4E00\u4E2A\u9700\u8981\u4F7F\u7528\u5185\u5B58\u7834\u89E3\u7684\u63D2\u4EF6(\u4E0D\u53EA\u662F\u7528\u4E8E\u6302\u94A9\u56DE\u8C03\u6216\u8C03\u7528\u51FD\u6570), \u8BF7\u63D0\u524D\u7533\u8BF7\u5E76\u83B7\u5F97\u6279\u51C6\u540E\u518D\u53D1\u5E03\uFF1B\u8FD9\u786E\u5B9E\u662F\u627E\u51FA\u7B54\u6848\u7684\u6700\u4F73\u65B9\u5F0F\uFF01"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u95EE\u9898\uFF1A"})," \u80FD\u5426\u5236\u4F5C\u4E00\u4E2A**______**\u7684\u63D2\u4EF6\uFF1F"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u56DE\u7B54\uFF1A"})," \u5728\u5927\u591A\u6570\u60C5\u51B5\u4E0B, \u4EFB\u4F55\u60F3\u6CD5\u90FD\u662F\u5B8C\u5168\u53EF\u4EE5\u5B9E\u73B0\u7684. \u5B83\u53EF\u80FD\u9700\u8981\u4E00\u4E2A\u4E0E\u63D2\u4EF6\u901A\u4FE1\u7684\u72EC\u7ACB\u5E94\u7528\u7A0B\u5E8F, \u4F46\u5927\u591A\u6570\u60C5\u51B5\u4E0B\u662F\u53EF\u4EE5\u5B9E\u73B0\u7684. \u50CF\u8FD9\u6837\u7684\u63D0\u95EE",(0,s.jsx)(e.strong,{children:"\u4E0D"}),"\u5E94\u8BE5\u88AB\u53D1\u5E03. \u4F60\u5DF2\u7ECF\u542C\u5230\u4E86\u7B54\u6848, \u73B0\u5728\u7EE7\u7EED\u5427\uFF01\u8FD9\u4E0D\u662F\u4E00\u4E2A\u63D2\u4EF6\u8BF7\u6C42\u533A. \u5E0C\u671B\u6709\u4E00\u5929\u4F1A\u6709\u8DB3\u591F\u591A\u7684\u63D2\u4EF6\u5F00\u53D1\u8005\u53EF\u4EE5\u6709\u4E00\u4E2A\u4E13\u95E8\u7684\u8BF7\u6C42\u533A\u6216\u56FA\u5B9A\u4E3B\u9898(\u672C\u6307\u5357\u65E8\u5728\u4ECB\u7ECD\u548C\u5E2E\u52A9\u65B0\u7684\u63D2\u4EF6\u5F00\u53D1\u8005, \u6240\u4EE5\u8BA9\u6211\u4EEC\u62ED\u76EE\u4EE5\u5F85)."]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u95EE\u9898\uFF1A"})," \u6211\u5E94\u8BE5\u4E3A**______**\u4F7F\u7528\u4EC0\u4E48 IDE/\u7F16\u8BD1\u5668\uFF1F"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u56DE\u7B54\uFF1A"})," \u8FD9\u5B8C\u5168\u53D6\u51B3\u4E8E\u4F60\u81EA\u5DF1\uFF01\u6211\u4E2A\u4EBA\u5728 Windows \u4E0B\u4F1A\u4F7F\u7528 VC++ 2010 Express \u4F5C\u4E3A\u6211\u7684 IDE \u548C\u7F16\u8BD1\u5668, \u8BA1\u5212\u5728 Linux \u4E0B\u4F7F\u7528 g++\u4F5C\u4E3A\u6211\u7684\u7F16\u8BD1\u5668. \u8BD5\u7528\u4E0D\u540C\u7684\u9009\u9879, \u770B\u770B\u54EA\u4E2A\u6700\u9002\u5408\u4F60\uFF01"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u95EE\u9898\uFF1A"})," \u4EC0\u4E48\u662F\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6(.def)\uFF1F"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u56DE\u7B54\uFF1A"}),' \u6A21\u5757\u5B9A\u4E49\u6587\u4EF6\u662F Visual Studio IDE \u4E2D\u7684\u4E00\u4E2A\u7279\u6B8A\u6587\u4EF6, \u5B83\u4E3A\u94FE\u63A5\u5668\u63D0\u4F9B\u6709\u5173\u6B63\u5728\u94FE\u63A5\u7684\u7A0B\u5E8F\u7684\u4FE1\u606F. \u5728\u4E3A SA-MP \u7F16\u5199\u63D2\u4EF6\u65F6, \u6211\u4EEC\u901A\u5E38\u53EA\u4F7F\u7528"EXPORTS"\u8BED\u53E5, \u5B83\u63D0\u4F9B\u4E86\u6709\u5173\u6211\u4EEC\u5BFC\u51FA\u51FD\u6570\u7684\u4FE1\u606F. \u6211\u4EEC\u5C06\u5728\u6587\u7AE0\u7684\u540E\u9762\u90E8\u5206\u8BA8\u8BBA\u8FD9\u4E2A\u8BED\u53E5.']}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u95EE\u9898\uFF1A"})," \u5F53\u6211\u53D1\u5E03\u4E00\u4E2A\u63D2\u4EF6\u65F6, \u662F\u5426\u5FC5\u987B\u5305\u542B\u6E90\u4EE3\u7801\uFF1F"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u56DE\u7B54\uFF1A"})," \u5982\u679C\u4F60\u5728\u8FD9\u4E2A\u8BBA\u575B\u4E0A\u53D1\u5E03\u4EFB\u4F55\u4E1C\u897F, \u5B83",(0,s.jsx)(e.strong,{children:"\u603B\u662F"}),"\u5FC5\u987B\u5305\u542B\u6E90\u4EE3\u7801. \u63D2\u4EF6\u4E5F\u4E0D\u4F8B\u5916(\u9664\u975E\u63D2\u4EF6\u88AB\u5F00\u53D1\u8005\u6279\u51C6\u53EF\u4EE5\u4E0D\u9644\u5E26\u6E90\u4EE3\u7801\u53D1\u5E03\u2014\u2014\u6BD4\u5982\u53CD\u4F5C\u5F0A\u63D2\u4EF6)."]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u5165\u95E8",children:"\u5165\u95E8"}),"\n",(0,s.jsx)(e.p,{children:'\u4F60\u53EF\u80FD\u4F1A\u60CA\u8BB6\u4E8E\u6211\u88AB\u95EE\u5230"\u5982\u4F55\u5F00\u59CB\u63D2\u4EF6\u5F00\u53D1\uFF1F"\u7684\u6B21\u6570\u4E4B\u591A. \u56E0\u6B64, \u6211\u51B3\u5B9A\u4E13\u95E8\u589E\u52A0\u8FD9\u4E00\u6574\u4E2A\u7AE0\u8282\u6765\u89E3\u7B54\u8FD9\u4E2A\u95EE\u9898\uFF01\u4EC5\u4EC5\u77E5\u9053\u7F16\u7A0B\u8BED\u8A00\u5E76\u4E0D\u610F\u5473\u7740\u4F60\u4E86\u89E3 IDE \u7684\u4F7F\u7528, \u5C24\u5176\u662F\u5728\u4F7F\u7528 VC++ 2010 \u65F6. \u5BF9\u4E8E\u65B0\u7528\u6237\u6765\u8BF4, Visual Studio \u53EF\u80FD\u662F\u4E00\u4E2A\u975E\u5E38\u4EE4\u4EBA\u751F\u754F\u7684\u73AF\u5883. \u6211\u89C9\u5F97\u76F4\u63A5\u7ED9\u4F60\u63D2\u4EF6 SDK \u800C\u4E0D\u5148\u5E26\u4F60\u719F\u6089\u73AF\u5883\u662F\u4E0D\u516C\u5E73\u7684\uFF01\u5F04\u9519\u4E86\u5C5E\u6027\u9875\u6216\u94FE\u63A5\u5668\u8BBE\u7F6E\u53EF\u80FD\u4F1A\u8F7B\u6613\u5413\u8DD1\u65B0\u624B, \u6240\u4EE5\u6211\u4F1A\u5F15\u5BFC\u4F60\u5B8C\u6210\u8FD9\u4E9B\u6B65\u9AA4.'}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u6CE8\u610F\uFF1A"})," \u5982\u679C\u4F60\u9009\u62E9\u4F7F\u7528\u5176\u4ED6\u9488\u5BF9 Windows \u7684 IDE/\u7F16\u8BD1\u5668, \u90A3\u4F60\u53EF\u80FD\u4F1A\u9047\u5230\u9EBB\u70E6\uFF01\u770B\u8D77\u6765\u552F\u4E00\u80FD\u591F\u6210\u529F\u5BFC\u51FA\u51FD\u6570\u7684\u65B9\u6CD5\u662F\u4F7F\u7528\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6(.DEF). \u6211\u5C1D\u8BD5\u5728\u672C\u6587\u4E2D\u5305\u542B\u4E00\u79CD\u4F7F\u7528 __declspec(dllexport) \u7684\u66FF\u4EE3\u65B9\u6CD5, \u4F46\u7531\u4E8E __stdcall \u8C03\u7528\u7EA6\u5B9A\u4F1A\u6539\u53D8\u5BFC\u51FA\u51FD\u6570\u7684\u540D\u79F0, \u8FD9\u79CD\u65B9\u6CD5\u5E76\u672A\u6210\u529F (\u53C2\u89C1: ",(0,s.jsx)(e.a,{href:"https://pastebin.com/y3xkVY70",children:"\u6B64\u5904"}),")."]}),"\n",(0,s.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u672C\u8282\u4E2D\u4F60\u9700\u8981\u4E0B\u8F7D\u7684\u5185\u5BB9\uFF1A"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Visual C++ 2010 Express:"})," ",(0,s.jsx)(e.a,{href:"https://visualstudio.microsoft.com/vs/express/",children:"\u514D\u8D39\u4E0B\u8F7D"})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u63D2\u4EF6 SDK (Plain):"})," ",(0,s.jsx)(e.a,{href:"https://github.com/maddinat0r/samp-plugin-sdk",children:"\u4E0B\u8F7D"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u6211\u4EEC\u9996\u5148\u9700\u8981\u505A\u7684\u662F\u521B\u5EFA\u4E00\u4E2A\u65B0\u9879\u76EE. \u9009\u62E9\u6587\u4EF6->\u65B0\u5EFA->\u9879\u76EE\u6765\u521B\u5EFA."}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u521B\u5EFA\u65B0\u9879\u76EE\u540E, \u5B83\u4F1A\u8BE2\u95EE\u4F60\u6B63\u5728\u521B\u5EFA\u7684\u9879\u76EE\u7C7B\u578B. \u9009\u62E9 Win32 \u9879\u76EE, \u8F93\u5165\u9879\u76EE\u540D\u79F0, \u7136\u540E\u70B9\u51FB OK \u7EE7\u7EED."}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:'\u8BBE\u7F6E\u9879\u76EE\u540E, \u5E94\u8BE5\u4F1A\u51FA\u73B0\u8FD9\u4E2A\u5BF9\u8BDD\u6846. \u6309\u4E0B"\u4E0B\u4E00\u6B65"\u7EE7\u7EED.'}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:'\u70B9\u51FB"\u7EE7\u7EED"\u540E, \u4F60\u5E94\u8BE5\u4F1A\u770B\u5230\u8FD9\u4E2A\u5F39\u51FA\u5BF9\u8BDD\u6846, \u8BE2\u95EE\u5E94\u7528\u7A0B\u5E8F\u7C7B\u578B\u548C\u8BBE\u7F6E. \u5BF9\u4E8E\u7C7B\u578B, \u9009\u62E9 DLL(\u52A8\u6001\u94FE\u63A5\u5E93), \u5BF9\u4E8E\u8BBE\u7F6E, \u9009\u62E9"\u7A7A\u9879\u76EE". \u5B8C\u6210\u540E, \u70B9\u51FB\u5E95\u90E8\u7684\u5B8C\u6210\u6309\u94AE.'}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:'\u63A5\u4E0B\u6765\u6211\u4EEC\u9700\u8981\u8FDB\u5165\u89E3\u51B3\u65B9\u6848\u8D44\u6E90\u7BA1\u7406\u5668. \u89E3\u51B3\u65B9\u6848\u8D44\u6E90\u7BA1\u7406\u5668\u901A\u5E38\u5728 IDE \u7684\u5DE6\u4FA7. \u5982\u679C\u4F60\u4E0D\u5C0F\u5FC3\u7981\u7528\u4E86\u5B83, \u53EF\u4EE5\u901A\u8FC7\u6309\u4E0B CTRL+ALT+L \u6216\u9009\u62E9\u89C6\u56FE->\u5176\u4ED6\u7A97\u53E3->\u89E3\u51B3\u65B9\u6848\u8D44\u6E90\u7BA1\u7406\u5668\u91CD\u65B0\u542F\u7528. \u4E00\u65E6\u627E\u5230\u89E3\u51B3\u65B9\u6848\u8D44\u6E90\u7BA1\u7406\u5668, \u53F3\u952E\u70B9\u51FB\u9879\u76EE\u540D\u79F0(\u5728\u6B64\u4F8B\u4E2D\u4E3A"Test")\u5E76\u9009\u62E9\u5C5E\u6027.'}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:'\u5728\u5C5E\u6027\u9875\u4E2D, \u5BFC\u822A\u5230\u914D\u7F6E\u5C5E\u6027->\u94FE\u63A5\u5668->\u8F93\u5165. \u5230\u8FBE\u6B64\u5904\u540E, \u4F60\u9700\u8981\u6DFB\u52A0\u4E00\u4E2A\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6. \u4F60\u53EF\u4EE5\u968F\u610F\u547D\u540D\u8FD9\u4E2A\u6587\u4EF6, \u53EA\u8981\u5B83\u7684\u6269\u5C55\u540D\u662F".def"\uFF1B\u4EBA\u4EEC\u901A\u5E38\u7528\u9879\u76EE\u540D\u79F0\u547D\u540D def \u6587\u4EF6. \u547D\u540D\u597D\u5B9A\u4E49\u6587\u4EF6\u540E, \u6309\u4E0B OK.'}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:'\u73B0\u5728\u6211\u4EEC\u53EA\u9700\u6DFB\u52A0\u6211\u4EEC\u7684\u6587\u4EF6(\u5305\u62EC\u5B9A\u4E49\u6587\u4EF6). \u8981\u5C06\u6587\u4EF6\u6DFB\u52A0\u5230\u9879\u76EE\u4E2D, \u518D\u6B21\u5BFC\u822A\u5230\u89E3\u51B3\u65B9\u6848\u8D44\u6E90\u7BA1\u7406\u5668, \u53F3\u952E\u70B9\u51FB\u9879\u76EE\u540D\u79F0, \u9009\u62E9\u6DFB\u52A0, \u7136\u540E\u9009\u62E9\u65B0\u5EFA\u9879. \u5728\u6B64\u793A\u4F8B\u4E2D, \u6211\u4EEC\u5C06\u6DFB\u52A0\u6211\u4EEC\u7684\u5B9A\u4E49\u6587\u4EF6. \u7531\u4E8E\u6CA1\u6709\u5B9A\u4E49\u6587\u4EF6\u7684\u9009\u9879, \u53EA\u9700\u9009\u62E9\u6E90\u6587\u4EF6(.cpp)\u5E76\u8F93\u5165\u4F60\u51B3\u5B9A\u7684\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6\u540D\u79F0(\u6CE8\u610F\uFF1A\u786E\u4FDD\u5305\u542B".def"\u6269\u5C55\u540D, \u5426\u5219\u5C06\u4F1A\u6DFB\u52A0".cpp"\u6269\u5C55\u540D). \u5B8C\u6210\u6B64\u64CD\u4F5C\u540E, \u4EE5\u76F8\u540C\u65B9\u5F0F\u6DFB\u52A0\u9879\u76EE\u7684\u6E90\u6587\u4EF6(\u4F46\u4E0D\u6DFB\u52A0\u6269\u5C55\u540D). \u5927\u591A\u6570\u4EBA\u5C06\u4ED6\u4EEC\u7684\u4E3B\u6E90\u6587\u4EF6\u547D\u540D\u4E3A"Main".'}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u5728\u5F00\u59CB\u5411\u4E24\u4E2A\u7A7A\u6587\u4EF6\u4E2D\u6DFB\u52A0\u4EFB\u4F55\u5185\u5BB9\u4E4B\u524D, \u6211\u4EEC\u9700\u8981\u5C06 SDK \u6DFB\u52A0\u5230\u9879\u76EE\u4E2D. \u5982\u679C\u4F60\u8FD8\u6CA1\u6709\u4E0B\u8F7D, \u53EF\u4EE5\u901A\u8FC7\u672C\u8282\u5F00\u59CB\u65F6\u63D0\u4F9B\u7684\u94FE\u63A5\u4E0B\u8F7D SDK. \u4E0B\u8F7D\u5B8C\u6210\u540E, \u5C06 SDK \u6587\u4EF6\u5939\u89E3\u538B\u5230\u5F53\u524D\u9879\u76EE\u76EE\u5F55\u4E2D. \u6CE8\u610F, \u8FD9\u90E8\u5206\u662F\u53EF\u9009\u7684\uFF1A\u6211\u4E2A\u4EBA\u559C\u6B22\u521B\u5EFA\u8FC7\u6EE4\u5668\u6765\u7EC4\u7EC7\u6240\u6709\u6587\u4EF6\u548C\u4EE3\u7801. \u8FC7\u6EE4\u5668\u662F Visual Studio \u4E2D\u7684\u4E00\u79CD\u7EC4\u7EC7\u5DE5\u5177, \u5B83\u4F1A\u5728\u9879\u76EE\u4E2D\u521B\u5EFA\u6587\u4EF6\u5939, \u4F46\u4E0D\u4F1A\u5728 Windows \u4E2D\u521B\u5EFA\u76F8\u5E94\u7684\u6587\u4EF6\u5939(\u5EFA\u8BAE\u521B\u5EFA\u5BF9\u5E94\u7684 Windows \u6587\u4EF6\u5939). \u8981\u521B\u5EFA\u8FC7\u6EE4\u5668, \u53F3\u952E\u70B9\u51FB\u89E3\u51B3\u65B9\u6848\u8D44\u6E90\u7BA1\u7406\u5668\u4E2D\u7684\u9879\u76EE->\u6DFB\u52A0->\u65B0\u5EFA\u8FC7\u6EE4\u5668\u5E76\u9009\u62E9\u8FC7\u6EE4\u5668\u540D\u79F0(\u5728\u6B64\u4F8B\u4E2D\u547D\u540D\u4E3A SDK)."}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u4E0B\u4E00\u6B65\u662F\u5C06\u6240\u6709 SDK \u6587\u4EF6\u6DFB\u52A0\u5230\u5F53\u524D\u9879\u76EE\u4E2D. \u8981\u5C06\u73B0\u6709\u6587\u4EF6\u6DFB\u52A0\u5230\u9879\u76EE\u4E2D, \u53EA\u9700\u53F3\u952E\u70B9\u51FB\u4F60\u5E0C\u671B\u6DFB\u52A0\u5230\u7684\u6587\u4EF6\u5939\u6216\u9879\u76EE, \u7136\u540E\u9009\u62E9\u6DFB\u52A0->\u73B0\u6709\u9879. \u4F60\u9700\u8981\u5C06\u9879\u76EE\u76EE\u5F55\u4E2D SDK \u6587\u4EF6\u5939\u5185\u7684\u6240\u6709\u5185\u5BB9\u6DFB\u52A0\u8FDB\u53BB(\u6CE8\u610F\uFF1A\u4F60\u53EF\u4EE5\u901A\u8FC7\u6309\u4F4F Ctrl \u952E\u5E76\u70B9\u51FB\u6587\u4EF6\u6765\u9009\u62E9\u591A\u4E2A\u6587\u4EF6). \u4E3A\u4E86\u4FDD\u6301\u6587\u4EF6\u5939\u4E00\u81F4\u6027, \u6211\u4EEC\u5C06\u5728 SDK \u8FC7\u6EE4\u5668\u5185\u521B\u5EFA\u53E6\u4E00\u4E2A\u8FC7\u6EE4\u5668, \u5E76\u5C06\u5176\u547D\u540D\u4E3A amx. \u5F53\u7136, \u4F60\u9700\u8981\u5C06 SDK\\amx\\\u6587\u4EF6\u5939\u4E2D\u7684\u6240\u6709\u5185\u5BB9\u6DFB\u52A0\u5230 amx \u8FC7\u6EE4\u5668\u4E2D."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"\u73B0\u5728\u662F\u65F6\u5019\u7F16\u8BD1\u8FD9\u4E2A\u63D2\u4EF6\u4E86\uFF01\u5982\u679C\u4F60\u6B63\u786E\u9075\u5FAA\u4E86\u8BF4\u660E, \u5E94\u8BE5\u5DF2\u7ECF\u6253\u5F00\u4E86\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6\u548C\u6E90\u6587\u4EF6\uFF1B\u5982\u679C\u6CA1\u6709, \u8BF7\u8FD4\u56DE\u51E0\u6B65\u5E76\u4ED4\u7EC6\u6309\u7167\u8BF4\u660E\u64CD\u4F5C. \u63A5\u4E0B\u6765\u5C06\u4EE5\u4E0B\u4FE1\u606F\u590D\u5236\u5E76\u7C98\u8D34\u5230\u5BF9\u5E94\u7684\u6587\u4EF6\u4E2D. \u5982\u679C\u4E0D\u7406\u89E3\u5176\u4E2D\u7684\u5185\u5BB9\u4E5F\u4E0D\u8981\u62C5\u5FC3, \u6211\u4EEC\u5C06\u5728\u4E0B\u4E00\u8282\u4E2D\u8BE6\u7EC6\u8BB2\u89E3."}),"\n",(0,s.jsx)(e.h3,{id:"\u6E90\u6587\u4EF6-cpp",children:"\u6E90\u6587\u4EF6 (*.cpp)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'#include "SDK\\amx\\amx.h"\n#include "SDK\\plugincommon.h"\n\n\ntypedef void (*logprintf_t)(const char* format, ...);\nlogprintf_t logprintf;\nextern void *pAMXFunctions;\n\n\ncell AMX_NATIVE_CALL HelloWorld(AMX* amx, cell* params)\n{\n    logprintf("\u8FD9\u662F\u4ECE\u6D4B\u8BD5\u63D2\u4EF6\u4E2D\u6253\u5370\u51FA\u6765\u7684!");\n    return 1;\n}\n\nPLUGIN_EXPORT unsigned int PLUGIN_CALL Supports()\n{\n    return SUPPORTS_VERSION | SUPPORTS_AMX_NATIVES;\n}\n\nPLUGIN_EXPORT bool PLUGIN_CALL Load(void **ppData)\n{\n    pAMXFunctions = ppData[PLUGIN_DATA_AMX_EXPORTS];\n    logprintf = (logprintf_t) ppData[PLUGIN_DATA_LOGPRINTF];\n\n    logprintf(" * \u6D4B\u8BD5\u63D2\u4EF6\u5DF2\u52A0\u8F7D.");\n    return true;\n}\n\nPLUGIN_EXPORT void PLUGIN_CALL Unload()\n{\n    logprintf(" * \u6D4B\u8BD5\u63D2\u4EF6\u5DF2\u5378\u8F7D.");\n}\n\nAMX_NATIVE_INFO PluginNatives[] =\n{\n    {"HelloWorld", HelloWorld},\n    {0, 0}\n};\n\nPLUGIN_EXPORT int PLUGIN_CALL AmxLoad( AMX *amx )\n{\n    return amx_Register(amx, PluginNatives, -1);\n}\n\n\nPLUGIN_EXPORT int PLUGIN_CALL AmxUnload( AMX *amx )\n{\n    return AMX_ERR_NONE;\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6def",children:"\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6(*.def)"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"EXPORTS\n      Supports\n      Load\n      Unload\n      AmxLoad\n      AmxUnload\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u4EE3\u7801\u5206\u6790",children:"\u4EE3\u7801\u5206\u6790"}),"\n",(0,s.jsxs)(e.p,{children:["\u5728\u672C\u8282\u4E2D, \u6211\u4EEC\u5C06\u67E5\u770B SA-MP \u63D2\u4EF6 SDK \u63D0\u4F9B\u7684\u4E00\u4E9B\u5B9A\u4E49\u3001\u7ED3\u6784\u548C\u51FD\u6570. \u5728\u7EE7\u7EED\u4E4B\u524D, \u4F60\u5E94\u8BE5\u5BF9 C/C++ \u6709\u4E00\u5B9A\u7684\u4E86\u89E3, \u56E0\u4E3A\u63A5\u4E0B\u6765\u7684\u5185\u5BB9\u5C06",(0,s.jsx)(e.strong,{children:"\u4EC5"}),"\u89E3\u91CA SDK \u76F8\u5173\u7684\u4FE1\u606F. \u4ECE\u73B0\u5728\u5F00\u59CB, \u4E0D\u4F1A\u518D\u6709\u8BE6\u7EC6\u6307\u5BFC\uFF01"]}),"\n",(0,s.jsx)(e.h3,{id:"\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6",children:"\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u67E5\u770B\u4EE3\u7801\u4E4B\u524D, \u6211\u4EEC\u5148\u6765\u770B\u4E00\u4E0B\u6211\u4EEC\u5728\u524D\u4E00\u8282\u4E2D\u521B\u5EFA\u7684\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6. \u9996\u5148, \u4EC0\u4E48\u662F\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6\uFF1F\u6211\u4EEC\u77E5\u9053\u5B83\u662F Visual Studio \u4E13\u6709\u7684\u529F\u80FD, \u4F46\u5B83\u5230\u5E95\u662F\u505A\u4EC0\u4E48\u7684\uFF1F\u5F88\u7B80\u5355\uFF01\u6A21\u5757\u5B9A\u4E49\u6587\u4EF6\u5411\u94FE\u63A5\u5668\u63D0\u4F9B\u5173\u4E8E\u8981\u94FE\u63A5\u7684\u4EE3\u7801\u7684\u4FE1\u606F. \u8FD9\u4E9B\u6587\u4EF6\u4E2D\u6709\u8BB8\u591A\u89C4\u5219\u548C\u8BED\u53E5\u53EF\u4EE5\u4F7F\u7528, \u4F46\u6211\u4EEC\u53EA\u8BA8\u8BBA\u4E00\u4E2A, \u5373 EXPORTS \u8BED\u53E5."}),"\n",(0,s.jsxs)(e.h4,{id:"\u4EC0\u4E48\u662F-exports",children:['\u4EC0\u4E48\u662F "',(0,s.jsx)(e.strong,{children:"EXPORTS"}),'"']}),"\n",(0,s.jsx)(e.p,{children:"Exports \u662F\u4E00\u4E2A\u58F0\u660E, \u5B83\u5141\u8BB8\u6211\u4EEC\u2026\u2026\u597D\u5427, \u5BFC\u51FA\u4E00\u4E9B\u4E1C\u897F\u5230\u6211\u4EEC\u7684\u5E94\u7528\u7A0B\u5E8F\uFF01\u4E3A\u4EC0\u4E48\u6211\u4EEC\u8981\u8FD9\u6837\u505A\uFF1F\u56E0\u4E3A\u6211\u4EEC\u5FC5\u987B\u8FD9\u6837\u505A, \u5C31\u662F\u8FD9\u4E48\u7B80\u5355. \u6211\u4EEC\u5BFC\u51FA\u7684\u51FD\u6570\u662F DLL \u6587\u4EF6\u4E2D\u7684\u5165\u53E3\u70B9. \u5E94\u7528\u7A0B\u5E8F\u53EA\u80FD\u8BBF\u95EE\u6211\u4EEC\u5BFC\u51FA\u7684 DLL \u51FD\u6570\uFF1B\u5982\u679C\u6211\u4EEC\u4E0D\u5BFC\u51FA\u5B83\u4EEC, \u5B83\u4EEC\u5C06\u4FDD\u6301\u79C1\u6709, \u4E0D\u80FD\u88AB\u5916\u90E8\u8BBF\u95EE. \u6211\u4EEC\u4E0D\u60F3\u8FD9\u6837, \u5BF9\u5427\uFF1F\u4E0D. \u6240\u4EE5\u6211\u4EEC\u5BFC\u51FA\u5E94\u7528\u7A0B\u5E8F\u5C06\u76F4\u63A5\u8BBF\u95EE\u7684\u6240\u6709\u5185\u5BB9."}),"\n",(0,s.jsx)(e.h4,{id:"\u5BFC\u51FA\u7684\u51FD\u6570",children:"\u5BFC\u51FA\u7684\u51FD\u6570"}),"\n",(0,s.jsxs)(e.p,{children:["\u76EE\u524D\u9700\u8981\u5BFC\u51FA\u7684\u51FD\u6570\u6709 6 \u4E2A. \u6211\u4EEC\u5728\u9879\u76EE\u4E2D\u4F7F\u7528\u4E86\u5176\u4E2D 5 \u4E2A. \u4E0D\u8981\u62C5\u5FC3\u4F60\u5728\u51FD\u6570\u58F0\u660E\u4E2D\u770B\u5230\u7684 ",(0,s.jsx)(e.code,{children:"PLUGIN_EXPORT"})," \u548C ",(0,s.jsx)(e.code,{children:"PLUGIN_CALL"})," \u5B9A\u4E49. \u6211\u4EEC\u5C06\u5728\u6587\u7AE0\u540E\u9762\u4ECB\u7ECD\u8FD9\u4E9B\u4EE5\u53CA\u5176\u4ED6\u4E00\u4E9B\u91CD\u8981\u7684\u5B9A\u4E49(\u6807\u8BB0\u4E3A\u7EFF\u8272\u6587\u672C)."]}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u51FD\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Supports()"})}),(0,s.jsxs)(e.td,{children:["\u8FD9\u4E2A\u51FD\u6570\u544A\u8BC9\u670D\u52A1\u5668\u6211\u4EEC\u7684\u63D2\u4EF6\u5C06\u5177\u5907\u54EA\u4E9B\u529F\u80FD, \u57FA\u4E8E\u5B83\u8FD4\u56DE\u7684\u5185\u5BB9. \u901A\u5E38\u6211\u4EEC\u5728\u63D2\u4EF6\u4E2D\u53EA\u4F7F\u7528 3 \u4E2A\u652F\u6301\u6807\u5FD7\uFF1A",(0,s.jsx)(e.strong,{children:"SUPPORTS_VERSION"}),"\u3001",(0,s.jsx)(e.strong,{children:"SUPPORTS_AMX_NATIVES"})," \u548C ",(0,s.jsx)(e.strong,{children:"SUPPORTS_PROCESS_TICK"}),"."]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Load(void**)"})}),(0,s.jsxs)(e.td,{children:["Load \u51FD\u6570\u662F\u76F8\u5F53\u7B80\u5355\u7684. \u5B83\u5728\u63D2\u4EF6\u88AB\u52A0\u8F7D\u65F6\u8C03\u7528, \u5E76\u4F20\u9012\u4E00\u4E2A\u5730\u5740\u6570\u7EC4, \u63D2\u4EF6\u5C06\u7528\u6765\u6267\u884C\u529F\u80FD. \u6211\u4EEC\u901A\u5E38\u4F7F\u7528\u7684\u4E24\u4E2A\u7D22\u5F15\u662F ",(0,s.jsx)(e.strong,{children:"PLUGIN_DATA_AMX_EXPORTS"})," \u548C ",(0,s.jsx)(e.strong,{children:"PLUGIN_DATA_LOGPRINTF"}),"."]})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Unload()"})}),(0,s.jsx)(e.td,{children:"Unload \u5728\u63D2\u4EF6\u5378\u8F7D\u65F6\u8C03\u7528(\u670D\u52A1\u5668\u5173\u95ED\u65F6)."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"AmxLoad(AMX*)"})}),(0,s.jsx)(e.td,{children:"\u5F53\u4E00\u4E2A\u65B0\u7684 AMX \u5B9E\u4F8B\u88AB\u52A0\u8F7D\u5230\u670D\u52A1\u5668\u4E2D\u65F6\u8C03\u7528\u8FD9\u4E2A\u51FD\u6570. \u8FD9\u5C06\u5BF9\u6BCF\u4E2A\u8FC7\u6EE4\u811A\u672C/\u6E38\u620F\u6A21\u5F0F\u8C03\u7528\uFF01\u56E0\u6B64, \u6700\u597D\u4E0D\u8981\u4E3A\u6574\u4E2A\u63D2\u4EF6\u5B58\u50A8\u5355\u4E2A AMX \u5B9E\u4F8B, \u800C\u662F\u4F7F\u7528\u961F\u5217/\u5217\u8868/\u5411\u91CF. \u5728\u8FD9\u4E2A\u51FD\u6570\u4E2D, \u6211\u4EEC\u8FD8\u6CE8\u518C\u6211\u4EEC\u5E0C\u671B\u63D0\u4F9B\u7ED9 PAWN \u7684\u81EA\u5B9A\u4E49\u539F\u751F\u51FD\u6570."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"AmxUnload(AMX*)"})}),(0,s.jsx)(e.td,{children:"\u5F53 AMX \u5B9E\u4F8B\u88AB\u5378\u8F7D\u65F6\u8C03\u7528\u8FD9\u4E2A\u51FD\u6570. \u5982\u679C\u4F60\u5B58\u50A8 AMX \u5B9E\u4F8B, \u8BF7\u786E\u4FDD\u5C06\u5176\u5220\u9664. \u5426\u5219, \u4F60\u4F1A\u6709\u6307\u5411\u4E0D\u5B58\u5728\u7684\u6E38\u620F\u6A21\u5F0F/\u8FC7\u6EE4\u811A\u672C\u7684\u5B9E\u4F8B."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"ProcessTick()"})}),(0,s.jsx)(e.td,{children:"ProcessTick \u662F\u4E00\u4E2A\u5728\u670D\u52A1\u5668\u5FAA\u73AF\u7684\u6BCF\u6B21\u8FED\u4EE3\u65F6\u8C03\u7528\u7684\u51FD\u6570. \u4EBA\u4EEC\u901A\u5E38\u4F7F\u7528\u8FD9\u4E2A\u51FD\u6570\u6765\u901A\u8FC7\u8DDF\u8E2A\u7ECF\u8FC7\u7684 ticks \u6570\u91CF\u6765\u7BA1\u7406\u65F6\u95F4. SA-MP \u670D\u52A1\u5668\u7684\u4F11\u7720\u65F6\u95F4\u4E3A 5ms, \u6240\u4EE5\u5982\u679C 50 \u4E2A ticks \u8FC7\u53BB, \u4F60\u5C31\u6709\u4E86\u7ECF\u8FC7\u7684\u65F6\u95F4\u7684\u4E00\u4E2A\u5927\u81F4\u4E86\u89E3(5 * 50 = 250ms). **\u6CE8\u610F\uFF1A**\u4EFB\u4F55\u5728\u63D2\u4EF6\u4E2D\u4F7F\u7528\u7EBF\u7A0B\u5E76\u4E14\u9700\u8981 PAWN \u4EA4\u4E92\u7684\u7528\u6237\u90FD\u9700\u8981\u4F7F\u7528\u8FD9\u4E2A\u51FD\u6570, \u4EE5\u786E\u4FDD PAWN \u4E0D\u5FD9\u4E8E\u5176\u4ED6\u4EFB\u52A1\uFF01"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"\u5B9A\u4E49\u548C\u7ED3\u6784",children:"\u5B9A\u4E49\u548C\u7ED3\u6784"}),"\n",(0,s.jsx)(e.p,{children:"\u73B0\u5728\u6765\u770B\u770B\u4EE3\u7801\u7684\u6709\u8DA3\u90E8\u5206\uFF01\u4F60\u53EF\u80FD\u4F1A\u53D1\u73B0\u6211\u4EEC\u5728\u524D\u9762\u7684\u5C0F\u4F8B\u5B50\u4E2D\u4F7F\u7528\u4E86\u5927\u91CF\u7684\u5B9A\u4E49\u548C\u7ED3\u6784. \u5982\u679C\u4F60\u4E4B\u524D\u4ECE\u672A\u5F00\u53D1\u8FC7 SA-MP \u63D2\u4EF6, \u8FD9\u4E9B\u53EF\u80FD\u4F1A\u663E\u5F97\u975E\u5E38\u6DF7\u4E71\u751A\u81F3\u4EE4\u4EBA\u751F\u754F. \u6211\u4EEC\u5C06\u5728\u672C\u8282\u4E2D\u9610\u660E\u8FD9\u4E9B\u5B9A\u4E49\u548C\u7ED3\u6784."}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u5B9A\u4E49/\u7ED3\u6784"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"cell"})}),(0,s.jsxs)(e.td,{children:['"cell" \u662F\u4E00\u4E2A typedef, \u65E8\u5728\u63D0\u4F9B\u53EF\u79FB\u690D\u6027. PAWN \u652F\u6301 16 \u4F4D\u300132 \u4F4D\u548C 64 \u4F4D\u6574\u6570. typedef "cell" \u59CB\u7EC8\u662F\u6B63\u786E\u7684\u5927\u5C0F, \u800C "int" \u53EF\u80FD\u4E0D\u662F. \u901A\u5E38\u5728 SA-MP \u63D2\u4EF6\u4E2D, \u8FD9\u4E2A typedef \u59CB\u7EC8\u662F 32 \u4F4D\u6574\u6570. ',(0,s.jsx)(e.strong,{children:"\u6CE8\u610F\uFF1A"}),' \u8FD8\u6709\u4E00\u4E2A "ucell" typedef \u7528\u4E8E\u65E0\u7B26\u53F7\u6574\u6570, \u4F46\u51E0\u4E4E\u4E0D\u4F7F\u7528.']})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"AMX_NATIVE_CALL"})}),(0,s.jsx)(e.td,{children:"\u8FD9\u4E2A\u5B9A\u4E49\u4E86\u6211\u4EEC\u7684\u539F\u751F\u51FD\u6570\u5C06\u4F7F\u7528\u7684\u8C03\u7528\u7EA6\u5B9A. \u76EE\u524D\u5B83\u88AB\u5B9A\u4E49\u4E3A\u7A7A, \u56E0\u6B64\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"AMX"})}),(0,s.jsx)(e.td,{children:"\u8FD9\u4E2A\u7ED3\u6784\u7684\u540D\u79F0\u5E94\u8BE5\u5F88\u6E05\u695A, \u5B83\u662F\u4E00\u4E2A AMX \u5B9E\u4F8B. \u8FD9\u4E2A\u7ED3\u6784\u5305\u542B\u4E86\u5927\u91CF\u4E0E\u6570\u636E\u6BB5\u4EE5\u53CA\u5176\u4ED6 AMX \u76F8\u5173\u7684\u4FE1\u606F. \u6240\u6709\u539F\u751F\u51FD\u6570\u58F0\u660E\u4E2D\u5FC5\u987B\u5305\u542B\u8FD9\u4E2A\u7ED3\u6784\u4EE5\u53CA\u4E00\u4E2A\u6307\u5411\u4F20\u9012\u53C2\u6570\u7684 cell \u6307\u9488\uFF1B\u6CA1\u6709\u8FD9\u4E9B\u4FE1\u606F, \u6211\u4EEC\u4E0D\u77E5\u9053\u54EA\u4E2A\u811A\u672C\u8C03\u7528\u4E86\u6211\u4EEC\u7684\u539F\u751F\u51FD\u6570, \u4E5F\u4E0D\u77E5\u9053\u4F20\u9012\u4E86\u4EC0\u4E48\u53C2\u6570."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"PLUGIN_EXPORT"})}),(0,s.jsx)(e.td,{children:'\u8FD9\u4E2A\u5B9A\u4E49\u4E3A "PLUGIN_EXTERN_C".'})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"PLUGIN_EXTERN_C"})}),(0,s.jsx)(e.td,{children:'\u5982\u679C\u4F7F\u7528 C++ \u7F16\u8BD1\u5668, \u8FD9\u4E2A\u5B9A\u4E49\u4E3A "extern "C"". \u8FD9\u662F\u4E3A\u4E86\u4E0E C \u7684\u517C\u5BB9\u6027. C++ \u63D0\u4F9B\u4E86\u50CF\u51FD\u6570\u91CD\u8F7D\u8FD9\u6837\u7684\u529F\u80FD, \u56E0\u6B64\u989D\u5916\u7684\u4FE1\u606F\u5982\u53C2\u6570\u7684\u6570\u91CF/\u5927\u5C0F\u4F1A\u4E0E\u51FD\u6570\u7684\u540D\u79F0\u4E00\u8D77\u5B58\u50A8, \u8FD9\u88AB\u79F0\u4E3A "name mangling"(\u540D\u79F0\u4FEE\u9970). \u5F53\u4F7F\u7528\u8FD9\u4E2A\u5B9A\u4E49\u65F6, \u5B83\u544A\u8BC9 C++ \u4F7F\u7528 C \u98CE\u683C\u7684\u94FE\u63A5, \u4ECE\u800C\u907F\u514D C++ \u540D\u79F0\u4FEE\u9970.'})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"PLUGIN_CALL"})}),(0,s.jsx)(e.td,{children:"\u8FD9\u4E2A\u5B9A\u4E49\u544A\u8BC9 C/C++ \u6211\u4EEC\u5BFC\u51FA\u7684\u51FD\u6570\u4F7F\u7528\u4EC0\u4E48\u8C03\u7528\u7EA6\u5B9A. \u5982\u679C\u4F60\u4F7F\u7528\u7684\u662F\u9488\u5BF9 Windows \u7684\u7F16\u8BD1\u5668, \u8FD9\u4E2A\u5B9A\u4E49\u4E3A __stdcall. \u5426\u5219, \u5B83\u7684\u5B9A\u4E49\u4E3A\u7A7A, \u4F7F\u7528\u9ED8\u8BA4\u8C03\u7528\u7EA6\u5B9A."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"SUPPORTS_VERSION"})}),(0,s.jsx)(e.td,{children:'\u8FD9\u4E2A\u5B9A\u4E49\u7528\u4E8E\u5728 "Supports()" \u51FD\u6570\u8FD4\u56DE\u7684\u4F4D\u63A9\u7801\u4E2D\u4F7F\u7528. \u8FD9\u4E2A\u6807\u5FD7\u7528\u4E8E\u68C0\u67E5\u4E0E\u670D\u52A1\u5668\u7684\u517C\u5BB9\u6027.'})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"SUPPORTS_AMX_NATIVES"})}),(0,s.jsx)(e.td,{children:'\u8FD9\u662F\u53E6\u4E00\u4E2A\u5728 "Supports()" \u51FD\u6570\u4E2D\u4F7F\u7528\u7684\u5B9A\u4E49. \u4EFB\u4F55\u4F7F\u7528 AMX \u51FD\u6570\u7684\u63D2\u4EF6\u90FD\u5FC5\u987B\u4F7F\u7528\u8FD9\u4E2A\u6807\u5FD7\uFF01\u5982\u679C\u6CA1\u6709\u8FD9\u4E2A\u6807\u5FD7, \u4F60\u5C06\u4F1A\u9047\u5230\u8FD0\u884C\u65F6 19 \u9519\u8BEF, \u56E0\u4E3A\u4F60\u7684\u539F\u751F\u51FD\u6570\u6CA1\u6709\u6CE8\u518C\u5230\u670D\u52A1\u5668(amx_Register).'})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"SUPPORTS_PROCESS_TICK"})}),(0,s.jsx)(e.td,{children:'\u6211\u4EEC\u5728 "Supports()" \u51FD\u6570\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\u6807\u5FD7. \u5982\u679C\u4F60\u6253\u7B97\u4F7F\u7528 "ProcessTick()" \u51FD\u6570, \u4F60\u5FC5\u987B\u5C06\u8FD9\u4E2A\u6807\u5FD7\u6DFB\u52A0\u5230 "Supports()" \u51FD\u6570\u8FD4\u56DE\u7684\u4F4D\u63A9\u7801\u4E2D.'})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"PLUGIN_DATA_AMX_EXPORTS"})}),(0,s.jsx)(e.td,{children:"\u8FD9\u4E2A\u5B9A\u4E49\u7528\u4F5C Load \u51FD\u6570\u4E2D\u4F20\u9012\u7684\u591A\u7EF4\u6570\u7EC4\u7684\u7D22\u5F15. \u8FD9\u4E2A\u7279\u5B9A\u7684\u7D22\u5F15\u5305\u542B AMX \u51FD\u6570\u8868. \u6240\u6709\u63D2\u4EF6\u5FC5\u987B\u4F7F\u7528\u8FD9\u4E2A\u7D22\u5F15\u5C06\u51FD\u6570\u8868\u7684\u5730\u5740\u5206\u914D\u7ED9 pAMXFunctions."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"PLUGIN_DATA_LOGPRINTF"})}),(0,s.jsx)(e.td,{children:"\u53E6\u4E00\u4E2A\u7528\u4E8E Load \u51FD\u6570\u4E2D\u4F20\u9012\u7684\u591A\u7EF4\u6570\u7EC4\u7684\u7D22\u5F15. \u8FD9\u4E2A\u7D22\u5F15\u5305\u542B logprintf \u51FD\u6570\u7684\u5730\u5740, \u8FD9\u4E2A\u51FD\u6570\u6253\u5370\u4FE1\u606F\u5E76\u5C06\u8FD9\u4E9B\u4FE1\u606F\u4FDD\u5B58\u5230\u670D\u52A1\u5668\u7684\u65E5\u5FD7\u6587\u4EF6\u4E2D. \u5982\u679C\u4F60\u7684\u63D2\u4EF6\u4F7F\u7528\u8FD9\u4E2A\u51FD\u6570, \u4F60\u5FC5\u987B\u4F7F\u7528\u8FD9\u4E2A\u7D22\u5F15\u5C06\u5730\u5740\u5206\u914D\u7ED9 logprintf \u51FD\u6570\u6307\u9488."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"AMX_NATIVE_INFO"})}),(0,s.jsx)(e.td,{children:"\u8FD9\u4E2A\u7ED3\u6784\u4E0E amx_Register \u4E00\u8D77\u4F7F\u7528. \u5B83\u5305\u542B\u4E00\u4E2A\u5B57\u7B26\u4E32, \u4FDD\u5B58\u4F60\u7684\u65B0\u539F\u751F\u51FD\u6570\u7684\u540D\u79F0, \u4EE5\u53CA\u6307\u5411\u5B83\u5730\u5740\u7684\u6307\u9488."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:["\u8FD8\u6709\u4E00\u4E9B\u5176\u4ED6\u91CD\u8981\u7684\u5B9A\u4E49\u6D89\u53CA AMX \u51FD\u6570\u9519\u8BEF, \u4F46\u5B83\u4EEC\u5DF2\u7ECF\u5728 amx \u5934\u6587\u4EF6\u4E2D\u8FDB\u884C\u4E86\u8BB0\u5F55. \u56E0\u6B64, \u6211\u5C06\u76F4\u63A5\u53D1\u5E03\u5305\u542B\u6240\u6709\u9519\u8BEF\u4EE3\u7801\u53CA\u5176\u5BF9\u5E94\u6CE8\u91CA\u7684\u679A\u4E3E. ",(0,s.jsx)(e.strong,{children:"\u6CE8\u610F\uFF1A"})," \u6BCF\u4E2A amx \u51FD\u6570(\u9664\u4E86 amx_NativeInfo)\u5728\u9047\u5230\u95EE\u9898\u65F6\u90FD\u4F1A\u8FD4\u56DE\u8FD9\u4E9B\u9519\u8BEF\u4EE3\u7801\u4E2D\u7684\u4E00\u4E2A."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"enum\n{\n  AMX_ERR_NONE,\n  /* \u4E3A\u62BD\u8C61\u673A\u5668\u7684\u9000\u51FA\u7801\u4FDD\u7559\u524D15\u4E2A\u9519\u8BEF\u4EE3\u7801 */\n  AMX_ERR_EXIT,         /* \u5F3A\u5236\u9000\u51FA */\n  AMX_ERR_ASSERT,       /* \u65AD\u8A00\u5931\u8D25 */\n  AMX_ERR_STACKERR,     /* \u6808/\u5806\u51B2\u7A81 */\n  AMX_ERR_BOUNDS,       /* \u7D22\u5F15\u8D85\u51FA\u8303\u56F4 */\n  AMX_ERR_MEMACCESS,    /* \u65E0\u6548\u7684\u5185\u5B58\u8BBF\u95EE */\n  AMX_ERR_INVINSTR,     /* \u65E0\u6548\u7684\u6307\u4EE4 */\n  AMX_ERR_STACKLOW,     /* \u6808\u4E0B\u6EA2 */\n  AMX_ERR_HEAPLOW,      /* \u5806\u4E0B\u6EA2 */\n  AMX_ERR_CALLBACK,     /* \u65E0\u56DE\u8C03\u6216\u65E0\u6548\u56DE\u8C03 */\n  AMX_ERR_NATIVE,       /* \u672C\u5730\u51FD\u6570\u5931\u8D25 */\n  AMX_ERR_DIVIDE,       /* \u9664\u96F6\u9519\u8BEF */\n  AMX_ERR_SLEEP,        /* \u8FDB\u5165\u4F11\u7720\u6A21\u5F0F - \u4EE3\u7801\u53EF\u4EE5\u91CD\u65B0\u542F\u52A8 */\n  AMX_ERR_INVSTATE,     /* \u5BF9\u4E8E\u6B64\u8BBF\u95EE\u7684\u65E0\u6548\u72B6\u6001 */\n\n  AMX_ERR_MEMORY = 16,  /* \u5185\u5B58\u4E0D\u8DB3 */\n  AMX_ERR_FORMAT,       /* \u6587\u4EF6\u683C\u5F0F\u65E0\u6548 */\n  AMX_ERR_VERSION,      /* \u6587\u4EF6\u9002\u7528\u4E8E\u66F4\u65B0\u7248\u672C\u7684AMX */\n  AMX_ERR_NOTFOUND,     /* \u672A\u627E\u5230\u51FD\u6570 */\n  AMX_ERR_INDEX,        /* \u65E0\u6548\u7684\u7D22\u5F15\u53C2\u6570(\u9519\u8BEF\u7684\u5165\u53E3\u70B9) */\n  AMX_ERR_DEBUG,        /* \u8C03\u8BD5\u5668\u65E0\u6CD5\u8FD0\u884C */\n  AMX_ERR_INIT,         /* AMX\u672A\u521D\u59CB\u5316(\u6216\u91CD\u590D\u521D\u59CB\u5316) */\n  AMX_ERR_USERDATA,     /* \u65E0\u6CD5\u8BBE\u7F6E\u7528\u6237\u6570\u636E\u5B57\u6BB5(\u8868\u683C\u5DF2\u6EE1) */\n  AMX_ERR_INIT_JIT,     /* \u65E0\u6CD5\u521D\u59CB\u5316JIT */\n  AMX_ERR_PARAMS,       /* \u53C2\u6570\u9519\u8BEF */\n  AMX_ERR_DOMAIN,       /* \u57DF\u9519\u8BEF, \u8868\u8FBE\u5F0F\u7ED3\u679C\u8D85\u51FA\u8303\u56F4 */\n  AMX_ERR_GENERAL,      /* \u4E00\u822C\u9519\u8BEF(\u672A\u77E5\u6216\u4E0D\u5177\u4F53\u7684\u9519\u8BEF) */\n};\n"})}),"\n",(0,s.jsx)(e.h2,{id:"amx-\u51FD\u6570",children:"Amx \u51FD\u6570"}),"\n",(0,s.jsx)(e.p,{children:"amx \u51FD\u6570\u5728 PAWN \u5B9E\u65BD\u8005\u6307\u5357\u4E2D\u6709\u975E\u5E38\u8BE6\u7EC6\u7684\u6587\u6863, \u53EF\u4EE5\u5728\u8FD9\u91CC\u627E\u5230. \u4E3A\u4E86\u907F\u514D\u91CD\u590D\u89E3\u91CA\u8FD9\u4E9B\u51FD\u6570, \u6211\u5C06\u76F4\u63A5\u4ECE\u5B9E\u65BD\u8005\u6307\u5357\u4E2D\u590D\u5236\u5B83\u4EEC, \u5E76\u4F7F\u5176\u66F4\u5177\u53EF\u8BFB\u6027\uFF1B\u6211\u76F8\u4FE1\u8FD9\u5C06\u4F7F\u5185\u5BB9\u66F4\u6613\u4E8E\u8BBF\u95EE. \u4E5F\u5C31\u662F\u8BF4, \u672C\u8282\u4E3B\u8981\u662F\u4E0B\u4E00\u8282\u7684\u53C2\u8003, \u4E0B\u4E00\u8282\u4E13\u6CE8\u4E8E\u5B9E\u65BD\u8005\u6307\u5357\u4E2D\u7F3A\u5C11\u7684\u5185\u5BB9\uFF1A\u793A\u4F8B\u4EE3\u7801. \u6CE8\u610F\uFF1A\u6211\u5C06\u4EC5\u8986\u76D6\u6211\u8BA4\u4E3A\u5BF9\u63D2\u4EF6\u81F3\u5173\u91CD\u8981\u7684\u51FD\u6570(\u76EE\u524D). \u5176\u4ED6\u5185\u5BB9\u53EF\u4EE5\u5728\u5B9E\u65BD\u8005\u6307\u5357\u4E2D\u627E\u5230, \u53EA\u9700\u786E\u4FDD\u4F7F\u7528\u6211\u5728\u672C\u8282\u4E2D\u94FE\u63A5\u7684\u7248\u672C\uFF01"}),"\n",(0,s.jsx)(e.h3,{id:"\u5173\u952E",children:"\u5173\u952E"}),"\n",(0,s.jsx)(e.p,{children:"+ => \u4E0D\u53EF\u7528"}),"\n",(0,s.jsx)(e.h2,{id:"amx_allot",children:"amx_Allot"}),"\n",(0,s.jsx)(e.p,{children:"- \u5728\u62BD\u8C61\u673A\u5668\u4E2D\u4FDD\u7559\u5806\u7A7A\u95F4"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_Allot(AMX *amx, int cells, cell *amx_addr, cell **phys_addr);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"cells"})}),(0,s.jsx)(e.td,{children:"\u8981\u4FDD\u7559\u7684\u5355\u5143\u683C\u6570\u91CF."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx_addr"})}),(0,s.jsx)(e.td,{children:"\u5206\u914D\u7684\u5355\u5143\u683C\u7684\u5730\u5740, \u4F9B PAWN \u7A0B\u5E8F(\u5728\u62BD\u8C61\u673A\u5668\u4E2D\u8FD0\u884C)\u8BBF\u95EE."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"phys_addr"})}),(0,s.jsx)(e.td,{children:"\u5355\u5143\u683C\u7684\u5730\u5740, \u4F9B C/C++\u7A0B\u5E8F\u8BBF\u95EE."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E\uFF1A"}),' \u5728\u65E9\u671F\u7248\u672C\u7684 PAWN \u4E2D, \u6570\u7EC4\u548C\u5B57\u7B26\u4E32\u5FC5\u987B\u5728\u5C06\u5176\u4F20\u9012\u7ED9\u811A\u672C\u4E4B\u524D\u660E\u786E\u5730\u4E3A\u5176\u5206\u914D\u5185\u5B58. \u5728\u5F53\u524D\u7248\u672C\u4E2D, \u8FD9\u4E00\u529F\u80FD\u5DF2\u88AB amx_PushArray \u548C amx_PushString \u51FD\u6570\u5728\u5F88\u5927\u7A0B\u5EA6\u4E0A\u53D6\u4EE3. PAWN \u51FD\u6570\u53EA\u80FD\u8BBF\u95EE\u5176\u62BD\u8C61\u673A\u5668\u5185\u90E8\u7684\u5185\u5B58. \u5982\u679C\u8981"\u6309\u5F15\u7528"\u4F20\u9012\u53C2\u6570\u5230 PAWN \u51FD\u6570, \u5FC5\u987B\u5C06\u8BE5\u53C2\u6570\u7684\u5730\u5740\u4F20\u9012\u7ED9 amx_Exec. \u6B64\u5916, \u8BE5\u5730\u5740\u672C\u8EAB\u4E5F\u5FC5\u987B\u5728\u62BD\u8C61\u673A\u5668\u7684\u5730\u5740\u8303\u56F4\u5185. \u4E00\u4E2A\u989D\u5916\u7684\u590D\u6742\u6027\u662F, \u62BD\u8C61\u673A\u5668\u4F7F\u7528\u76F8\u5BF9\u4E8E\u62BD\u8C61\u673A\u5668\u6570\u636E\u6BB5\u7684\u5730\u5740, \u800C\u4E3B\u673A\u7A0B\u5E8F\u4F7F\u7528\u76F8\u5BF9\u4E8E\u64CD\u4F5C\u7CFB\u7EDF\u63D0\u4F9B\u7684\u73AF\u5883\u7684\u5730\u5740.']}),"\n",(0,s.jsx)(e.p,{children:'amx_Allot \u5728\u62BD\u8C61\u673A\u5668\u5185\u90E8\u5206\u914D\u5185\u5B58\u5355\u5143, \u5E76\u8FD4\u56DE\u4E24\u4E2A\u5730\u5740. amx_addr \u53C2\u6570\u662F\u76F8\u5BF9\u4E8E\u62BD\u8C61\u673A\u5668\u7684"\u6570\u636E\u6BB5"\u7684\u53D8\u91CF\u5730\u5740\uFF1B\u8FD9\u662F\u4F60\u5E94\u8BE5\u4F20\u9012\u7ED9 amx_Exec \u7684\u503C(\u901A\u8FC7 amx_Push). \u53C2\u6570 phys_addr \u6301\u6709\u76F8\u5BF9\u4E8E\u4E3B\u673A\u7A0B\u5E8F\u5730\u5740\u7A7A\u95F4\u7684\u5730\u5740. \u56E0\u6B64, C/C++\u7A0B\u5E8F\u53EF\u4EE5\u4F7F\u7528\u6B64\u5730\u5740\u5E76\u5199\u5165\u5206\u914D\u7684\u5185\u5B58. amx_Exec \u8FD4\u56DE\u540E, \u4F60\u53EF\u4EE5\u68C0\u67E5\u5185\u5B58\u5757(amx_Exec \u8C03\u7528\u7684 PAWN \u51FD\u6570\u53EF\u80FD\u5DF2\u7ECF\u5199\u5165\u5176\u4E2D), \u7136\u540E\u901A\u8FC7\u8C03\u7528 amx_Release \u6700\u7EC8\u91CA\u653E\u5B83.'}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u8BF7\u53C2\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_exec",children:"amx_Exec"}),", ",(0,s.jsx)(e.a,{href:"#amx_pusharray",children:"amx_PushArray"}),", ",(0,s.jsx)(e.a,{href:"#amx_pushstring",children:"amx_PushString"}),", ",(0,s.jsx)(e.a,{href:"#amx_release",children:"amx_Release"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_ctof",children:"amx_ctof"}),"\n",(0,s.jsx)(e.p,{children:'- \u5C06"cell"\u8F6C\u6362\u4E3A"float"'}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-1",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"[float] amx_ctof([cell] c);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"c"})}),(0,s.jsx)(e.td,{children:'\u8981\u4ECE"cell"\u7C7B\u578B\u8F6C\u6362\u4E3A"float"\u7684\u503C.'})]})})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE\uFF1A"})," \u76F8\u540C\u7684\u4F4D\u6A21\u5F0F, \u4F46\u73B0\u5728\u4E3A\u6D6E\u70B9\u7C7B\u578B."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E\uFF1A"}),' \u6B64\u5B8F\u5C06"cell"\u7C7B\u578B\u8F6C\u6362\u4E3A"float"\u7C7B\u578B, \u800C\u4E0D\u66F4\u6539\u4F4D\u6A21\u5F0F. \u5728 C/C++\u4E2D, \u6B63\u5E38\u7684\u7C7B\u578B\u8F6C\u6362\u4F1A\u66F4\u6539\u8868\u8FBE\u5F0F\u7684\u5185\u5B58\u8868\u793A, \u4F7F\u5176\u5728 IEEE 754 \u683C\u5F0F\u4E2D\u7684\u6570\u503C\u6700\u63A5\u8FD1\u539F\u59CB\u6574\u6570\u503C. PAWN \u89E3\u6790\u5668\u548C\u62BD\u8C61\u673A\u5668\u5C06\u6D6E\u70B9\u503C\u5B58\u50A8\u5728\u5355\u5143\u683C\u4E2D\u2014\u2014\u4ECE\u5355\u5143\u683C\u4E2D\u68C0\u7D22\u6D6E\u70B9\u503C\u65F6, \u4F4D\u6A21\u5F0F\u4E0D\u5F97\u66F4\u6539.']}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u8BF7\u53C2\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_ftoc",children:"amx_ftoc"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_exec",children:"amx_Exec"}),"\n",(0,s.jsx)(e.p,{children:"- \u6267\u884C\u4EE3\u7801"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-2",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"  int amx_Exec(AMX *amx, long *retval, int index);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u4ECE\u4E2D\u8C03\u7528\u51FD\u6570\u7684\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"retval"})}),(0,s.jsx)(e.td,{children:"\u8C03\u7528\u51FD\u6570\u540E\u7684\u8FD4\u56DE\u503C\u5C06\u4FDD\u5B58\u5728\u6B64\u5904. \u5982\u679C\u4E0D\u5173\u5FC3\u8FD4\u56DE\u503C, \u6B64\u53C2\u6570\u53EF\u4EE5\u4E3A NULL."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"index"})}),(0,s.jsx)(e.td,{children:'"\u516C\u5171\u51FD\u6570\u8868"\u4E2D\u7684\u7D22\u5F15\uFF1B\u5B83\u6307\u793A\u8981\u6267\u884C\u7684\u51FD\u6570. \u6709\u5173\u66F4\u591A\u4FE1\u606F, \u8BF7\u53C2\u89C1 amx_FindPublic. \u4F7F\u7528 AMX_EXEC_MAIN \u4ECE\u4E3B\u51FD\u6570\u5F00\u59CB\u6267\u884C, \u4F7F\u7528 AMX_EXEC_CONT \u7EE7\u7EED\u4ECE"\u4F11\u7720\u72B6\u6001"\u6267\u884C.'})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E\uFF1A"})," \u6B64\u51FD\u6570\u8FD0\u884C\u811A\u672C, \u4ECE\u6307\u5B9A\u7684\u51FD\u6570\u5F00\u59CB. \u5B83\u8C03\u7528\u4EFB\u4F55\u672C\u5730\u51FD\u6570\u8C03\u7528\u7684\u56DE\u8C03\u51FD\u6570, \u8BE5\u4EE3\u7801\u5728 amx \u4E2D\u6267\u884C. amx_Exec \u5047\u5B9A\u6240\u6709\u672C\u5730\u51FD\u6570\u90FD\u5DF2\u901A\u8FC7 amx_Register \u6B63\u786E\u521D\u59CB\u5316."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u8BF7\u53C2\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_findpublic",children:"amx_FindPublic"}),", ",(0,s.jsx)(e.a,{href:"#amx_register",children:"amx_Register"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_findpublic",children:"amx_FindPublic"}),"\n",(0,s.jsx)(e.p,{children:"- \u8FD4\u56DE\u516C\u5171\u51FD\u6570\u7684\u7D22\u5F15"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-3",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_FindPublic(AMX *amx, char *funcname, int *index);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"funcname"})}),(0,s.jsx)(e.td,{children:"\u8981\u67E5\u627E\u7684\u516C\u5171\u51FD\u6570\u7684\u540D\u79F0."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"index"})}),(0,s.jsx)(e.td,{children:"\u8FD4\u56DE\u65F6, \u6B64\u53C2\u6570\u4FDD\u5B58\u6240\u8BF7\u6C42\u7684\u516C\u5171\u51FD\u6570\u7684\u7D22\u5F15."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u8BF7\u53C2\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_exec",children:"amx_Exec"}),", amx_FindNative+, amx_FindPubVar+, amx_GetPublic+, amx_NumPublics+"]}),"\n",(0,s.jsx)(e.h2,{id:"amx_ftoc",children:"amx_ftoc"}),"\n",(0,s.jsx)(e.p,{children:'- \u5C06"float"\u8F6C\u6362\u4E3A"cell"'}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-4",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"[cell] amx_ftoc([float] f);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsx)(e.tbody,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"f"})}),(0,s.jsx)(e.td,{children:'\u8981\u4ECE"float"\u7C7B\u578B\u8F6C\u6362\u4E3A"cell"\u7684\u503C.'})]})})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8FD4\u56DE\uFF1A"}),' \u76F8\u540C\u7684\u4F4D\u6A21\u5F0F, \u4F46\u73B0\u5728\u4E3A"cell"\u7C7B\u578B.']}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E\uFF1A"}),' \u6B64\u5B8F\u5C06"float"\u7C7B\u578B\u8F6C\u6362\u4E3A"cell"\u7C7B\u578B, \u800C\u4E0D\u66F4\u6539\u4F4D\u6A21\u5F0F. \u5728 C/C++\u4E2D, \u6B63\u5E38\u7684\u7C7B\u578B\u8F6C\u6362\u4F1A\u66F4\u6539\u8868\u8FBE\u5F0F\u7684\u5185\u5B58\u8868\u793A, \u4F7F\u5176\u5728\u6574\u6570\u683C\u5F0F\u4E2D\u7684\u6570\u503C\u4E3A\u539F\u59CB\u6709\u7406\u503C\u7684\u6574\u6570(\u622A\u65AD)\u503C. PAWN \u89E3\u6790\u5668\u548C\u62BD\u8C61\u673A\u5668\u5C06\u6D6E\u70B9\u503C\u5B58\u50A8\u5728\u5355\u5143\u683C\u4E2D\u2014\u2014\u5C06\u6D6E\u70B9\u503C\u5B58\u50A8\u5728\u5355\u5143\u683C\u4E2D\u65F6, \u4F4D\u6A21\u5F0F\u4E0D\u5F97\u66F4\u6539.']}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u8BF7\u53C2\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_ctof",children:"amx_ctof"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_getaddr",children:"amx_GetAddr"}),"\n",(0,s.jsx)(e.p,{children:"- \u89E3\u6790 AMX \u5730\u5740"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-5",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_GetAddr(AMX *amx, cell amx_addr, cell **phys_addr);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx_addr"})}),(0,s.jsx)(e.td,{children:"\u76F8\u5BF9\u4E8E\u62BD\u8C61\u673A\u5668\u7684\u5730\u5740."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"phys_addr"})}),(0,s.jsx)(e.td,{children:"\u4E00\u4E2A\u6307\u5411\u53D8\u91CF\u7684\u6307\u9488, \u8BE5\u53D8\u91CF\u5C06\u4FDD\u5B58\u6307\u5B9A\u5355\u5143\u683C\u7684\u5185\u5B58\u5730\u5740. \u5982\u679C amx_addr \u53C2\u6570\u4E0D\u662F\u62BD\u8C61\u673A\u5668\u5185\u90E8\u7684\u6709\u6548\u5730\u5740, phys_addr \u5C06\u88AB\u8BBE\u7F6E\u4E3A NULL."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BF4\u660E\uFF1A"})," \u6B64\u51FD\u6570\u8FD4\u56DE\u62BD\u8C61\u673A\u5668\u4E2D\u5730\u5740\u7684\u5185\u5B58\u5730\u5740. \u901A\u5E38\u5728\u6269\u5C55\u6A21\u5757\u4E2D\u4F7F\u7528\u6B64\u51FD\u6570, \u56E0\u4E3A\u5B83\u5141\u8BB8\u4F60\u8BBF\u95EE\u62BD\u8C61\u673A\u5668\u5185\u90E8\u7684\u53D8\u91CF."]}),"\n",(0,s.jsx)(e.h2,{id:"amx_getstring",children:"amx_GetString"}),"\n",(0,s.jsx)(e.p,{children:"- \u4ECE\u62BD\u8C61\u673A\u5668\u4E2D\u68C0\u7D22\u5B57\u7B26\u4E32"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-6",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_GetString(char *dest, cell *source, int use_wchar, size_t size);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"dest"})}),(0,s.jsx)(e.td,{children:"\u6307\u5411\u5B57\u7B26\u6570\u7EC4\u7684\u6307\u9488, \u8BE5\u6570\u7EC4\u7684\u5927\u5C0F\u8DB3\u4EE5\u5BB9\u7EB3\u8F6C\u6362\u540E\u7684\u6E90\u5B57\u7B26\u4E32."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"source"})}),(0,s.jsx)(e.td,{children:"\u6307\u5411\u6E90\u5B57\u7B26\u4E32\u7684\u6307\u9488. \u4F7F\u7528 amx_GetAddr \u5C06 amx \u4E2D\u7684\u5B57\u7B26\u4E32\u5730\u5740\u8F6C\u6362\u4E3A\u7269\u7406\u5730\u5740."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"use_wchar"})}),(0,s.jsx)(e.td,{children:'\u975E\u96F6\u503C\u5C06 dest \u53C2\u6570\u89E3\u91CA\u4E3A\u6307\u5411"\u5BBD\u5B57\u7B26"\u7684\u6307\u9488\u2014\u2014\u5373 wchar_t, \u65E0\u8BBA\u5176 char \u7C7B\u578B\u5982\u4F55. \u8FD9\u5141\u8BB8\u51FD\u6570\u5B58\u50A8 Unicode \u5B57\u7B26\u4E32.'})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"size"})}),(0,s.jsx)(e.td,{children:"\u8981\u5B58\u50A8\u5728 dest \u4E2D\u7684\u6700\u5927\u5B57\u7B26\u6570, \u5305\u62EC\u7EC8\u6B62\u96F6\u5B57\u8282. \u5982\u679C\u6E90\u4E2D\u7684\u5B57\u7B26\u4E32\u66F4\u957F, \u5219 dest \u4E2D\u7684\u5B57\u7B26\u4E32\u5C06\u88AB\u622A\u65AD."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5907\u6CE8\uFF1A"}),' \u6B64\u51FD\u6570\u5C06"pawn"\u683C\u5F0F\u7684\u6253\u5305\u5B57\u7B26\u4E32\u548C\u672A\u6253\u5305\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A"C"\u683C\u5F0F. \u5F53\u68C0\u7D22\u672A\u6253\u5305\u5B57\u7B26\u4E32\u4E14\u53C2\u6570 use_wchar \u8BBE\u7F6E\u4E3A\u96F6\u65F6, \u51FD\u6570\u53EF\u80FD\u4F1A\u5C06\u5BBD\u5B57\u7B26\u622A\u65AD\u4E3A 8 \u4F4D ASCII/ANSI \u5B57\u7B26.']}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_setstring",children:"amx_SetString"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_push",children:"amx_Push"}),"\n",(0,s.jsx)(e.p,{children:"- \u901A\u8FC7\u503C\u4F20\u9012\u6570\u5B57\u53C2\u6570"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-7",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_Push(AMX *amx, cell value);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"value"})}),(0,s.jsx)(e.td,{children:"\u8981\u4F20\u9012\u7ED9\u516C\u5171\u51FD\u6570\u7684\u503C."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5907\u6CE8\uFF1A"})," \u4EFB\u4F55\u53C2\u6570\u5FC5\u987B\u5728\u8C03\u7528 amx_Exec \u4E4B\u524D\u63A8\u9001\u5230\u51FD\u6570. \u5982\u679C\u516C\u5171\u51FD\u6570\u6709\u591A\u4E2A\u53C2\u6570, \u5FC5\u987B\u4EE5\u76F8\u53CD\u7684\u987A\u5E8F\u63A8\u9001\u53C2\u6570."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_exec",children:"amx_Exec"}),", ",(0,s.jsx)(e.a,{href:"#amx_pusharray",children:"amx_PushArray"}),", ",(0,s.jsx)(e.a,{href:"#amx_pushstring",children:"amx_PushString"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_pusharray",children:"amx_PushArray"}),"\n",(0,s.jsx)(e.p,{children:"- \u901A\u8FC7\u5F15\u7528\u4F20\u9012\u53C2\u6570\u6216\u6570\u7EC4"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-8",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_PushArray(AMX *amx, cell *amx_addr, cell **phys_addr, const cell array[], int numcells);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx_addr"})}),(0,s.jsx)(e.td,{children:"\u5206\u914D\u7684\u5355\u5143\u683C\u7684\u5730\u5740, pawn \u7A0B\u5E8F(\u5728\u62BD\u8C61\u673A\u5668\u4E2D\u8FD0\u884C)\u53EF\u4EE5\u8BBF\u95EE\u8BE5\u5730\u5740, \u9700\u8981\u91CA\u653E\u5185\u5B58\u5757. \u6B64\u53C2\u6570\u53EF\u4EE5\u4E3A NULL."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"phys_addr"})}),(0,s.jsx)(e.td,{children:"C/C++ \u7A0B\u5E8F\u8BBF\u95EE\u7684\u5355\u5143\u683C\u7684\u5730\u5740. \u6B64\u53C2\u6570\u53EF\u4EE5\u4E3A NULL."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"array"})}),(0,s.jsx)(e.td,{children:"\u8981\u4F20\u9012\u7ED9\u516C\u5171\u51FD\u6570\u7684\u503C\u6570\u7EC4. \u5FC5\u987B\u901A\u8FC7\u5F15\u7528\u4F20\u9012\u7684\u5355\u4E2A\u5355\u5143\u683C\u88AB\u89C6\u4E3A\u5355\u4E2A\u5355\u5143\u683C\u6570\u7EC4."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"numcells"})}),(0,s.jsx)(e.td,{children:"\u6570\u7EC4\u4E2D\u7684\u5143\u7D20\u6570\u91CF."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5907\u6CE8\uFF1A"}),' \u4EFB\u4F55\u53C2\u6570\u5FC5\u987B\u5728\u8C03\u7528 amx_Exec \u4E4B\u524D\u63A8\u9001\u5230\u51FD\u6570. \u5982\u679C\u516C\u5171\u51FD\u6570\u6709\u591A\u4E2A\u53C2\u6570, \u5FC5\u987B\u4EE5\u76F8\u53CD\u7684\u987A\u5E8F\u63A8\u9001\u53C2\u6570. \u6B64\u51FD\u6570\u5728\u62BD\u8C61\u673A\u5668\u7684"\u5806"\u4E2D\u5206\u914D\u6570\u7EC4\u5185\u5B58. \u6B64\u5185\u5B58\u5FC5\u987B\u4F7F\u7528 amx_Release \u91CA\u653E. \u6709\u5173\u53C2\u6570 amx_addr \u548C phys_addr \u7684\u8BE6\u7EC6\u4FE1\u606F, \u8BF7\u53C2\u89C1\u51FD\u6570 amx_Allot.']}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_exec",children:"amx_Exec"}),", ",(0,s.jsx)(e.a,{href:"#amx_push",children:"amx_Push"}),", ",(0,s.jsx)(e.a,{href:"#amx_pushstring",children:"amx_PushString"}),", ",(0,s.jsx)(e.a,{href:"#amx_release",children:"amx_Release"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_pushstring",children:"amx_PushString"}),"\n",(0,s.jsx)(e.p,{children:"- \u4F20\u9012\u5B57\u7B26\u4E32\u53C2\u6570"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-9",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_PushString(AMX *amx, cell *amx_addr, cell **phys_addr, const char *string, int pack, int use_wchar);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx_addr"})}),(0,s.jsx)(e.td,{children:"\u5206\u914D\u7684\u5355\u5143\u683C\u7684\u5730\u5740, pawn \u7A0B\u5E8F(\u5728\u62BD\u8C61\u673A\u5668\u4E2D\u8FD0\u884C)\u53EF\u4EE5\u8BBF\u95EE\u8BE5\u5730\u5740, \u91CA\u653E\u5185\u5B58\u5757\u9700\u8981\u6B64\u53C2\u6570. \u6B64\u53C2\u6570\u53EF\u4EE5\u4E3A NULL."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"phys_addr"})}),(0,s.jsx)(e.td,{children:"C/C++ \u7A0B\u5E8F\u8BBF\u95EE\u7684\u5355\u5143\u683C\u7684\u5730\u5740. \u6B64\u53C2\u6570\u53EF\u4EE5\u4E3A NULL."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"string"})}),(0,s.jsx)(e.td,{children:"\u8981\u4F20\u9012\u7ED9\u516C\u5171\u51FD\u6570\u7684\u5B57\u7B26\u4E32."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"pack"})}),(0,s.jsx)(e.td,{children:"\u975E\u96F6\u503C\u5C06\u6E90\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u62BD\u8C61\u673A\u5668\u4E2D\u7684\u6253\u5305\u5B57\u7B26\u4E32, \u96F6\u503C\u5C06\u6E90\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u5355\u5143\u683C\u5B57\u7B26\u4E32."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"use_wchar"})}),(0,s.jsx)(e.td,{children:'\u975E\u96F6\u503C\u5C06\u5B57\u7B26\u4E32\u53C2\u6570\u89E3\u91CA\u4E3A\u6307\u5411"\u5BBD\u5B57\u7B26"\u7684\u6307\u9488, \u5373 wchar_t, \u65E0\u8BBA\u5176 char \u7C7B\u578B\u5982\u4F55. \u8FD9\u5141\u8BB8\u51FD\u6570\u63A5\u53D7 Unicode \u5B57\u7B26\u4E32.'})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5907\u6CE8\uFF1A"}),' \u4EFB\u4F55\u53C2\u6570\u5FC5\u987B\u5728\u8C03\u7528 amx_Exec \u4E4B\u524D\u63A8\u9001\u5230\u51FD\u6570. \u5982\u679C\u516C\u5171\u51FD\u6570\u6709\u591A\u4E2A\u53C2\u6570, \u5FC5\u987B\u4EE5\u76F8\u53CD\u7684\u987A\u5E8F\u63A8\u9001\u53C2\u6570. \u6B64\u51FD\u6570\u5728\u62BD\u8C61\u673A\u5668\u7684"\u5806"\u4E2D\u5206\u914D\u5185\u5B58. \u6B64\u5185\u5B58\u5FC5\u987B\u4F7F\u7528 amx_Release \u91CA\u653E. \u6709\u5173\u53C2\u6570 amx_addr \u548C phys_addr \u7684\u8BE6\u7EC6\u4FE1\u606F, \u8BF7\u53C2\u89C1\u51FD\u6570 amx_Allot. \u5F53\u4F20\u5165 Unicode \u5B57\u7B26\u4E32\u5E76\u8BF7\u6C42\u62BD\u8C61\u673A\u5668\u4E2D\u7684\u6253\u5305\u683C\u5F0F(\u5373 pack \u548C use_wchar \u90FD\u4E3A true)\u65F6, \u5B57\u7B26\u5C06\u88AB\u622A\u65AD\u4E3A 8 \u4F4D.']}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_exec",children:"amx_Exec"}),", ",(0,s.jsx)(e.a,{href:"#amx_push",children:"amx_Push"}),", ",(0,s.jsx)(e.a,{href:"#amx_pusharray",children:"amx_PushArray"}),", ",(0,s.jsx)(e.a,{href:"#amx_release",children:"amx_Release"}),", ",(0,s.jsx)(e.a,{href:"#amx_setstring",children:"amx_SetString"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_register",children:"amx_Register"}),"\n",(0,s.jsx)(e.p,{children:"- \u4F7F\u672C\u5730\u51FD\u6570\u53EF\u77E5"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-10",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_Register(AMX *amx, AMX NATIVE INFO *list, int number);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"list"})}),(0,s.jsx)(e.td,{children:"\u7ED3\u6784\u6570\u7EC4, \u6BCF\u4E2A\u7ED3\u6784\u5305\u542B\u4E00\u4E2A\u6307\u5411\u672C\u5730\u51FD\u6570\u540D\u79F0\u7684\u6307\u9488\u548C\u4E00\u4E2A\u51FD\u6570\u6307\u9488. \u5217\u8868\u53EF\u4EE5\u7528\u4E24\u4E2A NULL \u6307\u9488\u7684\u7ED3\u6784\u53EF\u9009\u5730\u7EC8\u6B62."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"number"})}),(0,s.jsx)(e.td,{children:"\u5217\u8868\u6570\u7EC4\u4E2D\u7684\u7ED3\u6784\u6570\u91CF, \u6216 -1 \u5982\u679C\u5217\u8868\u4EE5\u5305\u542B\u4E24\u4E2A NULL \u6307\u9488\u7684\u7ED3\u6784\u7ED3\u675F."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5907\u6CE8\uFF1A"})," \u6210\u529F\u65F6, \u6B64\u51FD\u6570\u8FD4\u56DE 0(AMX_ERR_NONE). \u5982\u679C\u6B64\u51FD\u6570\u8FD4\u56DE\u9519\u8BEF\u4EE3\u7801 AMX_ERR_NOTFOUND, \u5219\u8868\u793A\u5728\u63D0\u4F9B\u7684\u5217\u8868\u4E2D\u627E\u4E0D\u5230\u4E00\u4E2A\u6216\u591A\u4E2A\u7531 pawn \u7A0B\u5E8F\u4F7F\u7528\u7684\u672C\u5730\u51FD\u6570. \u53EF\u4EE5\u518D\u6B21\u8C03\u7528 amx_Register \u6765\u6CE8\u518C\u989D\u5916\u7684\u51FD\u6570\u5217\u8868."]}),"\n",(0,s.jsx)(e.p,{children:"\u8981\u68C0\u67E5\u7F16\u8BD1\u811A\u672C\u4E2D\u4F7F\u7528\u7684\u6240\u6709\u672C\u5730\u51FD\u6570\u662F\u5426\u5DF2\u6CE8\u518C, \u53EF\u4EE5\u5C06\u53C2\u6570 list \u8BBE\u7F6E\u4E3A NULL \u8C03\u7528 amx_Register. \u6B64\u8C03\u7528\u4E0D\u4F1A\u6CE8\u518C\u4EFB\u4F55\u65B0\u7684\u672C\u5730\u51FD\u6570, \u4F46\u5982\u679C\u6709\u4EFB\u4F55\u672C\u5730\u51FD\u6570\u672A\u6CE8\u518C, \u5219\u4ECD\u4F1A\u8FD4\u56DE AMX_ERR_NOTFOUND."}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u89C1\uFF1A"})," amx_NativeInfo+"]}),"\n",(0,s.jsx)(e.h2,{id:"amx_release",children:"amx_Release"}),"\n",(0,s.jsx)(e.p,{children:"- \u91CA\u653E\u62BD\u8C61\u673A\u5668\u4E2D\u7684\u5806\u7A7A\u95F4"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-11",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_Release(AMX *amx, cell amx_addr);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx_addr"})}),(0,s.jsx)(e.td,{children:"\u5206\u914D\u7684\u5355\u5143\u683C\u7684\u5730\u5740, pawn \u7A0B\u5E8F(\u5728\u62BD\u8C61\u673A\u5668\u4E2D\u8FD0\u884C)\u770B\u5230\u7684\u5730\u5740. \u6B64\u503C\u7531 amx_Allot\u3001amx_PushArray \u548C amx_PushString \u8FD4\u56DE."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5907\u6CE8\uFF1A"})," amx_Allot \u6309\u5347\u5E8F\u5728\u5806\u4E0A\u5206\u914D\u5185\u5B58(\u5806\u5411\u4E0A\u589E\u957F). amx_Release \u91CA\u653E\u9AD8\u4E8E\u8F93\u5165\u53C2\u6570 amx_addr \u503C\u7684\u6240\u6709\u5185\u5B58. \u5373, \u5355\u6B21\u8C03\u7528 amx_Release \u53EF\u4EE5\u91CA\u653E\u591A\u6B21\u8C03\u7528 amx_Allot \u7684\u5185\u5B58, \u5982\u679C\u4F20\u9012\u7684\u662F\u7B2C\u4E00\u6B21\u5206\u914D\u7684 amx_addr \u503C. amx_PushArray \u548C amx_PushString \u5185\u90E8\u4F7F\u7528 amx_Allot, \u56E0\u6B64\u8FD9\u4E9B\u51FD\u6570\u4E5F\u9002\u7528\u76F8\u540C\u7684\u8FC7\u7A0B."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u89C1\uFF1A"})," ",(0,s.jsx)(e.a,{href:"#amx_allot",children:"amx_Allot"}),", ",(0,s.jsx)(e.a,{href:"#amx_pusharray",children:"amx_PushArray"}),", ",(0,s.jsx)(e.a,{href:"#amx_pushstring",children:"amx_PushString"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_setstring",children:"amx_SetString"}),"\n",(0,s.jsx)(e.p,{children:"- \u5C06\u5B57\u7B26\u4E32\u5B58\u50A8\u5728\u62BD\u8C61\u673A\u5668\u4E2D"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-12",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_SetString(cell *dest, char *source, int pack, int use_wchar, size_t size);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"dest"})}),(0,s.jsx)(e.td,{children:"\u6307\u5411 amx \u4E2D\u5B57\u7B26\u6570\u7EC4\u7684\u6307\u9488, \u5176\u4E2D\u5B58\u50A8\u8F6C\u6362\u540E\u7684\u5B57\u7B26\u4E32. \u4F7F\u7528 amx_GetAddr \u5C06 amx \u4E2D\u7684\u5B57\u7B26\u4E32\u5730\u5740\u8F6C\u6362\u4E3A\u7269\u7406\u5730\u5740."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"source"})}),(0,s.jsx)(e.td,{children:"\u6307\u5411\u6E90\u5B57\u7B26\u4E32\u7684\u6307\u9488."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"pack"})}),(0,s.jsx)(e.td,{children:"\u975E\u96F6\u503C\u5C06\u6E90\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u62BD\u8C61\u673A\u4E2D\u7684\u6253\u5305\u5B57\u7B26\u4E32, \u96F6\u503C\u5C06\u6E90\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u5355\u5143\u5B57\u7B26\u4E32."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"string"})}),(0,s.jsx)(e.td,{children:"\u4F20\u9012\u7ED9\u516C\u5171\u51FD\u6570\u7684\u5B57\u7B26\u4E32."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"use_wchar"})}),(0,s.jsx)(e.td,{children:'\u975E\u96F6\u503C\u5C06\u5B57\u7B26\u4E32\u53C2\u6570\u89E3\u91CA\u4E3A"\u5BBD\u5B57\u7B26"\u5373 wchar_t \u7684\u6307\u9488, \u65E0\u8BBA\u5176\u5B57\u7B26\u7C7B\u578B\u5982\u4F55. \u8FD9\u5141\u8BB8\u51FD\u6570\u63A5\u53D7 Unicode \u5B57\u7B26\u4E32.'})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"size"})}),(0,s.jsx)(e.td,{children:"\u5B58\u50A8\u5728 dest \u4E2D\u7684\u6700\u5927\u5355\u5143\u6570, \u5305\u62EC\u7EC8\u6B62\u7684\u96F6\u5B57\u8282\u6216\u5355\u5143. \u5982\u679C\u6E90\u5B57\u7B26\u4E32\u7684\u957F\u5EA6\u8D85\u8FC7\u4E86 dest \u53EF\u4EE5\u5BB9\u7EB3\u7684\u5355\u5143\u6570, \u5219\u4F1A\u88AB\u622A\u65AD."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u6CE8\u610F\uFF1A"})," \u5F53\u4F60\u4F20\u9012 Unicode \u5B57\u7B26\u4E32\u5E76\u8981\u6C42\u5728\u62BD\u8C61\u673A\u4E2D\u4F7F\u7528\u6253\u5305\u683C\u5F0F(\u5373 pack \u548C use_wchar \u90FD\u4E3A true)\u65F6, \u5B57\u7B26\u5C06\u88AB\u622A\u65AD\u4E3A 8 \u4F4D."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u89C1:"})," ",(0,s.jsx)(e.a,{href:"#amx_getstring",children:"amx_GetString"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx_strlen",children:"amx_StrLen"}),"\n",(0,s.jsx)(e.p,{children:"- \u83B7\u53D6\u5B57\u7B26\u4E32\u7684\u5B57\u7B26\u957F\u5EA6"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-13",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"int amx_StrLen(const cell *cstring, int *length);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"cstring"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u4E2D\u7684\u5B57\u7B26\u4E32."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"length"})}),(0,s.jsx)(e.td,{children:"\u8BE5\u53C2\u6570\u5C06\u5728\u8FD4\u56DE\u65F6\u4FDD\u5B58\u5B57\u7B26\u4E32\u7684\u957F\u5EA6."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u6CE8\u610F:"})," \u8FD9\u4E2A\u51FD\u6570\u786E\u5B9A\u5B57\u7B26\u4E32\u7684\u5B57\u7B26\u957F\u5EA6, \u4E0D\u5305\u62EC\u96F6\u7EC8\u6B62\u5B57\u7B26(\u6216\u5355\u5143\u683C). \u4E00\u4E2A\u6253\u5305\u5B57\u7B26\u4E32\u5360\u7528\u7684\u5355\u5143\u683C\u6BD4\u5176\u5B57\u7B26\u6570\u5C11. \u5982\u679C cstring \u53C2\u6570\u4E3A NULL, \u5219\u957F\u5EA6\u53C2\u6570\u5C06\u88AB\u8BBE\u7F6E\u4E3A\u96F6 (0), \u5E76\u4E14\u51FD\u6570\u5C06\u8FD4\u56DE\u9519\u8BEF\u4EE3\u7801. \u5BF9\u4E8E\u5C06\u89E3\u5305\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A UTF-8, \u51FD\u6570 amx_UTF8Len \u53EF\u80FD\u66F4\u65B9\u4FBF."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u89C1:"})," ",(0,s.jsx)(e.a,{href:"#amx_getaddr",children:"amx_GetAddr"}),", ",(0,s.jsx)(e.a,{href:"#amx_getstring",children:"amx_GetString"}),", ",(0,s.jsx)(e.a,{href:"#amx_setstring",children:"amx_SetString"}),", ",(0,s.jsx)(e.a,{href:"#amx_strparam",children:"amx_StrParam"}),", amx_UTF8Len+"]}),"\n",(0,s.jsx)(e.h2,{id:"amx_strparam",children:"amx_StrParam"}),"\n",(0,s.jsx)(e.p,{children:"- \u4ECE\u62BD\u8C61\u673A\u5668\u4E2D\u83B7\u53D6\u5B57\u7B26\u4E32\u53C2\u6570"}),"\n",(0,s.jsx)(e.h3,{id:"\u8BED\u6CD5-14",children:"\u8BED\u6CD5"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"amx_StrParam([AMX*] amx, [int] param, [char*] result);\n"})}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u53C2\u6570"}),(0,s.jsx)(e.th,{children:"\u8BF4\u660E"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"amx"})}),(0,s.jsx)(e.td,{children:"\u62BD\u8C61\u673A\u5668."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"param"})}),(0,s.jsx)(e.td,{children:"\u53C2\u6570\u7F16\u53F7."})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"result"})}),(0,s.jsx)(e.td,{children:"\u4E00\u4E2A\u53D8\u91CF, \u7528\u4E8E\u4FDD\u5B58\u8FD4\u56DE\u7ED3\u679C."})]})]})]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u6CE8\u610F:"})," \u8FD9\u4E2A\u5B8F\u5206\u914D\u4E86\u4E00\u5757\u5185\u5B58(\u4F7F\u7528 alloca)\u5E76\u5C06\u5B57\u7B26\u4E32\u53C2\u6570(\u4F20\u9012\u7ED9\u672C\u5730\u51FD\u6570)\u590D\u5236\u5230\u8BE5\u5757\u5185\u5B58\u4E2D. \u6709\u5173\u4F7F\u7528\u6B64\u5B8F\u7684\u793A\u4F8B, \u8BF7\u53C2\u89C1\u7B2C 56 \u9875."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u53E6\u89C1:"})," ",(0,s.jsx)(e.a,{href:"#amx_getaddr",children:"amx_GetAddr"}),", ",(0,s.jsx)(e.a,{href:"#amx_getstring",children:"amx_GetString"}),", ",(0,s.jsx)(e.a,{href:"#amx_strlen",children:"amx_StrLen"})]}),"\n",(0,s.jsx)(e.h2,{id:"amx-\u51FD\u6570\u793A\u4F8B",children:"Amx \u51FD\u6570\u793A\u4F8B"}),"\n",(0,s.jsx)(e.p,{children:"\u4E3A\u4E86\u907F\u514D\u5927\u6BB5\u6587\u5B57\u5899, \u6211\u51B3\u5B9A\u5728\u4EE3\u7801\u4E2D\u6DFB\u52A0\u6CE8\u91CA\u6765\u89E3\u91CA\u6211\u5728\u505A\u4EC0\u4E48, \u800C\u4E0D\u662F\u5728\u4E3B\u9898\u4E2D\u9010\u4E00\u8BF4\u660E. \u9605\u8BFB\u793A\u4F8B\u65F6, \u6700\u597D\u540C\u65F6\u6253\u5F00 wiki \u6587\u7AE0\u4F5C\u4E3A\u53C2\u8003."}),"\n",(0,s.jsx)(e.h3,{id:"\u6CE8\u518C\u672C\u5730\u51FD\u6570",children:"\u6CE8\u518C\u672C\u5730\u51FD\u6570"}),"\n",(0,s.jsx)(e.p,{children:"\u6211\u4EEC\u63D0\u4F9B\u7ED9 PAWN \u7684\u6BCF\u4E00\u4E2A\u51FD\u6570\u90FD\u5FC5\u987B\u6CE8\u518C, \u4EE5\u4FBF\u62BD\u8C61\u673A\u5668\u80FD\u591F\u610F\u8BC6\u5230\u5B83\u7684\u5B58\u5728. \u56E0\u6B64, \u6211\u8BA4\u4E3A\u4ECE amx_Register \u5F00\u59CB\u53EF\u80FD\u662F\u4E2A\u597D\u4E3B\u610F\uFF01\u5E78\u8FD0\u7684\u662F, \u6211\u4EEC\u5B9E\u9645\u4E0A\u5DF2\u7ECF\u5728\u4E4B\u524D\u7684\u90E8\u5206\u4F7F\u7528\u4E86\u6CE8\u518C\u672C\u5730\u51FD\u6570\u7684\u793A\u4F8B, \u6240\u4EE5\u6211\u5C06\u518D\u6B21\u4F7F\u7528\u8FD9\u4E2A\u793A\u4F8B\u5E76\u6DFB\u52A0\u4E00\u4E9B\u6CE8\u91CA."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//\u6211\u4EEC\u5E0C\u671B\u5411\u62BD\u8C61\u673A\u5668\u6CE8\u518C\u7684\u51FD\u6570\u6570\u7EC4.\nAMX_NATIVE_INFO PluginNatives[] =\n{\n    //\u5728\u8FD9\u91CC\u6211\u4EEC\u6307\u5B9A\u672C\u5730\u51FD\u6570\u7684\u4FE1\u606F, \u5E76\u7528\u4E24\u4E2A\u7A7A\u503C\u7EC8\u6B62\u6570\u7EC4.\n    {"HelloWorld", HelloWorld},\n    {0, 0}\n};\n\nPLUGIN_EXPORT int PLUGIN_CALL AmxLoad( AMX *amx )\n{\n    //\u5728\u8FD9\u91CC\u6211\u4EEC\u5C06\u672C\u5730\u51FD\u6570\u6CE8\u518C\u5230\u62BD\u8C61\u673A\u5668. \u6CE8\u610F\u6211\u4EEC\u4F7F\u7528 -1. \u901A\u5E38\u8FD9\u5E94\u8BE5\u662F\u6211\u4EEC\u6B63\u5728\u6CE8\u518C\u7684\u51FD\u6570\u7684\u6570\u91CF, \u4F46\u7531\u4E8E\u6211\u4EEC\u7528\u4E24\u4E2A\u7A7A\u503C\u7EC8\u6B62\u4E86\u6570\u7EC4, \u6211\u4EEC\u53EF\u4EE5\u6307\u5B9A -1.\n    return amx_Register(amx, PluginNatives, -1);\n}\n'})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.h3,{id:"\u83B7\u53D6\u5B57\u7B26\u4E32\u53CA\u5176\u957F\u5EA6",children:"\u83B7\u53D6\u5B57\u7B26\u4E32\u53CA\u5176\u957F\u5EA6"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//\u8FD9\u4E2A\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u4ECE PAWN \u83B7\u53D6\u5B57\u7B26\u4E32(\u53CA\u5176\u957F\u5EA6).\n//PAWN \u672C\u5730\u51FD\u6570\uFF1Anative PrintPawnString(const str[]);\ncell AMX_NATIVE_CALL PrintPawnString(AMX* amx, cell* params)\n{\n    int\n        len = NULL,\n        ret = NULL;\n\n    cell *addr  = NULL;\n\n    //\u83B7\u53D6\u6211\u4EEC\u5B57\u7B26\u4E32\u53C2\u6570 (str) \u7684\u5730\u5740, \u7136\u540E\u83B7\u53D6\u5176\u957F\u5EA6\n    amx_GetAddr(amx, params[1], &addr);\n    amx_StrLen(addr, &len);\n\n    //\u5982\u679C\u8F93\u5165\u7684\u957F\u5EA6\u4E0D\u4E3A 0\n    if(len)\n    {\n        //\u6211\u4EEC\u589E\u52A0 len, \u56E0\u4E3A\u6211\u4EEC\u5728\u5206\u914D\u5185\u5B58\u65F6\u8981\u4E3A\u7EC8\u6B62\u7684 null \u5B57\u7B26\u7559\u51FA\u7A7A\u95F4.\n        //\u6B64\u5916, \u56E0\u4E3A GetString \u7684\u5927\u5C0F\u53C2\u6570\u8BA1\u7B97\u4E86 null \u5B57\u7B26, \u6211\u4EEC\u5FC5\u987B\u6307\u5B9A\u5B57\u7B26\u4E32\u7684\u957F\u5EA6 + 1\uFF1B\u5426\u5219\u6211\u4EEC\u7684\u5B57\u7B26\u4E32\u5C06\u88AB\u622A\u65AD\u4EE5\u4E3A null \u5B57\u7B26\u7559\u51FA\u7A7A\u95F4(\u6211\u4EEC\u4F1A\u4E22\u5931 1 \u4E2A\u5B57\u7B26).\n        len++;\n\n        //\u5206\u914D\u5185\u5B58\u4EE5\u5BB9\u7EB3\u6211\u4EEC\u4F20\u9012\u7684\u5B57\u7B26\u4E32 (str), \u7136\u540E\u4F7F\u7528\u5206\u914D\u7684\u5185\u5B58\u6765"\u83B7\u53D6"\u5B57\u7B26\u4E32.\n        char* text = new char[ len ];\n        amx_GetString(text, addr, 0, len);\n\n        //\u4F7F\u7528 logprintf \u6253\u5370\u5B57\u7B26\u4E32 (text). \u6211\u4EEC\u4E0D\u4F7F\u7528 std::cout, \u56E0\u4E3A\u5B83\u4E0D\u4F1A\u5199\u5165\u670D\u52A1\u5668\u65E5\u5FD7(\u53EA\u5199\u5165\u63A7\u5236\u53F0).\n        logprintf(text);\n\n        //\u91CA\u653E\u6211\u4EEC\u7684\u5185\u5B58...\n        delete[] text;\n    }\n    return 1;\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u83B7\u53D6\u5B57\u7B26\u4E32\u7684\u66FF\u4EE3\u65B9\u6CD5",children:"\u83B7\u53D6\u5B57\u7B26\u4E32\u7684\u66FF\u4EE3\u65B9\u6CD5"}),"\n",(0,s.jsx)(e.p,{children:"\u6211\u51B3\u5B9A\u6DFB\u52A0\u8FD9\u4E2A\u90E8\u5206, \u56E0\u4E3A\u6211\u77E5\u9053\u4EBA\u4EEC\u4F1A\u88AB\u5B83\u7684\u7B80\u5355\u6027\u6240\u5438\u5F15, \u6211\u8BA4\u4E3A\u4ED6\u4EEC\u5E94\u8BE5\u4E86\u89E3\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\u53EF\u80FD\u5E26\u6765\u7684\u98CE\u9669\u548C\u95EE\u9898."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"//\u6B64\u51FD\u6570\u6F14\u793A\uFF1A\u4E00\u79CD\u4ECE pawn \u83B7\u53D6\u5B57\u7B26\u4E32\u7684\u66FF\u4EE3\u65B9\u6CD5\u53CA\u5176\u53EF\u80FD\u5E26\u6765\u7684\u98CE\u9669.\n//PAWN \u539F\u751F\u51FD\u6570\uFF1Anative PrintPawnString2(const str[]);\ncell AMX_NATIVE_CALL PrintPawnString2(AMX* amx, cell* params)\n{\n    //\u8FD9\u79CD\u65B9\u6CD5\u5E76\u4E0D\u63A8\u8350, \u56E0\u4E3A amx_StrParam \u5B8F\u4F7F\u7528\u4E86 alloca \u51FD\u6570, \u800C alloca \u4E0D\u662F C \u6216 C++ \u7684\u6807\u51C6\u51FD\u6570.\n    //\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\u5B58\u5728\u5806\u6808\u6EA2\u51FA\u7684\u98CE\u9669(\u5982\u679C\u4F60\u5206\u914D\u4E86\u5927\u91CF\u5185\u5B58), \u540C\u65F6\u4E5F\u5B58\u5728\u9519\u8BEF\u7684\u98CE\u9669(\u8FD9\u4E2A\u51FD\u6570\u4F9D\u8D56\u4E8E\u673A\u5668\u548C\u7F16\u8BD1\u5668 - \u4E00\u4E9B\u5B9E\u73B0\u88AB\u8BA4\u4E3A\u6709\u7F3A\u9677).\n\n    char* text = NULL;\n    amx_StrParam(amx, params[1], text);\n\n    //\u68C0\u67E5 text \u662F\u5426\u4E3A null\n    if(text != NULL)\n    {\n        //\u4F7F\u7528 logprintf \u6253\u5370\u5B57\u7B26\u4E32(text). \u6211\u4EEC\u4E0D\u4F7F\u7528 std::cout, \u56E0\u4E3A\u5B83\u4E0D\u4F1A\u5199\u5165\u670D\u52A1\u5668\u65E5\u5FD7(\u4EC5\u63A7\u5236\u53F0).\n        logprintf(text);\n    }\n    return 1;\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u5982\u4F55\u8BBE\u7F6E\u4E00\u4E2A\u5B57\u7B26\u4E32",children:"\u5982\u4F55\u8BBE\u7F6E\u4E00\u4E2A\u5B57\u7B26\u4E32"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//\u6B64\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u4FEE\u6539PAWN\u5B57\u7B26\u4E32.\n//PAWN \u539F\u751F\u51FD\u6570: native SetPawnString(str[], len = sizeof(str));\ncell AMX_NATIVE_CALL SetPawnString(AMX* amx, cell* params)\n{\n    const string message = "\u8FD9\u662F\u6765\u81EAC/++\u7684\u5B57\u7B26\u4E32!!";\n    cell* addr = NULL;\n\n    //\u83B7\u53D6\u5B57\u7B26\u4E32\u53C2\u6570(str)\u7684\u5730\u5740, \u5E76\u5B58\u50A8\u6211\u4EEC\u7684\u6D88\u606F\n    amx_GetAddr(amx, params[1], &addr);\n    amx_SetString(addr, message.c_str(), 0, 0, params[2]);\n    return 1;\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u7C7B\u578B\u8F6C\u6362\u5E76\u8FD4\u56DE\u6D6E\u70B9\u6570",children:"\u7C7B\u578B\u8F6C\u6362\u5E76\u8FD4\u56DE\u6D6E\u70B9\u6570"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"//\u6B64\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u5C06\u6D6E\u70B9\u6570\u8F6C\u6362\u4E3APAWN\u6D6E\u70B9\u6570\u5E76\u8FD4\u56DE.\n//PAWN \u539F\u751F\u51FD\u6570: native Float:ReturnPawnFloatVal();\ncell AMX_NATIVE_CALL ReturnPawnFloatVal(AMX* amx, cell* params)\n{\n    //\u7531\u4E8EPAWN\u662F\u4E00\u79CD\u65E0\u7C7B\u578B\u8BED\u8A00, \u5B83\u5C06\u6240\u6709\u5185\u5BB9\u5B58\u50A8\u4E3A32\u4F4D\u6574\u6570, \u5E76\u4F9D\u9760\u6807\u7B7E\u6765\u5904\u7406\u7279\u6B8A\u6570\u636E.\n    //\u6D6E\u70B9\u6570\u4E5F\u4E0D\u4F8B\u5916\uFF1B\u5B83\u4ECD\u7136\u662F32\u4F4D\u6574\u6570, \u4F46\u5B83\u6709\u4E00\u4E2AFloat\u6807\u7B7E, \u8868\u793A\u5B83\u4E0D\u5E94\u50CF\u666E\u901A\u6574\u6570\u90A3\u6837\u5904\u7406.\n    //\u90A3\u4E48\u5982\u4F55\u5728\u4E0D\u4E22\u5931\u6570\u636E\u7684\u60C5\u51B5\u4E0B\u5C06\u6D6E\u70B9\u6570\u8F6C\u6362\u4E3A32\u4F4D\u6574\u6570(\u7528\u4E8EPAWN)\u5462\uFF1F\n    //\u7B54\u6848\u662Famx_ftoc\u5B8F\uFF01\n\n    //\u5B8Famx_ftoc\u5728\u4FDD\u6301\u4F4D\u6A21\u5F0F\u7684\u540C\u65F6, \u5C06\u6D6E\u70B9\u6570\u7C7B\u578B\u8F6C\u6362\u4E3A\u5355\u5143\u683C(amx_ctof\u505A\u76F8\u53CD\u7684\u64CD\u4F5C).\n    const float f = 22.624f;\n    return amx_ftoc(f);\n}\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u901A\u8FC7\u5F15\u7528\u4F20\u9012\u53C2\u6570",children:"\u901A\u8FC7\u5F15\u7528\u4F20\u9012\u53C2\u6570"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//\u6B64\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u901A\u8FC7\u5F15\u7528\u4F20\u9012\u53C2\u6570.\n//PAWN \u539F\u751F\u51FD\u6570: native SetPawnReferenceVars(&value1, &Float:value2);\ncell AMX_NATIVE_CALL SetPawnReferenceVars(AMX* amx, cell* params)\n{\n    const int val = 65;\n    const float val2 = 84.54f;\n\n    cell* addr[2] = {NULL, NULL};\n\n    //\u83B7\u53D6"value1"\u548C"value2"\u7684\u5730\u5740\n    amx_GetAddr(amx, params[1], &addr[0]);\n    amx_GetAddr(amx, params[2], &addr[1]);\n\n    //\u53D6\u6D88\u5F15\u7528\u6307\u9488\u5E76\u5206\u914D\u6211\u4EEC\u7684\u503C. \u8BF7\u8BB0\u4F4F, \u59CB\u7EC8\u4F7F\u7528\u5B8F"amx_ftoc"\u5C06\u6D6E\u70B9\u6570\u8F6C\u6362\u4E3A\u5355\u5143\u683C(PAWN\u7684\u9002\u5F53\u6D6E\u70B9\u683C\u5F0F)\uFF01\n    *addr[0] = val;\n    *addr[1] = amx_ftoc(val2);\n\n    return 1;\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u83B7\u53D6\u548C\u4FEE\u6539\u6570\u7EC4\u503C",children:"\u83B7\u53D6\u548C\u4FEE\u6539\u6570\u7EC4\u503C"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//\u6B64\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u83B7\u53D6\u548C\u4FEE\u6539\u6570\u7EC4\u503C.\n//PAWN \u539F\u751F\u51FD\u6570: native PrintPawnArray(arr[], size = sizeof(arr));\ncell AMX_NATIVE_CALL PrintPawnArray(AMX* amx, cell* params)\n{\n    //\u786E\u4FDD\u6709\u4E1C\u897F\u53EF\u6253\u5370...\n    if(params[2] > 0)\n    {\n        cell* addr = NULL;\n\n        //\u83B7\u53D6\u6211\u4EECPAWN\u6570\u7EC4\u4E2D\u7B2C\u4E00\u4E2A\u503C\u7684\u5730\u5740.\n        amx_GetAddr(amx, params[1], &addr);\n\n        for(int i = 0, l = params[2]; i < l; i++)\n        {\n            //\u8FD9\u975E\u5E38\u7B80\u5355\uFF1A\u6211\u4EEC\u53D6\u6D88\u5F15\u7528addr\u6307\u9488\u4EE5\u83B7\u53D6\u8981\u6253\u5370\u7684\u503C.\n            //\u4F60\u5E94\u8BE5\u5DF2\u7ECF\u77E5\u9053\u8FD9\u4E00\u70B9, \u4F46\u6570\u7EC4\u548C\u6307\u9488\u51E0\u4E4E\u662F\u540C\u4E00\u56DE\u4E8B, \u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u6307\u9488\u8FD0\u7B97\u6DFB\u52A0\u504F\u79FB\u91CF, \u6216\u8005\u53EA\u662F\u4F7F\u7528\u4E0B\u6807\u8FD0\u7B97\u7B26(\u6700\u7EC8*(addr+1)\u548Caddr[1]\u662F\u4E00\u6837\u7684).\n            logprintf("arr[%d] = %d", i, *(addr + i));\n\n            //\u5982\u679C\u4F60\u60F3\u4FEE\u6539\u6570\u7EC4, \u4F60\u53EA\u9700\u901A\u8FC7\u53D6\u6D88\u5F15\u7528addr\u5E76\u5206\u914D\u4E00\u4E2A\u65B0\u503C\u6765\u66F4\u6539\u5176\u503C.\n            //\u4F60\u4E5F\u5E94\u8BE5\u77E5\u9053\u8FD9\u4E00\u70B9, \u6211\u53EA\u662F\u4E3A\u4E86\u5B8C\u6574\u6027\u800C\u6DFB\u52A0\u5B83. \u5728\u8FD9\u91CC, \u6211\u4EEC\u5C06\u6570\u7EC4\u7684\u7B2C\u4E00\u4E2A\u503C\u66F4\u6539\u4E3A5(\u6CE8\u610F\uFF1A\u7531\u4E8E\u5B83\u662F\u7B2C\u4E00\u4E2A\u503C, \u6CA1\u6709\u4F7F\u7528\u504F\u79FB\u91CF).\n\n            // *(addr) = 5;\n        }\n    }\n    return 1;\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u8C03\u7528\u56DE\u8C03\u51FD\u6570",children:"\u8C03\u7528\u56DE\u8C03\u51FD\u6570"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//\u6B64\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u8C03\u7528PAWN\u811A\u672C\u4E2D\u7684\u56DE\u8C03\u51FD\u6570.\n//PAWN \u539F\u751F\u51FD\u6570: native EmitPawnCallback();\ncell AMX_NATIVE_CALL EmitPawnCallback(AMX* amx, cell* params)\n{\n    int idx;\n\n    const cell var = 3;\n    const cell arr[] = {100, 4, 33};\n    const string str = "\u6765\u81EAC++\u7684\u968F\u673A\u6D88\u606F. ";\n\n\n    //Pawn \u56DE\u8C03\uFF1Aforward OnPawnCallbackEmitted(var, arr[], str[]);\n    //\u627E\u5230\u6211\u4EEC\u7684\u56DE\u8C03\u5E76\u5C06\u5176\u4F4D\u7F6E\u5B58\u50A8\u5728\u516C\u5171\u51FD\u6570\u8868\u4E2D(\u5B83\u7684\u7D22\u5F15)\u5230\u6211\u4EEC\u7684idx\u53D8\u91CF\u4E2D.\n    if(!amx_FindPublic(amx, "OnPawnCallbackEmitted", &idx))\n    {\n        cell\n            ret,\n            addr;\n\n        //\u5728\u8FD9\u91CC, \u6211\u4EEC\u5C06\u53C2\u6570\u63A8\u9001\u5230\u51FD\u6570\u4E2D. \u6CE8\u610F, \u5982\u679C\u51FD\u6570\u6709\u591A\u4E2A\u53C2\u6570, \u4F60\u5FC5\u987B\u4EE5\u76F8\u53CD\u7684\u987A\u5E8F\u63A8\u9001\u4F60\u7684\u503C\uFF01\u8FD9\u5C31\u662F\u4E3A\u4EC0\u4E48\u6211\u4EEC\u5148\u63A8\u9001\u5B57\u7B26\u4E32, \u7136\u540E\u662F\u6570\u7EC4, \u6700\u540E\u662F\u6574\u6570.\n\n        amx_PushString(amx, &addr, NULL, str.c_str(), NULL, NULL);\n        //amx_PushArray(amx, NULL, NULL, arr, sizeof(arr) / sizeof(cell));\n\n        cell\n            amx_addr,\n            *phys_addr;\n\n        //\u7531\u4E8E\u67D0\u79CD\u539F\u56E0, amx_PushArray\u4F3C\u4E4E\u4F1A\u4F7F\u670D\u52A1\u5668\u5D29\u6E83, \u800C\u6211\u5B8C\u5168\u4E0D\u77E5\u9053\u4E3A\u4EC0\u4E48. \u6839\u636E\u5B9E\u73B0\u8005\u7684\u6307\u5357\u548C\u4EE3\u7801, \u6211\u7684\u4F7F\u7528\u5E94\u8BE5\u662F\u5B8C\u5168\u6709\u6548\u7684. \u7531\u4E8E\u6B64\u51FD\u6570\u4E0D\u8D77\u4F5C\u7528, \u6211\u4EEC\u5FC5\u987B\n        //\u4F7F\u7528\u65E7\u65B9\u6CD5, \u81EA\u5DF1\u5206\u914D\u5185\u5B58, \u8BBE\u7F6E\u5B83, \u5E76\u5C06\u5176\u63A8\u9001\u5230\u6211\u4EEC\u81EA\u5DF1\u624B\u52A8\u7BA1\u7406\u7684\u7A7A\u95F4\u4E2D. \u8FD9\u975E\u5E38\u7B80\u5355. \u6211\u4EEC\u4F7F\u7528amx_Allot\u5728\u5806\u4E0A\u5206\u914D\u5185\u5B58(\u8FD9\u4F1A\u8FD4\u56DE\u4E24\u4E2A\u5730\u5740- \u4E00\u4E2A\u5728\u62BD\u8C61\u673A\u5668\u4E2D\u7684\u4F4D\u7F6E\n        //(amx_addr), \u53E6\u4E00\u4E2A\u662F\u76F8\u5BF9\u4E8E\u5B9E\u9645\u670D\u52A1\u5668\u7684\u5730\u5740\u7A7A\u95F4(phsy_addr - \u6211\u4EEC\u53EF\u4EE5\u5728C++\u4E2D\u4F7F\u7528)). \u4E00\u65E6\u5206\u914D\u4E86\u5185\u5B58, \u6211\u4EEC\u4F7F\u7528memcpy\u5C06\u5185\u5B58\u4ECE\u6211\u4EEC\u7684\u6570\u7EC4\u590D\u5236\u5230phys_addr\u5730\u5740\u4F4D\u7F6E.\n        amx_Allot(amx, sizeof(arr) / sizeof(cell), &amx_addr, &phys_addr);\n        memcpy(phys_addr, arr, sizeof(arr));\n        amx_Push(amx, amx_addr);\n\n        //\u63A8\u9001\u6211\u4EEC\u7684\u6574\u6570\u503C\n        amx_Push(amx, var);\n\n        //\u4F7F\u7528\u6211\u4EEC\u4E4B\u524D\u83B7\u5F97\u7684idx\u53D8\u91CF\u6267\u884C\u51FD\u6570.\n        //\u6CE8\u610F\uFF1A\u6B64\u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u56DE\u8C03\u8FD4\u56DE\u7684\u503C(\u5982\u679C\u4F60\u5BF9\u8FD4\u56DE\u503C\u4E0D\u611F\u5174\u8DA3, \u53EF\u4EE5\u4E3ANULL).\n        amx_Exec(amx, &ret, idx);\n\n        //\u91CA\u653E\u6211\u4EEC\u5206\u914D\u7684\u5185\u5B58. \u51FD\u6570amx_Alloc\u5728\u62BD\u8C61\u673A\u5668\u7684\u5806\u4E0A\u5206\u914D\u5185\u5B58.\n        //\u51FD\u6570amx_PushString\u548Camx_PushArray\u90FD\u5728\u5185\u90E8\u4F7F\u7528\u6B64\u51FD\u6570, \u56E0\u6B64\u6BCF\u6B21\u4F7F\u7528\u8FD9\u4E9B\u51FD\u6570\u65F6, \u4F60\u90FD\u5FC5\u987B\u91CA\u653E\u5185\u5B58. \u6CE8\u610F\uFF1A\u6211\u4EEC\u4F7F\u7528\u4E86amx_PushString\u548Camx_PushArray, \u5374\u53EA\u6709\u4E00\u4E2A\u91CA\u653E\u8C03\u7528.\n        //\u8FD9\u662F\u56E0\u4E3A\u5806\u4E0A\u7684\u5185\u5B58\u662F\u6309\u5347\u5E8F\u5206\u914D\u7684\uFF01amx_Release\u4F1A\u91CA\u653E\u4ECE\u67D0\u4E00\u70B9\u4EE5\u4E0A\u7684\u6240\u6709\u5185\u5B58\n        //(\u7B2C\u4E8C\u4E2A\u53C2\u6570, amx_addr - \u5373\u6211\u4EEC\u7684addr\u53D8\u91CF). \u7531\u4E8E\u5B83\u662F\u8FD9\u6837\u505A\u7684, \u6211\u4EEC\u53EA\u5B58\u50A8\u4E86\u6765\u81EAamx_PushString\u8C03\u7528\u7684\u5730\u5740, \u56E0\u4E3A\u5B83\u4F1A\u5220\u9664\u4ECE\u8BE5\u70B9\u5F00\u59CB\u7684\u6240\u6709\u5185\u5BB9.\n        amx_Release(amx, addr);\n\n        //\u6253\u5370\u8FD4\u56DE\u503C(\u4E3A\u4E86\u5B8C\u6574\u6027).\n        logprintf("EmitPawnCallback \u6CE8\u610F\uFF1AOnPawnCallbackEmitted\u56DE\u8C03\u8FD4\u56DE%d!", ret);\n\n    }\n    return 1;\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u8C03\u7528\u539F\u751F\u51FD\u6570\u548C\u6302\u94A9\u56DE\u8C03\u51FD\u6570",children:"\u8C03\u7528\u539F\u751F\u51FD\u6570\u548C\u6302\u94A9\u56DE\u8C03\u51FD\u6570"}),"\n",(0,s.jsx)(e.p,{children:"\u5728\u8FDB\u5165\u56DE\u8C03\u51FD\u6570\u6302\u94A9\u6216 SA-MP \u539F\u751F\u51FD\u6570\u8C03\u7528\u4E4B\u524D, \u6211\u60F3\u5148\u6F84\u6E05\u4E00\u4E9B\u4E8B\u60C5. \u6709\u4E9B\u4EBA\u4F3C\u4E4E\u8BA4\u4E3A\u63D2\u4EF6\u662F PAWN \u7684\u66FF\u4EE3\u54C1, \u4F46\u4E8B\u5B9E\u5E76\u975E\u5982\u6B64. \u63D2\u4EF6\u7684\u8BBE\u8BA1\u76EE\u7684\u662F\u4E3A PAWN \u63D0\u4F9B\u529F\u80FD, \u800C\u4E0D\u662F\u53D6\u4EE3\u5B83. \u6709\u65F6\u5019, \u5C06\u67D0\u4E9B\u529F\u80FD\u5F00\u53D1\u4E3A\u63D2\u4EF6\u800C\u4E0D\u662F PAWN \u811A\u672C\u662F\u6CA1\u6709\u610F\u4E49\u7684\u2014\u2014\u91CD\u8981\u7684\u662F\u8981\u95EE\u81EA\u5DF1\u662F\u5426\u771F\u7684\u5E94\u8BE5\u5C06\u67D0\u4E9B\u529F\u80FD\u5F00\u53D1\u4E3A\u63D2\u4EF6\u800C\u4E0D\u662F PAWN \u811A\u672C."}),"\n",(0,s.jsx)(e.p,{children:"\u5BF9\u4E8E\u56DE\u8C03\u6302\u94A9\u548C SA-MP \u539F\u751F\u51FD\u6570\u8C03\u7528, \u6709\u5F88\u591A\u4E0D\u540C\u7684\u65B9\u6CD5\u53EF\u4EE5\u4F7F\u7528. \u4E0D\u8FC7, \u6211\u73B0\u5728\u53EA\u4F1A\u4E13\u6CE8\u4E8E\u6BCF\u79CD\u65B9\u6CD5\u4E2D\u7684\u4E00\u79CD."}),"\n",(0,s.jsx)(e.h3,{id:"invoke",children:"Invoke"}),"\n",(0,s.jsxs)(e.p,{children:["Invoke \u662F\u4E00\u79CD\u7531 incognito \u521B\u5EFA\u7684 SA-MP \u539F\u751F\u51FD\u6570\u8C03\u7528\u65B9\u6CD5. \u4F60\u53EF\u4EE5\u5728",(0,s.jsx)(e.a,{href:"https://github.com/Dystans/SA-MP_Invoke_2.0",children:"\u8FD9\u91CC"}),"\u627E\u5230\u5B83. \u8BF7\u6CE8\u610F, \u5176\u4E2D\u6709\u4E00\u4E2A\u6587\u672C\u6587\u4EF6, \u5305\u542B\u5927\u91CF SA-MP \u539F\u751F\u51FD\u6570\u8C03\u7528. \u8FD9\u5BF9 Invoke \u81F3\u5173\u91CD\u8981, \u5FC5\u987B\u6DFB\u52A0\u5230\u4F60\u7684\u63D2\u4EF6\u7684 include \u6587\u4EF6\u4E2D. \u5982\u679C\u4F60\u6CA1\u6709\u4E00\u4E2A\u4F7F\u7528\u4F60\u63D2\u4EF6\u6240\u9700\u7684\u6240\u6709 SA-MP \u539F\u751F\u51FD\u6570\u7684\u516C\u5171 PAWN \u51FD\u6570, Invoke \u5C06\u65E0\u6CD5\u5DE5\u4F5C. \u6B64\u51FD\u6570\u4EC5\u7528\u4E8E\u8BA9 Invoke \u627E\u5230\u539F\u751F\u51FD\u6570\u7684\u5730\u5740, \u5E76\u4E14",(0,s.jsx)(e.strong,{children:"\u7EDD\u4E0D\u80FD"}),"\u5B9E\u9645\u5728\u4EFB\u4F55\u5730\u65B9\u4F7F\u7528."]}),"\n",(0,s.jsx)(e.h4,{id:"\u5F00\u59CB",children:"\u5F00\u59CB"}),"\n",(0,s.jsx)(e.p,{children:'\u5728\u6211\u4EEC\u5F00\u59CB\u8C03\u7528 SA-MP \u539F\u751F\u51FD\u6570\u4E4B\u524D, \u6211\u4EEC\u5FC5\u987B\u8BBE\u7F6E Invoke. \u6211\u4EEC\u9700\u8981\u505A\u7684\u7B2C\u4E00\u4EF6\u4E8B\u662F\u5C06\u5176\u5305\u542B\u5728\u6211\u4EEC\u7684\u9879\u76EE\u4E2D, \u4F60\u5E94\u8BE5\u8FD8\u8BB0\u5F97\u5982\u4F55\u5728\u524D\u9762\u7684"\u5F00\u59CB"\u90E8\u5206\u4E2D\u6267\u884C\u6B64\u64CD\u4F5C. \u4E00\u65E6\u5C06\u6587\u4EF6\u6DFB\u52A0\u5230\u9879\u76EE\u4E2D, \u53EA\u9700\u51E0\u4E2A\u7B80\u5355\u6B65\u9AA4\u5373\u53EF\u8BA9 Invoke \u5F00\u59CB\u5DE5\u4F5C\uFF1A'}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u5305\u542B Invoke \u5934\u6587\u4EF6."}),"\n",(0,s.jsx)(e.li,{children:"\u5728 Load \u4E0B\u4E3A Invoke \u5B9E\u4F8B\u5206\u914D\u5185\u5B58."}),"\n",(0,s.jsx)(e.li,{children:"\u6BCF\u6B21\u5728 AmxLoad \u4E0B\u52A0\u8F7D\u65B0\u7684 AMX \u5B9E\u4F8B\u65F6, \u63A8\u9001 amx_list \u6210\u5458\u53D8\u91CF."}),"\n",(0,s.jsx)(e.li,{children:"\u6BCF\u6B21\u5378\u8F7D\u811A\u672C\u65F6, \u8FED\u4EE3 Invoke \u7684 amx_list, \u627E\u5230\u5378\u8F7D\u7684 AMX \u5B9E\u4F8B, \u5E76\u5728 AmxUnload \u4E0B\u64E6\u9664\u5B83."}),"\n",(0,s.jsx)(e.li,{children:'\u521B\u5EFA\u4E00\u4E2A\u539F\u751F\u51FD\u6570, \u5F53\u52A0\u8F7D\u4F7F\u7528\u6211\u4EEC\u63D2\u4EF6\u7684 filterscript \u6216 gamemode \u65F6, \u8C03\u7528 Invoke \u7684"getAddresses"\u6210\u5458\u51FD\u6570\u4F9B PAWN \u4F7F\u7528.'}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:'\u8FD9\u5C31\u662F\u4E3A\u4F60\u7684\u63D2\u4EF6\u8BBE\u7F6E Invoke \u7684\u5168\u90E8\u5185\u5BB9. \u5269\u4E0B\u8981\u505A\u7684\u5C31\u662F\u5C06 Invoke \u5305\u4E2D\u627E\u5230\u7684\u516C\u5171 PAWN \u51FD\u6570(\u6211\u4EEC\u4E4B\u524D\u63D0\u5230\u7684 txt \u6587\u4EF6)\u6DFB\u52A0\u5230\u4F60\u7684\u63D2\u4EF6\u7684 include \u6587\u4EF6\u4E2D, \u5E76\u5728\u52A0\u8F7D\u811A\u672C\u65F6\u4F7F\u7528\u6700\u540E\u4E00\u4E2A\u8BBE\u7F6E\u6B65\u9AA4\u4E2D\u7684\u539F\u751F\u51FD\u6570. \u5BF9\u4E8E\u90A3\u4E9B\u5C06\u521B\u5EFA\u7528\u4E8E\u516C\u5F00\u53D1\u5E03\u7684\u63D2\u4EF6\u7684\u4EBA, \u6211\u5EFA\u8BAE\u4F60\u67E5\u770B\u8FD9\u4E2A\u5E16\u5B50. \u5B83\u5141\u8BB8\u5728 OnGameModeInit/OnFilterScriptInit \u56DE\u8C03\u4E2D\u8FDB\u884C\u5E72\u51C0\u65E0\u7F1D\u7684"\u6302\u94A9", \u4EE5\u4FBF\u4F60\u53EF\u4EE5\u6CE8\u518C SA-MP \u7684\u539F\u751F\u5730\u5740, \u800C\u4E0D\u4F1A\u5F3A\u8FEB\u6700\u7EC8\u7528\u6237\u81EA\u5DF1\u5C06\u51FD\u6570\u6DFB\u52A0\u5230\u8FD9\u4E9B\u56DE\u8C03\u4E2D.'}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u6CE8\u610F\uFF1A"})," \u6211\u77E5\u9053\u4EE5\u6587\u672C\u5F62\u5F0F\u89E3\u91CA\u8FD9\u4E00\u70B9\u53EF\u80FD\u5BF9\u5927\u591A\u6570\u65B0\u7528\u6237\u6765\u8BF4\u5E76\u4E0D\u7406\u60F3\uFF1B\u7136\u800C, \u8FD9\u4E9B\u90FD\u662F\u6807\u51C6\u7684 C/++\u4EFB\u52A1, \u4F60\u5E94\u8BE5\u5DF2\u7ECF\u719F\u6089\u4E86\u2014\u2014\u800C\u90A3\u4E9B\u4E0D\u719F\u6089\u7684(\u4F8B\u5982\uFF1A\u521B\u5EFA\u539F\u751F\u51FD\u6570)\u5DF2\u7ECF\u89E3\u91CA\u8FC7\u4E86\uFF01\u5982\u679C\u4F60\u5728\u8DDF\u8FDB\u65F6\u9047\u5230\u56F0\u96BE, \u6211\u5EFA\u8BAE\u4F60\u5148\u719F\u6089\u4E00\u4E0B C/++. \u4E0D\u8FC7\u8BDD\u867D\u5982\u6B64, \u672C\u6587\u7A0D\u540E\u5C06\u63D0\u4F9B\u66F4\u65B0\u7684\u6E90\u4EE3\u7801\u6587\u4EF6(\u4EE5\u53CA\u6211\u4EEC\u63D2\u4EF6\u7684\u5B9E\u9645 include \u6587\u4EF6), \u5176\u4E2D\u5305\u542B\u6211\u4EEC\u5230\u76EE\u524D\u4E3A\u6B62\u5B66\u5230\u7684\u6240\u6709\u5185\u5BB9\u7684\u6CE8\u91CA. \u5982\u679C\u4F60\u9047\u5230\u4EFB\u4F55\u95EE\u9898, \u8BF7\u67E5\u770B\u8BE5\u66F4\u65B0\u7684\u6E90\u6587\u4EF6."]}),"\n",(0,s.jsx)(e.h4,{id:"\u6DFB\u52A0-sa-mp-\u539F\u751F\u51FD\u6570",children:"\u6DFB\u52A0 SA-MP \u539F\u751F\u51FD\u6570"}),"\n",(0,s.jsx)(e.p,{children:"\u4E0D\u5E78\u7684\u662F, Invoke \u5E76\u4E0D\u662F\u9B54\u6CD5, \u5B83\u786E\u5B9E\u9700\u8981\u7EF4\u62A4\u4EE5\u6DFB\u52A0\u65B0\u7684\u539F\u751F\u51FD\u6570\u6216\u5220\u9664\u5DF2\u5F03\u7528\u7684\u539F\u751F\u51FD\u6570. \u4E0A\u4E00\u8282\u4E2D\u7684\u7248\u672C\u5305\u542B\u4E86 SA-MP 0.2.2 \u7248\u672C\u7684\u6240\u6709\u539F\u751F\u51FD\u6570, \u56E0\u6B64\u7F3A\u5C11\u4E86\u6240\u6709\u8F83\u65B0\u7684\u51FD\u6570. \u51FA\u4E8E\u8FD9\u4E24\u4E2A\u539F\u56E0, \u6211\u51B3\u5B9A\u6DFB\u52A0\u6B64\u90E8\u5206\uFF01\u5982\u679C\u6709\u4EBA\u8DB3\u591F\u597D\u5FC3\u6DFB\u52A0\u6240\u6709\u7F3A\u5931\u7684\u539F\u751F\u51FD\u6570, \u6211\u5C06\u66F4\u65B0 Invoke \u5305\u5E76\u5728\u81F4\u8C22\u4E2D\u5305\u542B\u4ED6\u4EEC\u7684\u540D\u5B57\u2014\u2014\u5982\u679C\u6CA1\u6709, \u6211\u5EFA\u8BAE\u6839\u636E\u9700\u8981\u6DFB\u52A0\u539F\u751F\u51FD\u6570."}),"\n",(0,s.jsx)(e.p,{children:'\u5728 Invoke \u5934\u6587\u4EF6\u4E2D, \u4F60\u5E94\u8BE5\u770B\u5230\u4E00\u4E2A\u5927\u7684\u51FD\u6570\u540D\u79F0\u6570\u7EC4(\u6570\u7EC4\u9002\u5F53\u5730\u547D\u540D\u4E3A"name")\u548C\u8BB8\u591A\u9759\u6001"Native"\u7ED3\u6784\u58F0\u660E. \u8981\u6DFB\u52A0\u539F\u751F\u51FD\u6570, \u4F60\u53EA\u9700\u5C06\u5176\u540D\u79F0\u6DFB\u52A0\u5230\u540D\u79F0\u6570\u7EC4\u4E2D, \u5E76\u4F7F\u7528\u9002\u5F53\u7684\u4FE1\u606F\u58F0\u660E\u4E00\u4E2A Native \u7ED3\u6784\u2014\u2014\u540D\u79F0\u548C\u53C2\u6570\u8BF4\u660E\u7B26. \u6709\u8BB8\u591A\u53EF\u7528\u7684\u53C2\u6570\u8BF4\u660E\u7B26\u53EF\u4F9B\u4F7F\u7528\uFF1A'}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:"i = integer(\u6574\u6570)\nf = float value(\u6D6E\u70B9\u503C)\ns = string(\u5B57\u7B26\u4E32)\nv = reference variable(\u5F15\u7528\u53D8\u91CF)(\u4F8B\u5982GetPlayerPos, GetPlayerKeys\u7B49)\np = string var(\u5B57\u7B26\u4E32\u53D8\u91CF)(\u4F8B\u5982GetPlayerName\u7B49)\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u8BB0\u5F97\u66F4\u65B0\u8C03\u7528\u6240\u6709\u539F\u751F\u51FD\u6570\u7684\u516C\u5171 PAWN \u51FD\u6570."})," \u6BCF\u6B21\u6DFB\u52A0\u539F\u751F\u51FD\u6570\u65F6, \u4F60\u8FD8\u9700\u8981\u5C06\u5176\u6DFB\u52A0\u5230\u8BE5\u516C\u5171\u51FD\u6570\u4E2D."]}),"\n",(0,s.jsx)(e.h4,{id:"\u8C03\u7528\u539F\u751F\u51FD\u6570",children:"\u8C03\u7528\u539F\u751F\u51FD\u6570"}),"\n",(0,s.jsx)(e.p,{children:'Invoke \u4F7F\u7528\u4E00\u4E2A\u9002\u5F53\u547D\u540D\u4E3A"callNative"\u7684\u53EF\u53D8\u53C2\u6570\u6210\u5458\u51FD\u6570\u6765\u8C03\u7528\u539F\u751F\u51FD\u6570. \u6B64\u51FD\u6570\u7684\u53C2\u6570\u4E3A\u6307\u5411\u5305\u542B\u539F\u751F\u51FD\u6570\u4FE1\u606F\u7684 Native \u7ED3\u6784\u7684\u6307\u9488(\u53C2\u89C1\u4E0A\u4E00\u8282), \u4EE5\u53CA\u8BE5\u539F\u751F\u51FD\u6570\u7684\u6240\u6709\u53C2\u6570\u7684\u7701\u7565\u53F7. \u6B64\u51FD\u6570\u8FD4\u56DE\u88AB\u8C03\u7528\u7684\u539F\u751F\u51FD\u6570\u7684\u8FD4\u56DE\u503C. \u4EE5\u4E0B\u662F\u4E00\u4E2A\u8C03\u7528\u591A\u4E2A\u539F\u751F\u51FD\u6570\u7684\u793A\u4F8B\u51FD\u6570, \u5176\u4E2D\u4F7F\u7528\u4E86\u4E0D\u540C\u7684\u53C2\u6570\u7C7B\u578B(int\u3001\u5F15\u7528\u548C\u5B57\u7B26\u4E32\u53D8\u91CF).'}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//\u6B64\u51FD\u6570\u6F14\u793A\uFF1A\u5982\u4F55\u4F7F\u7528Invoke\u8C03\u7528SA-MP\u539F\u751F\u51FD\u6570.\n//PAWN\u539F\u751F\u51FD\u6570\uFF1Anative WhereIsPlayer(playerid);\ncell AMX_NATIVE_CALL WhereIsPlayer(AMX* amx, cell* params)\n{\n    float\n        x = NULL,\n        y = NULL,\n        z = NULL;\n\n    //\u83B7\u53D6\u73A9\u5BB6\u4F4D\u7F6E(\u5E76\u68C0\u67E5\u4ED6\u662F\u5426\u5DF2\u8FDE\u63A5).\n    if(g_Invoke->callNative(&PAWN::GetPlayerPos, params[1], &x, &y, &z))\n    {\n        char name[24];\n\n        //\u83B7\u53D6\u73A9\u5BB6\u7684\u5176\u4ED6\u4FE1\u606F(\u59D3\u540D\u3001\u5185\u9970\u548C\u865A\u62DF\u4E16\u754C)\u5E76\u6253\u5370\u51FA\u6765.\n        g_Invoke->callNative(&PAWN::GetPlayerName, params[1], name);\n        int interior = g_Invoke->callNative(&PAWN::GetPlayerInterior, params[1]);\n        int virtualworld = g_Invoke->callNative(&PAWN::GetPlayerVirtualWorld, params[1]);\n\n        logprintf("%s \u4F4D\u4E8E X: %.2f, Y: %.2f, Z: %.2f (\u865A\u62DF\u4E16\u754C: %d, \u5185\u9970: %d). ", name, x, y, z, virtualworld, interior);\n        return 1;\n\n    }\n    return 0;\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u6302\u94A9\u56DE\u8C03\u51FD\u6570",children:"\u6302\u94A9\u56DE\u8C03\u51FD\u6570"}),"\n",(0,s.jsx)(e.p,{children:"\u4F7F\u7528 Invoke \u65B9\u6CD5\u65F6, \u5BF9\u4E8E\u56DE\u8C03\u51FD\u6570\u6765\u8BF4, \u6CA1\u6709 100%\u900F\u660E\u7684\u6302\u94A9\u65B9\u6CD5. \u60F3\u8981\u6302\u94A9\u4F7F\u7528 Invoke \u7684\u56DE\u8C03\u51FD\u6570\u7684\u63D2\u4EF6\u9700\u8981\u901A\u8FC7 PAWN \u6765\u5B9E\u73B0. \u4F60\u53EF\u4EE5\u521B\u5EFA\u4E00\u4E2A\u539F\u751F\u51FD\u6570, \u7136\u540E\u5728\u4F60\u60F3\u6302\u94A9\u7684 PAWN \u56DE\u8C03\u51FD\u6570\u5185\u8C03\u7528\u8BE5\u539F\u751F\u51FD\u6570, \u5E76\u5C06\u8BE5\u539F\u751F\u51FD\u6570\u7528\u4F5C\u4F2A\u56DE\u8C03. \u4F60\u53EF\u4EE5\u4F7F\u7528 ALS \u6302\u94A9\u65B9\u6CD5\u6765\u5B9E\u73B0\u8FD9\u4E00\u70B9, \u8FD9\u6837\u53EF\u4EE5\u8BA9\u6700\u7EC8\u7528\u6237\u4E0D\u9700\u8981\u505A\u4EFB\u4F55\u5DE5\u4F5C."}),"\n",(0,s.jsx)(e.p,{children:"\u7B2C\u4E00\u6B65\u663E\u7136\u662F\u521B\u5EFA\u539F\u751F\u51FD\u6570(\u8BB0\u5F97\u5C06\u5176\u6DFB\u52A0\u5230\u6211\u4EEC\u8981\u6CE8\u518C\u7684\u539F\u751F\u51FD\u6570\u5217\u8868\u4E2D, \u5E76\u5728\u4F60\u7684 include \u6587\u4EF6\u4E2D\u6DFB\u52A0\u5B83). \u6211\u51B3\u5B9A\u6302\u94A9\u7684\u56DE\u8C03\u51FD\u6570\u662F OnPlayerConnect, \u56E0\u6B64\u6211\u5C06\u7F16\u5199\u4E00\u4E2A\u5177\u6709\u4E0E\u6B64\u56DE\u8C03\u51FD\u6570\u76F8\u540C\u53C2\u6570\u7684\u539F\u751F\u51FD\u6570, \u7136\u540E\u6DFB\u52A0\u9700\u8981\u6B64\u56DE\u8C03\u7684\u4EE3\u7801(\u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\u662F\u4E00\u4E2A\u5C0F\u73A9\u7B11)."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//\u6B64\u51FD\u6570\u6F14\u793A\uFF1A\u5982\u4F55\u7F16\u5199\u4E00\u4E2A\u539F\u751F\u51FD\u6570\u6765\u5145\u5F53\u56DE\u8C03\u51FD\u6570.\n//PAWN\u539F\u751F\u51FD\u6570\uFF1Anative TEST_Hook_OnPlayerConnnect(playerid);\ncell AMX_NATIVE_CALL TEST_Hook_OnPlayerConnnect(AMX* amx, cell* params)\n{\n    //\u83B7\u53D6\u73A9\u5BB6\u7684\u59D3\u540D\n    char name[24];\n    g_Invoke->callNative(&PAWN::GetPlayerName, params[1], name);\n\n    //\u68C0\u67E5\u4ED6\u7684\u540D\u5B57\u662F\u5426\u662F"Mario".\n    if(string("Mario") == name)\n    {\n        //\u5982\u679C\u662F, \u53D1\u9001\u6211\u4EEC\u7684\u641E\u7B11\u4FE1\u606F\u5E76\u8E22\u4ED6.\n        g_Invoke->callNative(&PAWN::SendClientMessage, params[1], 0xFFFFFFFF, "\u5BF9\u4E0D\u8D77 {FF0000}Mario, {FFFFFF}\u4F46\u4F60\u7684\u516C\u4E3B\u5728\u53E6\u4E00\u4E2A\u670D\u52A1\u5668. ");\n        g_Invoke->callNative(&PAWN::Kick, params[1]);\n    }\n    return 1;\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"TEST_Hook_OnPlayerConnnect"})," \u73B0\u5728\u5C06\u4F5C\u4E3A\u6211\u4EEC\u63D2\u4EF6\u7684 ",(0,s.jsx)(e.code,{children:"OnPlayerConnect"}),' \u56DE\u8C03\u51FD\u6570. \u7531\u4E8E\u6211\u4EEC\u63D2\u4EF6\u7684\u540D\u79F0\u662F"Test"\u4E14\u76F8\u5BF9\u8F83\u77ED, \u6211\u51B3\u5B9A\u8BA9\u5176\u4F5C\u4E3A\u6211\u4EEC\u7684\u6302\u94A9\u524D\u7F00. \u4F60\u901A\u5E38\u9700\u8981\u4E3A\u4F60\u7684\u524D\u7F00\u9009\u62E9\u4E00\u4E9B\u72EC\u7279\u7684\u5185\u5BB9, \u4EE5\u907F\u514D\u4E0E\u5176\u4ED6\u4EBA\u7684\u63D2\u4EF6/include \u6587\u4EF6\u53D1\u751F\u51B2\u7A81. \u6CE8\u610F\uFF1A \u6211\u4EEC\u4ECD\u7136\u9700\u8981\u4F7F\u7528\u4E4B\u524D\u63D0\u5230\u7684 ALS \u65B9\u6CD5\u4ECE PAWN \u4E2D\u8C03\u7528\u6B64\u51FD\u6570\u4EE5\u65B9\u4FBF\u7528\u6237. \u7531\u4E8E Y_Less \u5BF9 ALS \u65B9\u6CD5\u89E3\u91CA\u5F97\u975E\u5E38\u597D, \u56E0\u6B64\u6211\u6CA1\u6709\u5FC5\u8981\u8BE6\u7EC6\u4ECB\u7ECD\u5B83, \u6211\u5C06\u7B80\u5355\u63D0\u4F9B\u6211\u4EEC ',(0,s.jsx)(e.code,{children:"TEST_Hook_OnPlayerConnect"})," \u56DE\u8C03\u51FD\u6570\u7684\u6302\u94A9\u793A\u4F8B. \u8FD9\u4E2A\u793A\u4F8B\u5E94\u653E\u5728\u4F60\u7684\u63D2\u4EF6 include \u6587\u4EF6\u4E2D."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'public OnPlayerConnect(playerid)\n{\n    TEST_Hook_OnPlayerConnnect(playerid);\n    //..\n\n    if(funcidx("TEST_OnPlayerConnect") != -1)\n    {\n        return CallLocalFunction("TEST_OnPlayerConnect", "d", playerid);\n    }\n    return 1;\n}\n\n#if defined _ALS_OnPlayerConnect\n    #undef OnPlayerConnect\n#else\n    #define _ALS_OnPlayerConnect\n#endif\n#define OnPlayerConnect TEST_OnPlayerConnect\n\nforward TEST_OnPlayerConnect(playerid);\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u7ED3\u675F\u8BED",children:"\u7ED3\u675F\u8BED"}),"\n",(0,s.jsx)(e.p,{children:'\u4E00\u4E9B\u6709\u7ECF\u9A8C\u7684\u63D2\u4EF6\u5F00\u53D1\u8005\u53EF\u80FD\u4F1A\u7591\u60D1, \u4E3A\u4EC0\u4E48\u6211\u6CA1\u6709\u5728"\u8C03\u7528\u539F\u751F\u51FD\u6570\u548C\u6302\u94A9\u56DE\u8C03"\u8FD9\u4E00\u8282\u4E2D\u5305\u542B GDK(Game Development Kit). \u6211\u51B3\u5B9A\u4E0D\u63D0\u53CA\u5B83\u6709\u4E24\u4E2A\u539F\u56E0. \u9996\u5148, \u6211\u76EE\u524D\u7684\u65F6\u95F4\u975E\u5E38\u6709\u9650, \u65E0\u6CD5\u6295\u5165\u65F6\u95F4\u6765\u9002\u5E94\u8FD9\u4E2A\u65B0\u7CFB\u7EDF. \u5176\u6B21, GDK \u975E\u5E38\u5B9E\u9A8C\u6027, \u76EE\u524D\u5728\u5D29\u6E83\u548C\u5176\u4ED6\u95EE\u9898\u4E0A\u5B58\u5728\u4E00\u4E9B\u56F0\u5883. \u6211\u5B8C\u5168\u7406\u89E3 Invoke \u548C GDK \u4E4B\u95F4\u7684\u901F\u5EA6\u5DEE\u5F02, \u5E76\u4E14\u5982\u679C\u6CA1\u6709\u5176\u4ED6\u4EBA\u8FD9\u6837\u505A, \u6211\u5C06\u6765\u80AF\u5B9A\u4F1A\u6DFB\u52A0\u5B83(\u8BF7\u8BB0\u4F4F, \u8FD9\u672C\u6765\u662F\u4E00\u4E2A\u793E\u533A\u9A71\u52A8\u7684\u9879\u76EE). \u4E0D\u8FC7, \u6211\u8BA4\u4E3A\u6700\u597D\u8FD8\u662F\u7B49\u5F85\u8FD9\u4E9B\u95EE\u9898\u5F97\u5230\u66F4\u591A\u89E3\u51B3(zeex \u662F\u4E00\u4F4D\u975E\u5E38\u51FA\u8272\u7684\u7F16\u7801\u8005, \u6211\u76F8\u4FE1\u4ED6\u4F1A\u89E3\u51B3\u6240\u6709\u95EE\u9898).'}),"\n",(0,s.jsx)(e.p,{children:"\u53E6\u5916, \u6B63\u5982\u6211\u627F\u8BFA\u7684\u90A3\u6837, \u4EE5\u4E0B\u662F\u5305\u542B\u6CE8\u91CA\u7684\u66F4\u65B0\u7248 include/source \u6587\u4EF6, \u5176\u4E2D\u5305\u542B\u4E86\u6211\u4EEC\u5E0C\u671B\u5B66\u4E60\u5230\u7684\u6240\u6709\u5185\u5BB9\uFF1A"}),"\n",(0,s.jsx)(e.h3,{id:"\u63D2\u4EF6-include",children:"\u63D2\u4EF6 include"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'//\u4EFB\u4F55\u5E26\u6709"TEST"\u524D\u7F00\u7684\u5185\u5BB9\u90FD\u5E94\u66F4\u6539, \u5982\u679C\u4F60\u7684\u63D2\u4EF6\u540D\u79F0\u4E0D\u540C. \u8FD9\u540C\u6837\u9002\u7528\u4E8E\u63D2\u4EF6\u4EE3\u7801(\u7279\u522B\u662FTEST_Hook_OnPlayerConnect).\n#if defined _TEST_INCLUDED\n    #endinput\n#endif\n#define _TEST_INCLUDED\n#pragma library Test\n\n#include <a_samp>\n\n//\u672C\u5730\u51FD\u6570\u4F8B\u5B50\nnative PrintPawnString(const str[]);\nnative PrintPawnString2(const str[]);\nnative SetPawnString(str[], len = sizeof(str));\nnative Float:ReturnPawnFloatVal();\nnative SetPawnReferenceVars(&value1, &Float:value2);\nnative PrintPawnArray(arr[], size = sizeof(arr));\nnative EmitPawnCallback();\nnative WhereIsPlayer(playerid);\nnative TEST_Hook_OnPlayerConnnect(playerid);\n\n//\u8C03\u7528\u672C\u5730\nnative Invoke_GetAddresses();\n\n\n//\u6302\u94A9\u56DE\u8C03\npublic OnPlayerConnect(playerid)\n{\n    TEST_Hook_OnPlayerConnnect(playerid);\n    //..\n\n    if(funcidx("TEST_OnPlayerConnect") != -1)\n    {\n        return CallLocalFunction("TEST_OnPlayerConnect", "d", playerid);\n    }\n    return 1;\n}\n\n#if defined _ALS_OnPlayerConnect\n    #undef OnPlayerConnect\n#else\n    #define _ALS_OnPlayerConnect\n#endif\n#define OnPlayerConnect TEST_OnPlayerConnect\n\nforward TEST_OnPlayerConnect(playerid);\n\npublic OnGameModeInit()\n{\n    Invoke_GetAddresses();\n    //..\n\n    if(funcidx("TEST_OnGameModeInit") != -1)\n    {\n        return CallLocalFunction("TEST_OnGameModeInit", "");\n    }\n    return 1;\n}\n\n#if defined _ALS_OnGameModeInit\n    #undef OnGameModeInit\n#else\n    #define _ALS_OnGameModeInit\n#endif\n#define OnGameModeInit TEST_OnGameModeInit\n\nforward TEST_OnGameModeInit();\n\n\npublic OnFilterScriptInit()\n{\n    Invoke_GetAddresses();\n    //..\n\n    if(funcidx("TEST_OnFilterScriptInit") != -1)\n    {\n        return CallLocalFunction("TEST_OnFilterScriptInit", "");\n    }\n    return 1;\n}\n\n#if defined _ALS_OnFilterScriptInit\n    #undef OnFilterScriptInit\n#else\n    #define _ALS_OnFilterScriptInit\n#endif\n#define OnFilterScriptInit TEST_OnFilterScriptInit\n\nforward TEST_OnFilterScriptInit();\n\n\n//\u7528\u4E8E\u8C03\u7528\u7684\u516C\u5171\u51FD\u6570\nforward InvokeFunction();\npublic InvokeFunction()\n{\n    new Float:fVar;\n    new Var[ 256 ];\n    new iVar;\n\n    // a_samp.inc\n    SendClientMessage(0, 0, "");\n    SendClientMessageToAll(0, "");\n    SendDeathMessage(0, 0, 0);\n    GameTextForAll("", 0, 0);\n    GameTextForPlayer(0, "", 0, 0);\n    GetTickCount();\n    GetMaxPlayers();\n    SetGameModeText("");\n    SetTeamCount(0);\n    AddPlayerClass(0, 0.0, 0.0, 0.0, 0.0, 0, 0, 0, 0, 0, 0);\n    AddPlayerClassEx(0, 0, 0.0, 0.0, 0.0, 0.0, 0, 0, 0, 0, 0, 0);\n    AddStaticVehicle(0, 0.0, 0.0, 0.0, 0.0, 0, 0);\n    AddStaticVehicleEx(0, 0.0, 0.0, 0.0, 0.0, 0, 0, 0);\n    AddStaticPickup(0, 0, 0.0, 0.0, 0.0);\n    ShowNameTags(0);\n    ShowPlayerMarkers(0);\n    GameModeExit();\n    SetWorldTime(0);\n    GetWeaponName(0, Var, sizeof( Var ) );\n    EnableTirePopping(0);\n    AllowInteriorWeapons(0);\n    SetWeather(0);\n    SetGravity(0.0);\n    AllowAdminTeleport(0);\n    SetDeathDropAmount(0);\n    CreateExplosion(0.0, 0.0, 0.0, 0, 0.0);\n    //SetDisabledWeapons();\n    EnableZoneNames(0);\n    IsPlayerAdmin(0);\n    Kick(0);\n    Ban(0);\n    SendRconCommand("");\n    ShowPlayerDialog(0,0,0,"lol","lol","lol","lol");\n\n    // a_players.inc\n    SetSpawnInfo(0, 0, 0, 0.0, 0.0, 0.0, 0.0, 0, 0, 0, 0, 0,0);\n    SpawnPlayer(0);\n    SetPlayerPos(0, 0.0, 0.0, 0.0);\n//  SetPlayerPosFindZ(0, 0.0, 0.0, 0.0);\n    GetPlayerPos(0, fVar, fVar, fVar);\n    SetPlayerFacingAngle(0,0.0);\n    GetPlayerFacingAngle(0,fVar);\n    SetPlayerInterior(0,0);\n    GetPlayerInterior(0);\n    SetPlayerHealth(0, 0.0);\n    GetPlayerHealth(0, fVar);\n    SetPlayerArmour(0, 0.0);\n    GetPlayerArmour(0, fVar);\n    SetPlayerAmmo(0, 0,0);\n    GetPlayerAmmo(0);\n    SetPlayerTeam(0,0);\n    GetPlayerTeam(0);\n    SetPlayerScore(0,0);\n    GetPlayerScore(0);\n    SetPlayerColor(0,0);\n    GetPlayerColor(0);\n    SetPlayerSkin(0,0);\n    GivePlayerWeapon(0, 0,0);\n    ResetPlayerWeapons(0);\n    GetPlayerWeaponData(0, 0, iVar, iVar );\n    GivePlayerMoney(0,0);\n    ResetPlayerMoney(0);\n    SetPlayerName(0, "");\n    GetPlayerMoney(0);\n    GetPlayerState(0);\n    GetPlayerIp(0, Var, sizeof( Var ));\n    GetPlayerPing(0);\n    GetPlayerWeapon(0);\n    GetPlayerKeys(0,iVar,iVar,iVar);\n    GetPlayerName(0, Var, sizeof( Var ));\n    PutPlayerInVehicle(0, 0,0);\n    GetPlayerVehicleID(0);\n    RemovePlayerFromVehicle(0);\n    TogglePlayerControllable(0,0);\n    PlayerPlaySound(0, 0, 0.0, 0.0,0.0);\n    SetPlayerCheckpoint(0, 0.0, 0.0, 0.0,0.0);\n    DisablePlayerCheckpoint(0);\n    SetPlayerRaceCheckpoint(0, 0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0,0.0);\n    DisablePlayerRaceCheckpoint(0);\n    SetPlayerWorldBounds(0,0.0,0.0,0.0,0.0);\n    SetPlayerMarkerForPlayer(0, 0,0);\n    ShowPlayerNameTagForPlayer(0, 0,0);\n    SetPlayerMapIcon(0, 0, 0.0, 0.0, 0.0, 0,0);\n    RemovePlayerMapIcon(0,0);\n    SetPlayerCameraPos(0,0.0, 0.0, 0.0);\n    SetPlayerCameraLookAt(0, 0.0, 0.0, 0.0);\n    SetCameraBehindPlayer(0);\n    AllowPlayerTeleport(0,0);\n    IsPlayerConnected(0);\n    IsPlayerInVehicle(0,0);\n    IsPlayerInAnyVehicle(0);\n    IsPlayerInCheckpoint(0);\n    IsPlayerInRaceCheckpoint(0);\n    SetPlayerTime(0, 0,0);\n    TogglePlayerClock(0,0);\n    SetPlayerWeather(0,0);\n    GetPlayerTime(0,iVar,iVar);\n    SetPlayerVirtualWorld(0,0);\n    GetPlayerVirtualWorld(0);\n\n    // a_vehicle.inc\n    CreateVehicle(0,0.0,0.0,0.0,0.0,0,0,0);\n    DestroyVehicle(0);\n    GetVehiclePos(0,fVar,fVar,fVar);\n    SetVehiclePos(0,0.0,0.0,0.0);\n    GetVehicleZAngle(0,fVar);\n    SetVehicleZAngle(0,0.0);\n    SetVehicleParamsForPlayer(0,0,0,0);\n    SetVehicleToRespawn(0);\n    LinkVehicleToInterior(0,0);\n    AddVehicleComponent(0,0);\n    ChangeVehicleColor(0,0,0);\n    ChangeVehiclePaintjob(0,0);\n    SetVehicleHealth(0,0.0);\n    GetVehicleHealth(0,fVar);\n    AttachTrailerToVehicle(0, 0);\n    DetachTrailerFromVehicle(0);\n    IsTrailerAttachedToVehicle(0);\n    GetVehicleModel(0);\n    SetVehicleNumberPlate(0,"");\n    SetVehicleVirtualWorld(0,0);\n    GetVehicleVirtualWorld(0);\n\n    ApplyAnimation(0,"","",1.0,0,0,0,0,0);\n\n    // a_objects.inc\n    CreateObject(0,0.0,0.0,0.0,0.0,0.0,0.0);\n    SetObjectPos(0,0.0,0.0,0.0);\n    GetObjectPos(0,fVar,fVar,fVar);\n    SetObjectRot(0,0.0,0.0,0.0);\n    GetObjectRot(0,fVar,fVar,fVar);\n    IsValidObject(0);\n    DestroyObject(0);\n    MoveObject(0,0.0,0.0,0.0,0.0);\n    StopObject(0);\n    CreatePlayerObject(0,0,0.0,0.0,0.0,0.0,0.0,0.0);\n    SetPlayerObjectPos(0,0,0.0,0.0,0.0);\n    GetPlayerObjectPos(0,0,fVar,fVar,fVar);\n    GetPlayerObjectRot(0,0,fVar,fVar,fVar);\n    SetPlayerObjectRot(0,0,0.0,0.0,0.0);\n    IsValidPlayerObject(0,0);\n    DestroyPlayerObject(0,0);\n    MovePlayerObject(0,0,0.0,0.0,0.0,0.0);\n    StopPlayerObject(0,0);\n\n    // Menu\'s\n    CreateMenu("", 0, 0.0, 0.0, 0.0, 0.0);\n    DestroyMenu(Menu:0);\n    AddMenuItem(Menu:0, 0, "");\n    SetMenuColumnHeader(Menu:0, 0, "");\n    ShowMenuForPlayer(Menu:0, 0);\n    HideMenuForPlayer(Menu:0, 0);\n    IsValidMenu(Menu:0);\n    DisableMenu(Menu:0);\n    DisableMenuRow(Menu:0,0);\n\n    // Textdraw\n    TextDrawCreate(0.0,0.0,"");\n    TextDrawDestroy(Text:0);\n    TextDrawLetterSize(Text:0, 0.0,0.0);\n    TextDrawTextSize(Text:0, 0.0,0.0);\n    TextDrawAlignment(Text:0, 0);\n    TextDrawColor(Text:0,0);\n    TextDrawUseBox(Text:0, 0);\n    TextDrawBoxColor(Text:0, 0);\n    TextDrawSetShadow(Text:0, 0);\n    TextDrawSetOutline(Text:0, 0);\n    TextDrawBackgroundColor(Text:0,0);\n    TextDrawFont(Text:0, 0);\n    TextDrawSetProportional(Text:0, 0);\n    TextDrawShowForPlayer(0, Text:0);\n    TextDrawHideForPlayer(0, Text:0);\n    TextDrawShowForAll(Text:0);\n    TextDrawHideForAll(Text:0);\n\n    // Others\n    funcidx("");\n    gettime(iVar,iVar,iVar);\n    getdate(iVar,iVar,iVar);\n    tickcount(iVar);\n\n    return 1;\n}\n'})}),"\n",(0,s.jsx)(e.h3,{id:"plugin-source-code",children:"Plugin source code"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cpp",children:'#include "SDK\\amx\\amx.h"\n#include "SDK\\plugincommon.h"\n\n#include "Invoke.h"\n\n#include <string>\n#include <vector>\n\n#include <cstdlib>\n#include <ctime>\n\n\ntypedef void (*logprintf_t)(char* format, ...);\n\nlogprintf_t logprintf;\nextern void *pAMXFunctions;\n\n\nusing namespace std;\n\n\n//\u6B64\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u4ECEPAWN\u83B7\u53D6\u5B57\u7B26\u4E32(\u53CA\u5176\u957F\u5EA6).\n//PAWN \u539F\u751F\u51FD\u6570: native PrintPawnString(const str[]);\ncell AMX_NATIVE_CALL PrintPawnString(AMX* amx, cell* params)\n{\n    int\n        len = NULL,\n        ret = NULL;\n\n    cell *addr = NULL;\n\n    //\u83B7\u53D6\u5B57\u7B26\u4E32\u53C2\u6570(str)\u7684\u5730\u5740, \u7136\u540E\u83B7\u53D6\u5176\u957F\u5EA6\n    amx_GetAddr(amx, params[1], &addr);\n    amx_StrLen(addr, &len);\n\n    //\u5982\u679C\u8F93\u5165\u7684\u957F\u5EA6\u4E0D\u662F0\n    if(len)\n    {\n        //\u6211\u4EEC\u589E\u52A0len\u7684\u503C, \u56E0\u4E3A\u5728\u5206\u914D\u5185\u5B58\u65F6\u6211\u4EEC\u9700\u8981\u4E3A\u7EC8\u6B62\u7684null\u5B57\u7B26\u817E\u51FA\u7A7A\u95F4.\n        //\u7531\u4E8EGetString\u7684size\u53C2\u6570\u4F1A\u8BA1\u7B97null\u5B57\u7B26\u7684\u5927\u5C0F, \u56E0\u6B64\u6211\u4EEC\u5FC5\u987B\u6307\u5B9A\u5B57\u7B26\u4E32\u7684\u957F\u5EA6+1\uFF1B\n        //\u5426\u5219\u6211\u4EEC\u7684\u5B57\u7B26\u4E32\u5C06\u4F1A\u88AB\u622A\u65AD, \u4EE5\u817E\u51FA\u7A7A\u95F4\u7ED9null\u5B57\u7B26(\u6211\u4EEC\u5C06\u5931\u53BB\u4E00\u4E2A\u5B57\u7B26).\n        len++;\n\n        //\u4E3A\u4F20\u9012\u7684\u5B57\u7B26\u4E32(str)\u5206\u914D\u5185\u5B58, \u7136\u540E\u4F7F\u7528\u5206\u914D\u7684\u5185\u5B58\u6765\u5B58\u50A8\u5B83.\n        char* text = new char[len];\n        amx_GetString(text, addr, 0, len);\n\n        //\u4F7F\u7528logprintf\u6253\u5370\u51FA\u5B57\u7B26\u4E32(text). \u6211\u4EEC\u4E0D\u4F7F\u7528std::cout, \u56E0\u4E3A\u5B83\u4E0D\u4F1A\u5199\u5165\u670D\u52A1\u5668\u65E5\u5FD7(\u53EA\u5199\u5165\u7A97\u53E3).\n        logprintf(text);\n\n        //\u91CA\u653E\u5185\u5B58...\n        delete[] text;\n    }\n    return 1;\n}\n\n//\u6B64\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u8C03\u7528PAWN\u811A\u672C\u4E2D\u7684\u56DE\u8C03\u51FD\u6570.\n//PAWN \u539F\u751F\u51FD\u6570: native EmitPawnCallback();\ncell AMX_NATIVE_CALL EmitPawnCallback(AMX* amx, cell* params)\n{\n    int idx;\n\n    const cell var = 3;\n    const cell arr[] = {100, 4, 33};\n    const string str = "\u4ECEC++\u4F20\u9012\u8FC7\u6765\u7684\u968F\u673A\u6D88\u606F. ";\n\n    //Pawn \u56DE\u8C03\u51FD\u6570\uFF1A forward OnPawnCallbackEmitted(var, arr[], str[]);\n    //\u627E\u5230\u56DE\u8C03\u51FD\u6570\u5E76\u5C06\u5176\u5728\u516C\u5171\u51FD\u6570\u8868\u4E2D\u7684\u4F4D\u7F6E(\u7D22\u5F15)\u5B58\u50A8\u5230\u6211\u4EEC\u7684idx\u53D8\u91CF\u4E2D.\n    if(!amx_FindPublic(amx, "OnPawnCallbackEmitted", &idx))\n    {\n        cell\n            ret,\n            addr;\n\n        //\u5728\u6B64\u5904\u63A8\u9001\u51FD\u6570\u7684\u53C2\u6570. \u6CE8\u610F, \u5982\u679C\u51FD\u6570\u6709\u591A\u4E2A\u53C2\u6570, \u4F60\u9700\u8981\u9006\u5E8F\u63A8\u9001\u53C2\u6570\uFF01\n        //\u8FD9\u5C31\u662F\u4E3A\u4EC0\u4E48\u6211\u4EEC\u5148\u63A8\u9001\u5B57\u7B26\u4E32, \u7136\u540E\u662F\u6570\u7EC4, \u6700\u540E\u662F\u6574\u6570.\n\n        amx_PushString(amx, &addr, NULL, str.c_str(), NULL, NULL);\n        //amx_PushArray(amx, NULL, NULL, arr, sizeof(arr) / sizeof(cell));\n\n        cell\n            amx_addr,\n            *phys_addr;\n\n        //\u7531\u4E8E\u67D0\u79CD\u539F\u56E0, amx_PushArray\u4F3C\u4E4E\u4F1A\u5BFC\u81F4\u670D\u52A1\u5668\u5D29\u6E83, \u6211\u5BF9\u6B64\u4E00\u65E0\u6240\u77E5.\n        //\u4ECE\u5B9E\u73B0\u8005\u6307\u5357\u548C\u4EE3\u7801\u6765\u770B, \u6211\u7684\u7528\u6CD5\u5E94\u8BE5\u662F\u5B8C\u5168\u6709\u6548\u7684. \u7531\u4E8E\u6B64\u51FD\u6570\u65E0\u6CD5\u6B63\u5E38\u5DE5\u4F5C, \u6211\u4EEC\u53EA\u80FD\n        //\u4F7F\u7528\u65E7\u65B9\u6CD5\uFF1A\u5206\u914D\u5185\u5B58, \u8BBE\u7F6E\u5B83, \u5E76\u624B\u52A8\u63A8\u9001\u6240\u6709\u5185\u5BB9. \u8FD9\u975E\u5E38\u7B80\u5355. \u6211\u4EEC\n        //\u4F7F\u7528amx_Allot\u5728\u5806\u4E0A\u5206\u914D\u5185\u5B58(\u6B64\u51FD\u6570\u8FD4\u56DE2\u4E2A\u5730\u5740\u2014\u4E00\u4E2A\u662F\u865A\u62DF\u673A\u4E2D\u7684\u4F4D\u7F6E\n        //(amx_addr), \u53E6\u4E00\u4E2A\u662F\u76F8\u5BF9\u4E8E\u5B9E\u9645\u670D\u52A1\u5668\u5730\u5740\u7A7A\u95F4\u7684\u5730\u5740(phys_addr\u2014\u53EF\u7528\u4E8EC++)).\n        //\u5206\u914D\u5185\u5B58\u540E, \u6211\u4EEC\u4F7F\u7528memcpy\u5C06\u6570\u7EC4\u7684\u5185\u5B58\u590D\u5236\u5230phys_addr\u5730\u5740\u4F4D\u7F6E.\n        amx_Allot(amx, sizeof(arr) / sizeof(cell), &amx_addr, &phys_addr);\n        memcpy(phys_addr, arr, sizeof(arr));\n        amx_Push(amx, amx_addr);\n\n        //\u63A8\u9001\u6574\u6570\u503C\n        amx_Push(amx, var);\n\n        //\u4F7F\u7528\u4E4B\u524D\u83B7\u53D6\u7684idx\u53D8\u91CF\u6267\u884C\u51FD\u6570.\n        //\u6CE8\u610F\uFF1A\u6B64\u51FD\u6570\u7684\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u56DE\u8C03\u51FD\u6570\u7684\u8FD4\u56DE\u503C(\u5982\u679C\u4E0D\u5173\u5FC3\u8FD4\u56DE\u503C, \u53EF\u4EE5\u4E3ANULL).\n        amx_Exec(amx, &ret, idx);\n\n        //\u91CA\u653E\u5206\u914D\u7684\u5185\u5B58. \u51FD\u6570amx_Alloc\u5728\u865A\u62DF\u673A\u7684\u5806\u4E0A\u5206\u914D\u5185\u5B58.\n        //\u51FD\u6570amx_PushString\u548Camx_PushArray\u5185\u90E8\u90FD\u4F7F\u7528\u6B64\u51FD\u6570, \u56E0\u6B64\u6BCF\u6B21\u4F7F\u7528\u5176\u4E2D\u4E00\u4E2A\u51FD\u6570\u65F6\u90FD\u5FC5\u987B\u91CA\u653E\u5185\u5B58.\n        //\u6CE8\u610F\uFF1A\u6211\u4EEC\u540C\u65F6\u4F7F\u7528\u4E86amx_PushString\u548Camx_PushArray, \u4F46\u6211\u4EEC\u53EA\u8C03\u7528\u4E86\u4E00\u4E2A\u91CA\u653E\u51FD\u6570.\n        //\u8FD9\u662F\u56E0\u4E3A\u5806\u4E0A\u7684\u5185\u5B58\u662F\u6309\u5347\u5E8F\u5206\u914D\u7684\uFF01amx_Release\u4F1A\u91CA\u653E\u4ECE\u67D0\u4E2A\u70B9(\u7B2C\u4E8C\u4E2A\u53C2\u6570, amx_addr, \u5373\u6211\u4EEC\u7684addr\u53D8\u91CF)\u5F00\u59CB\u7684\u6240\u6709\u5185\u5B58.\n        //\u56E0\u6B64, \u6211\u4EEC\u53EA\u5B58\u50A8\u6765\u81EAamx_PushString\u8C03\u7528\u7684\u5730\u5740, \u56E0\u4E3A\u5B83\u4F1A\u5220\u9664\u4ECE\u8BE5\u70B9\u4E4B\u540E\u7684\u6240\u6709\u5185\u5BB9.\n        amx_Release(amx, addr);\n\n        //\u6253\u5370\u8FD4\u56DE\u503C(\u4EE5\u793A\u5B8C\u6574\u6027).\n        logprintf("EmitPawnCallback \u6CE8\u610F: OnPawnCallbackEmitted \u56DE\u8C03\u51FD\u6570\u8FD4\u56DE\u4E86 %d!", ret);\n\n    }\n    return 1;\n}\n\n\n//\u8FD9\u4E2A\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u4ECEPAWN\u83B7\u53D6\u5B57\u7B26\u4E32\u7684\u66FF\u4EE3\u65B9\u6CD5\u53CA\u5176\u53EF\u80FD\u5E26\u6765\u7684\u98CE\u9669.\n//PAWN \u539F\u751F\u51FD\u6570: native PrintPawnString2(const str[]);\ncell AMX_NATIVE_CALL PrintPawnString2(AMX* amx, cell* params)\n{\n    //\u8FD9\u79CD\u65B9\u6CD5\u4E0D\u63A8\u8350, \u56E0\u4E3Aamx_StrParam\u5B8F\u4F7F\u7528\u4E86alloca\u51FD\u6570, \u8FD9\u5728C\u6216C++\u4E2D\u4E0D\u662F\u6807\u51C6.\n    //\u4F7F\u7528\u8FD9\u79CD\u65B9\u6CD5\u6709\u6EA2\u51FA\u6808\u7684\u98CE\u9669(\u5982\u679C\u4F60\u5206\u914D\u4E86\u5927\u91CF\u5185\u5B58), \u540C\u65F6\u4E5F\u6709\u53EF\u80FD\u51FA\u73B0bug(\u8FD9\u4E2A\u51FD\u6570\u4F9D\u8D56\u4E8E\u673A\u5668\u548C\u7F16\u8BD1\u5668-\u67D0\u4E9B\u5B9E\u73B0\u88AB\u8BA4\u4E3A\u6709bug).\n\n    char* text = NULL;\n    amx_StrParam(amx, params[1], text);\n\n    //\u68C0\u67E5text\u662F\u5426\u4E3Anull\n    if(text != NULL)\n    {\n        //\u4F7F\u7528logprintf\u6253\u5370\u5B57\u7B26\u4E32(text). \u6211\u4EEC\u4E0D\u4F7F\u7528std::cout, \u56E0\u4E3A\u5B83\u4E0D\u4F1A\u5199\u5165\u670D\u52A1\u5668\u65E5\u5FD7(\u53EA\u5199\u5165\u7A97\u53E3).\n        logprintf(text);\n    }\n    return 1;\n}\n\n//\u8FD9\u4E2A\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u4FEE\u6539PAWN\u5B57\u7B26\u4E32.\n//PAWN \u539F\u751F\u51FD\u6570: native SetPawnString(str[], len = sizeof(str));\ncell AMX_NATIVE_CALL SetPawnString(AMX* amx, cell* params)\n{\n    const string message = "\u8FD9\u662F\u6765\u81EAC/++\u7684\u5B57\u7B26\u4E32\uFF01\uFF01";\n    cell* addr = NULL;\n\n    //\u83B7\u53D6\u6211\u4EEC\u5B57\u7B26\u4E32\u53C2\u6570(str)\u7684\u5730\u5740\u5E76\u5B58\u50A8\u6211\u4EEC\u7684\u6D88\u606F\n    amx_GetAddr(amx, params[1], &addr);\n    amx_SetString(addr, message.c_str(), 0, 0, params[2]);\n    return 1;\n}\n\n//\u8FD9\u4E2A\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u5C06\u6D6E\u70B9\u6570\u8F6C\u6362\u4E3APAWN\u6D6E\u70B9\u6570.\n//PAWN \u539F\u751F\u51FD\u6570: native Float:ReturnPawnFloatVal();\ncell AMX_NATIVE_CALL ReturnPawnFloatVal(AMX* amx, cell* params)\n{\n    //\u7531\u4E8EPAWN\u662F\u4E00\u4E2A\u65E0\u7C7B\u578B\u8BED\u8A00, \u5B83\u5C06\u6240\u6709\u5185\u5BB9\u5B58\u50A8\u4E3A32\u4F4D\u6574\u6570, \u5E76\u4F9D\u9760\u6807\u7B7E\u5904\u7406\u7279\u6B8A\u6570\u636E.\n    //\u6D6E\u70B9\u6570\u4E5F\u4E0D\u4F8B\u5916\uFF1B\u5B83\u4ECD\u7136\u662F32\u4F4D\u6574\u6570, \u4F46\u6709\u4E00\u4E2AFloat\u6807\u7B7E\u6765\u8868\u793A\u5B83\u4E0D\u5E94\n    //\u50CF\u666E\u901A\u6574\u6570\u4E00\u6837\u5904\u7406. \u90A3\u4E48\u6211\u4EEC\u5982\u4F55\u5728\u4E0D\u4E22\u5931\u6570\u636E\u7684\u60C5\u51B5\u4E0B\u5C06\u6D6E\u70B9\u6570\u8F6C\u6362\u4E3A32\u4F4D\u6574\u6570(\u5BF9\u4E8EPAWN)\u5462\uFF1F\n    //\u7B54\u6848\u662Famx_ftoc\u5B8F\uFF01\n\n    //\u5B8Famx_ftoc\u5C06\u6D6E\u70B9\u6570\u7C7B\u578B\u8F6C\u6362\u4E3Acell, \u540C\u65F6\u4FDD\u6301\u5176\u4F4D\u6A21\u5F0F(amx_ctof\u6267\u884C\u76F8\u53CD\u64CD\u4F5C).\n    const float f = 22.624f;\n    return amx_ftoc(f);\n}\n\n//\u8FD9\u4E2A\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u901A\u8FC7\u5F15\u7528\u4F20\u9012\u53C2\u6570.\n//PAWN \u539F\u751F\u51FD\u6570: native SetPawnReferenceVars(&value1, &Float:value2);\ncell AMX_NATIVE_CALL SetPawnReferenceVars(AMX* amx, cell* params)\n{\n    const int val = 65;\n    const float val2 = 84.54f;\n\n    cell* addr[2] = {NULL, NULL};\n\n    //\u83B7\u53D6"value1"\u548C"value2"\u7684\u5730\u5740\n    amx_GetAddr(amx, params[1], &addr[0]);\n    amx_GetAddr(amx, params[2], &addr[1]);\n\n    //\u53D6\u6D88\u5F15\u7528\u6211\u4EEC\u7684\u6307\u9488\u5E76\u5206\u914D\u6211\u4EEC\u7684\u503C. \u8BB0\u4F4F\u59CB\u7EC8\u4F7F\u7528\u5B8F"amx_ftoc"\u5C06\u6D6E\u70B9\u6570\u8F6C\u6362\u4E3A\n    //cells(PAWN\u7684\u9002\u5F53\u6D6E\u70B9\u683C\u5F0F)\uFF01\n    *addr[0] = val;\n    *addr[1] = amx_ftoc(val2);\n\n    return 1;\n}\n\n//\u8FD9\u4E2A\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u83B7\u53D6\u548C\u4FEE\u6539\u6570\u7EC4\u503C.\n//PAWN \u539F\u751F\u51FD\u6570: native PrintPawnArray(arr[], size = sizeof(arr));\ncell AMX_NATIVE_CALL PrintPawnArray(AMX* amx, cell* params)\n{\n    //\u786E\u4FDD\u6709\u4E1C\u897F\u53EF\u4EE5\u6253\u5370...\n    if(params[2] > 0)\n    {\n        cell* addr = NULL;\n\n        //\u83B7\u53D6\u6211\u4EECPAWN\u6570\u7EC4\u4E2D\u7B2C\u4E00\u4E2A\u503C\u7684\u5730\u5740.\n        amx_GetAddr(amx, params[1], &addr);\n\n        for(int i = 0, l = params[2]; i < l; i++)\n        {\n            //\u8FD9\u5F88\u7B80\u5355\uFF1A\u6211\u4EEC\u53D6\u6D88\u5F15\u7528addr\u6307\u9488\u6765\u83B7\u53D6\u8981\u6253\u5370\u7684\u503C.\n            //\u4F60\u5E94\u8BE5\u5DF2\u7ECF\u77E5\u9053\u4E86, \u6570\u7EC4\u548C\u6307\u9488\u51E0\u4E4E\u662F\u4E00\u6837\u7684, \u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528\u6307\u9488\n            //\u7B97\u672F\u6765\u6DFB\u52A0\u504F\u79FB\u91CF, \u6216\u8005\u76F4\u63A5\u4F7F\u7528\u4E0B\u6807\u64CD\u4F5C\u7B26(\u6700\u7EC8*(addr+1)\u548Caddr[1]\u662F\u4E00\u6837\u7684).\n            logprintf("arr[%d] = %d", i, *(addr + i));\n\n            //\u5982\u679C\u4F60\u60F3\u4FEE\u6539\u6570\u7EC4, \u4F60\u53EA\u9700\u901A\u8FC7\u53D6\u6D88\u5F15\u7528addr\u5E76\u5206\u914D\u65B0\u503C\u6765\u6539\u53D8\u5B83\u7684\u503C.\n            //\u4F60\u5E94\u8BE5\u4E5F\u77E5\u9053\u8FD9\u4E00\u70B9, \u6211\u53EA\u662F\u4E3A\u4E86\u5B8C\u6574\u6027\u628A\u5B83\u52A0\u4E0A. \u8FD9\u91CC\u6211\u4EEC\u5C06\u6570\u7EC4\u7684\u7B2C\u4E00\u4E2A\u503C\n            //\u6539\u4E3A5(\u6CE8\u610F\uFF1A\u56E0\u4E3A\u662F\u7B2C\u4E00\u4E2A\u503C, \u6240\u4EE5\u6CA1\u6709\u4F7F\u7528\u504F\u79FB\u91CF).\n\n            // *(addr) = 5;\n        }\n    }\n    return 1;\n}\n\n//\u8FD9\u4E2A\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u8BBE\u7F6Einvoke(\u83B7\u53D6\u6211\u4EECnative\u7684\u5730\u5740).\n//PAWN \u539F\u751F\u51FD\u6570: native Invoke_GetAddresses();\ncell AMX_NATIVE_CALL Invoke_GetAddresses(AMX* amx, cell* params)\n{\n    return g_Invoke->getAddresses();\n}\n\n//\u8FD9\u4E2A\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u4F7F\u7528invoke\u8C03\u7528SA-MP\u7684natives.\n//PAWN \u539F\u751F\u51FD\u6570: native WhereIsPlayer(playerid);\ncell AMX_NATIVE_CALL WhereIsPlayer(AMX* amx, cell* params)\n{\n    float\n        x = NULL,\n        y = NULL,\n        z = NULL;\n\n    //\u83B7\u53D6\u73A9\u5BB6\u7684\u4F4D\u7F6E(\u5E76\u68C0\u67E5\u4ED6\u662F\u5426\u5DF2\u8FDE\u63A5).\n    if(g_Invoke->callNative(&PAWN::GetPlayerPos, params[1], &x, &y, &z))\n    {\n        char name[24];\n\n        //\u83B7\u53D6\u73A9\u5BB6\u7684\u5176\u4F59\u4FE1\u606F(\u540D\u5B57\u3001\u5BA4\u5185\u548C\u865A\u62DF\u4E16\u754C)\u5E76\u6253\u5370\u51FA\u6765.\n        g_Invoke->callNative(&PAWN::GetPlayerName, params[1], name);\n        int interior = g_Invoke->callNative(&PAWN::GetPlayerInterior, params[1]);\n        int virtualworld = g_Invoke->callNative(&PAWN::GetPlayerVirtualWorld, params[1]);\n\n        logprintf("%s \u7684\u4F4D\u7F6E\u662F X: %.2f, Y: %.2f, Z: %.2f (\u865A\u62DF\u4E16\u754C: %d, \u5BA4\u5185 %d). ", name, x, y, z, virtualworld, interior);\n        return 1;\n\n    }\n    return 0;\n}\n\n//\u8FD9\u4E2A\u51FD\u6570\u6F14\u793A\u4E86\uFF1A\u5982\u4F55\u7F16\u5199\u4E00\u4E2Anative\u4F5C\u4E3A\u56DE\u8C03\u51FD\u6570.\n//PAWN \u539F\u751F\u51FD\u6570: native TEST_Hook_OnPlayerConnnect(playerid);\ncell AMX_NATIVE_CALL TEST_Hook_OnPlayerConnnect(AMX* amx, cell* params)\n{\n    //\u83B7\u53D6\u73A9\u5BB6\u7684\u540D\u5B57\n    char name[24];\n    g_Invoke->callNative(&PAWN::GetPlayerName, params[1], name);\n\n    //\u68C0\u67E5\u4ED6\u7684\u540D\u5B57\u662F\u5426\u662F"Mario".\n    if(string("Mario") == name)\n    {\n        //\u5982\u679C\u662F, \u53D1\u9001\u6211\u4EEC\u641E\u7B11\u7684\u5C0F\u6D88\u606F\u5E76\u8E22\u6389\u4ED6.\n        g_Invoke->callNative(&PAWN::SendClientMessage, params[1], 0xFFFFFFFF, "\u5BF9\u4E0D\u8D77 {FF0000}Mario, {FFFFFF}\u4F46\u4F60\u7684\u516C\u4E3B\u5728\u53E6\u4E00\u4E2A\u670D\u52A1\u5668. ");\n        g_Invoke->callNative(&PAWN::Kick, params[1]);\n    }\n    return 1;\n}\n\n//\u8FD9\u4E2A\u51FD\u6570\u544A\u8BC9\u670D\u52A1\u5668\u6211\u4EEC\u7684\u63D2\u4EF6\u5C06\u5177\u5907\u54EA\u4E9B\u529F\u80FD, \u57FA\u4E8E\u5B83\u8FD4\u56DE\u7684\u5185\u5BB9. \u4E00\u822C\u6765\u8BF4, \u6211\u4EEC\u5728\u63D2\u4EF6\u4E2D\u53EA\u4F7F\u75283\u4E2A\u652F\u6301\u6807\u5FD7\uFF1A\n//SUPPORTS_VERSION, SUPPORTS_AMX_NATIVES, \u548C SUPPORTS_PROCESS_TICK.\nPLUGIN_EXPORT unsigned int PLUGIN_CALL Supports()\n{\n    //\u6CE8\u610F\uFF1A\u5982\u679C\u4F60\u4F7F\u7528\u4E86ProcessTick\u51FD\u6570, \u8BF7\u8BB0\u5F97\u5728.def\u6587\u4EF6\u4E2D\u5BFC\u51FA\u5B83\uFF01\n    return SUPPORTS_VERSION | SUPPORTS_AMX_NATIVES | SUPPORTS_PROCESS_TICK;\n}\n\n//Load\u51FD\u6570\u975E\u5E38\u7B80\u5355. \u8FD9\u662F\u5728\u63D2\u4EF6\u52A0\u8F7D\u65F6\u8C03\u7528\u7684, \u5E76\u4F20\u9012\u4E00\u4E2A\u5305\u542B\u63D2\u4EF6\u5C06\u4F7F\u7528\u7684\u5730\u5740\u7684\u6570\u7EC4.\n//\u6211\u4EEC\u901A\u5E38\u4F7F\u7528\u7684\u4E24\u4E2A\u7D22\u5F15\u662FPLUGIN_DATA_AMX_EXPORTS\u548CPLUGIN_DATA_LOGPRINTF.\nPLUGIN_EXPORT bool PLUGIN_CALL Load(void **ppData)\n{\n    //\u4E3A\u6211\u4EEC\u7684g_Invoke\u5B9E\u4F8B\u5206\u914D\u5185\u5B58\n    g_Invoke = new Invoke;\n\n    //\u5C06AMX\u51FD\u6570\u8868/logprintf\u51FD\u6570\u7684\u5730\u5740\u5206\u914D\u7ED9\u76F8\u5E94\u7684\u6307\u9488.\n    pAMXFunctions = ppData[PLUGIN_DATA_AMX_EXPORTS];\n    logprintf = (logprintf_t) ppData[PLUGIN_DATA_LOGPRINTF];\n\n    logprintf("* \u6D4B\u8BD5\u63D2\u4EF6\u5DF2\u52A0\u8F7D. ");\n    return true;\n}\n\n//Unload\u5728\u63D2\u4EF6\u5378\u8F7D(\u670D\u52A1\u5668\u5173\u95ED)\u65F6\u88AB\u8C03\u7528.\nPLUGIN_EXPORT void PLUGIN_CALL Unload()\n{\n    logprintf("* \u6D4B\u8BD5\u63D2\u4EF6\u5DF2\u5378\u8F7D. ");\n}\n\n//\u6211\u4EEC\u7684native\u4FE1\u606F\u6570\u7EC4\u7528\u4E8Eamx_Register(\u51FD\u6570\u540D\u79F0\u548C\u5730\u5740).\nAMX_NATIVE_INFO PluginNatives[] =\n{\n    {"PrintPawnString", PrintPawnString},\n    {"PrintPawnString2", PrintPawnString2},\n    {"SetPawnString", SetPawnString},\n    {"ReturnPawnFloatVal", ReturnPawnFloatVal},\n    {"SetPawnReferenceVars", SetPawnReferenceVars},\n    {"PrintPawnArray", PrintPawnArray},\n    {"EmitPawnCallback", EmitPawnCallback},\n    {"WhereIsPlayer", WhereIsPlayer},\n    {"Invoke_GetAddresses", Invoke_GetAddresses},\n    {"TEST_Hook_OnPlayerConnnect", TEST_Hook_OnPlayerConnnect},\n    {0, 0}\n};\n\n//\u5F53\u65B0\u7684AMX\u5B9E\u4F8B\u88AB\u52A0\u8F7D\u5230\u670D\u52A1\u5668\u65F6\u4F1A\u8C03\u7528\u8FD9\u4E2A\u51FD\u6570. \u6BCF\u4E2Afilterscript/gamemode\u90FD\u4F1A\u8C03\u7528\u8FD9\u4E2A\u51FD\u6570\uFF01\u56E0\u6B64, \u5B58\u50A8\u6574\u4E2A\u63D2\u4EF6\u7684\u5355\u4E2AAMX\u5B9E\u4F8B\u5E76\u4E0D\u662F\u4E00\u4E2A\u597D\u4E3B\u610F,\n//\u800C\u662F\u4F7F\u7528\u961F\u5217/\u5217\u8868/\u5411\u91CF. \u5728\u8FD9\u4E2A\u51FD\u6570\u4E2D, \u6211\u4EEC\u8FD8\u6CE8\u518C\u4E86\u5E0C\u671B\u63D0\u4F9B\u7ED9PAWN\u7684\u81EA\u5B9A\u4E49native\u51FD\u6570.\nPLUGIN_EXPORT int PLUGIN_CALL AmxLoad( AMX *amx )\n{\n    //\u6BCF\u5F53\u4E00\u4E2A\u811A\u672C\u88AB\u52A0\u8F7D\u65F6, \u6211\u4EEC\u60F3\u5C06\u5B83\u6DFB\u52A0\u5230invoke\u7684AMX\u5217\u8868\u4E2D, \u6240\u4EE5\u6211\u4EEC\u5C06\u5B9E\u4F8B\u63A8\u5165\u5217\u8868.\n    g_Invoke->amx_list.push_back(amx);\n    return amx_Register(amx, PluginNatives, -1);\n}\n\n//\u6BCF\u5F53\u4E00\u4E2AAMX\u5B9E\u4F8B\u88AB\u5378\u8F7D\u65F6\u4F1A\u8C03\u7528\u8FD9\u4E2A\u51FD\u6570. \u5982\u679C\u4F60\u5B58\u50A8AMX\u5B9E\u4F8B, \u8BF7\u786E\u4FDD\u4F60\u5C06\u5B83\u4EEC\u79FB\u9664. \u5426\u5219\u4F60\u4F1A\u6709\u6307\u5411\u4E0D\u5B58\u5728\u7684gamemodes/filterscripts\u7684\u5B9E\u4F8B.\nPLUGIN_EXPORT int PLUGIN_CALL AmxUnload( AMX *amx )\n{\n    //\u6BCF\u4E2A\u88AB\u5378\u8F7D\u7684\u811A\u672C\u9700\u8981\u4ECE\u6211\u4EEC\u7684AMX\u5B9E\u4F8B\u5217\u8868\u4E2D\u79FB\u9664. \u6240\u4EE5\u6211\u4EEC\u904D\u5386\u5217\u8868, \u627E\u5230\u6B63\u5728\u88AB\u5378\u8F7D\u7684\u5B9E\u4F8B, \u5E76\u5C06\u5176\u4ECE\u5217\u8868\u4E2D\u5220\u9664.\n    for(list<AMX *>::iterator i = g_Invoke->amx_list.begin(); i != g_Invoke->amx_list.end(); ++i)\n    {\n        if(*i == amx)\n        {\n            g_Invoke->amx_list.erase(i);\n            break;\n        }\n    }\n    return AMX_ERR_NONE;\n}\n\n//ProcessTick \u662F\u4E00\u4E2A\u5728\u670D\u52A1\u5668\u5FAA\u73AF\u7684\u6BCF\u6B21\u8FED\u4EE3\u4E2D\u88AB\u8C03\u7528\u7684\u51FD\u6570. \u4EBA\u4EEC\u901A\u5E38\u4F7F\u7528\u8FD9\u4E2A\u51FD\u6570\u6765\u7BA1\u7406\u65F6\u95F4, \u901A\u8FC7\u8DDF\u8E2A\u5DF2\u7ECF\u8FC7\u53BB\u7684tick\u6570\u91CF.\n// SA-MP\u670D\u52A1\u5668\u7684\u4F11\u7720\u65F6\u95F4\u4E3A5\u6BEB\u79D2, \u56E0\u6B64\u5982\u679C\u7ECF\u8FC7\u4E8650\u4E2Atick, \u4F60\u5C31\u53EF\u4EE5\u77E5\u9053\u7ECF\u8FC7\u7684\u65F6\u95F4(5 * 50 = 250\u6BEB\u79D2). \u6CE8\u610F\uFF1A\u4EFB\u4F55\u5728\u63D2\u4EF6\u4E2D\u4F7F\u7528\u7EBF\u7A0B\u5E76\u9700\u8981PAWN\u4EA4\u4E92\u7684\u4EBA\u90FD\u9700\u8981\u4F7F\u7528\u8FD9\u4E2A\u51FD\u6570, \u4EE5\u786E\u4FDD\n// PAWN\u4E0D\u4F1A\u5FD9\u4E8E\u6267\u884C\u5176\u4ED6\u4EFB\u52A1\uFF01\nPLUGIN_EXPORT void PLUGIN_CALL ProcessTick()\n{\n    static int tick = 0;\n    const int NYAN_COUNT = 100;\n\n    tick++;\n\n    //\u4F7F\u7528\u53D6\u6A21\u8FD0\u7B97\u7B26\u6765\u67E5\u770B\u662F\u5426\u5DF2\u7ECF\u8FC7\u53BB\u4E86NYAN_COUNT\u4E2Atick(100 tick. 5\u6BEB\u79D2\u4F11\u7720\u65F6\u95F4 * 100 tick = 500\u6BEB\u79D2).\n    if(!(tick % NYAN_COUNT))\n    {\n        //\u5982\u679C\u7ECF\u8FC7\u4E86100\u4E2Atick, \u5219\u5411\u6240\u6709\u4EBA\u53D1\u9001\u6211\u4EEC\u641E\u7B11\u7684\u5C0F\u6D88\u606F.\n        const char nyan[] = "{FF0000}NYAN {FFA500}NYAN {FFFF00}NYAN {00FF00}NYAN {0000FF}NYAN {551A8B}NYAN";\n        g_Invoke->callNative(&PAWN::SendClientMessageToAll, 0, nyan);\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u7279\u522B\u611F\u8C22",children:"\u7279\u522B\u611F\u8C22"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"RyDeR`"})," - \u611F\u8C22\u63D0\u4F9B\u4ED6\u63D2\u4EF6\u6559\u7A0B\u4E2D\u7684\u56FE\u7247."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Incognito"})," - \u611F\u8C22\u63D0\u4F9B Invoke\u3001\u6709\u5173 ProcessTick \u7684\u4FE1\u606F, \u4EE5\u53CA\u5728\u6211\u5B66\u4E60 C++\u671F\u95F4\u7ED9\u4E88\u7684\u6240\u6709\u5E2E\u52A9."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Zeex/0x5A656578"})," - \u611F\u8C22 GDK(\u5C06\u4F1A\u5728\u67D0\u4E2A\u65F6\u5019\u5305\u542B\u5728\u5185), \u4EE5\u53CA\u81EA\u613F\u56DE\u7B54\u6709\u5173 GDK \u7684\u95EE\u9898."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Y_Less"})," - \u611F\u8C22\u4F60\u4E00\u76F4\u4EE5\u6765\u7684\u4F18\u79C0\u8868\u73B0\u548C\u5728\u6211\u5B8C\u5168\u56F0\u60D1\u65F6\u7684\u6301\u7EED\u5E2E\u52A9."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Techboy123"})," - \u611F\u8C22\u4F60\u4EEC\u7684\u5F88\u591A\u5BCC\u6709\u6210\u6548\u7684\u804A\u5929\u3001\u5E2E\u52A9\u4EE5\u53CA\u503E\u542C\u6211\u7684\u62B1\u6028."]})]})}function h(n={}){let{wrapper:e}={...(0,a.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(x,{...n})}):x(n)}},50065:function(n,e,r){r.d(e,{Z:()=>d,a:()=>i});var l=r(67294);let s={},a=l.createContext(s);function i(n){let e=l.useContext(a);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),l.createElement(a.Provider,{value:e},n.children)}}}]);
"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["45449"],{76105:function(e,a,i){i.r(a),i.d(a,{frontMatter:()=>t,toc:()=>s,default:()=>p,metadata:()=>r,assets:()=>d,contentTitle:()=>o});var r=JSON.parse('{"id":"scripting/callbacks/OnPlayerTakeDamage","title":"OnPlayerTakeDamage","description":"Ovaj callback je pozvan kada igra\u010D prvimi povredu (damage).","source":"@site/i18n/bs/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerTakeDamage.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnPlayerTakeDamage","permalink":"/bs/docs/scripting/callbacks/OnPlayerTakeDamage","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/scripting/callbacks/OnPlayerTakeDamage.md","tags":[{"inline":true,"label":"player","permalink":"/bs/docs/tags/player"}],"version":"current","frontMatter":{"title":"OnPlayerTakeDamage","sidebar_label":"OnPlayerTakeDamage","description":"Ovaj callback je pozvan kada igra\u010D prvimi povredu (damage).","tags":["player"]},"sidebar":"docsSidebar","previous":{"title":"OnPlayerStreamOut","permalink":"/bs/docs/scripting/callbacks/OnPlayerStreamOut"},"next":{"title":"OnPlayerText","permalink":"/bs/docs/scripting/callbacks/OnPlayerText"}}'),n=i(85893),l=i(50065);let t={title:"OnPlayerTakeDamage",sidebar_label:"OnPlayerTakeDamage",description:"Ovaj callback je pozvan kada igra\u010D prvimi povredu (damage).",tags:["player"]},o=void 0,d={},s=[{value:"Deskripcija",id:"deskripcija",level:2},{value:"Returns",id:"returns",level:2},{value:"Primjeri",id:"primjeri",level:2},{value:"Zabilje\u0161ke",id:"zabilje\u0161ke",level:2},{value:"Srodne Callbacks",id:"srodne-callbacks",level:2}];function c(e){let a={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h2,{id:"deskripcija",children:"Deskripcija"}),"\n",(0,n.jsx)(a.p,{children:"Ovaj callback je pozvan kada igra\u010D prvimi povredu (damage)."}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:"Ime"}),(0,n.jsx)(a.th,{children:"Deskripcija"})]})}),(0,n.jsxs)(a.tbody,{children:[(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"playerid"}),(0,n.jsx)(a.td,{children:"ID igra\u010Da koji je primio povredu (damage)."})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"issuerid"}),(0,n.jsx)(a.td,{children:"ID igra\u010Da koji je uzrokovao povredu. INVALID_PLAYER_ID ako je sam sebe povrijedio."})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsxs)(a.td,{children:["Float",":amount"]}),(0,n.jsx)(a.td,{children:"Koli\u010Dina povrede (damage-a) koje je igra\u010D primio (health i armor kombinirano)."})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsxs)(a.td,{children:["WEAPON",":weaponid"]}),(0,n.jsx)(a.td,{children:"ID oru\u017Eja/razlog zbog kojeg je primio povredu (damage)."})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"bodypart"}),(0,n.jsx)(a.td,{children:"Dio tijela u koji je igra\u010D pogo\u0111en."})]})]})]}),"\n",(0,n.jsx)(a.h2,{id:"returns",children:"Returns"}),"\n",(0,n.jsx)(a.p,{children:"1 - Callback se ne\u0107e pozvati u drugim filterskriptama."}),"\n",(0,n.jsx)(a.p,{children:"0 - Dozvoljava da se ovaj callback pozove u narednoj filterskripti."}),"\n",(0,n.jsx)(a.p,{children:"Uvijek je pozvan prvo u filterskripti tako da \u0107e return-ovanje 1 ovdje blokirati da ga ostale filterskripte vide."}),"\n",(0,n.jsx)(a.h2,{id:"primjeri",children:"Primjeri"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-c",children:'public OnPlayerTakeDamage(playerid, issuerid, Float:amount, WEAPON:weaponid, bodypart)\n{\n    if (issuerid\xa0!= INVALID_PLAYER_ID) // If not self-inflicted\n    {\n        new\n            infoString[128],\n            weaponName[24],\n            victimName[MAX_PLAYER_NAME],\n            attackerName[MAX_PLAYER_NAME];\n\n        GetPlayerName(playerid, victimName, sizeof (victimName));\n        GetPlayerName(issuerid, attackerName, sizeof (attackerName));\n\n        GetWeaponName(weaponid, weaponName, sizeof (weaponName));\n\n        format(infoString, sizeof(infoString), "%s has made %.0f damage to %s, weapon: %s, bodypart: %d", attackerName, amount, victimName, weaponName, bodypart);\n        SendClientMessageToAll(-1, infoString);\n    }\n    return 1;\n}\n\npublic OnPlayerTakeDamage(playerid, issuerid, Float:amount, WEAPON:weaponid, bodypart)\n{\n    if (issuerid\xa0!= INVALID_PLAYER_ID && weaponid == 34 && bodypart == 9)\n    {\n        // Jedan metak u glavu sa sniperom da ga odmah ubije\n        SetPlayerHealth(playerid, 0.0);\n    }\n    return 1;\n}\n'})}),"\n",(0,n.jsx)(a.h2,{id:"zabilje\u0161ke",children:"Zabilje\u0161ke"}),"\n",(0,n.jsx)(a.admonition,{type:"tip",children:(0,n.jsx)(a.p,{children:"ID oru\u017Eja (weaponid) \u0107e return-ovati 37 (flame thrower) od bilo kojeg izvora vatre (npr. molotov, 18) ID oru\u017Eja (weaponid) \u0107e return-ovati 51 od bilo koje vrste eksplozije (npe. RPG, granata) playerid je jedini koji mo\u017Ee pozvati ovaj callback. Koli\u010Dina je uvijek maksimalna povreda koju taj ID oru\u017Eja (weaponid) mo\u017Ee da dadne, iako je nivo healtha manji od maksimalne povrede. Tako da kada igra\u010D ima 100.0 healtha i biva pogo\u0111en sa Desert Eagle-om koji daje damage vrijednosti 46.2, potrebna su 3 hica da se taj igra\u010D ubije. Sva tri hica \u0107e priakzati koli\u010Dinu 46.2, iako zadnji kada zadnji hitac biva ispaljen, igra\u010D ima samo 7.6 preostalog healtha."})}),"\n",(0,n.jsx)(a.admonition,{type:"warning",children:(0,n.jsx)(a.p,{children:"GetPlayerHealth i GetPlayerArmour \u0107e return-ovati stare vrijednosti igra\u010Devog healtha i armora prije ovog callbacka. Uvijek provjerite da li je issuerid validan prije nego ga koristite u array indexu."})}),"\n",(0,n.jsx)(a.h2,{id:"srodne-callbacks",children:"Srodne Callbacks"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.a,{href:"OnPlayerGiveDamage",children:"OnPlayerGiveDamage"}),": This callback is called when a player gives damage."]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.a,{href:"OnPlayerWeaponShot",children:"OnPlayerWeaponShot"}),": This callback is called when a player fires a weapon."]}),"\n"]})]})}function p(e={}){let{wrapper:a}={...(0,l.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},50065:function(e,a,i){i.d(a,{Z:()=>o,a:()=>t});var r=i(67294);let n={},l=r.createContext(n);function t(e){let a=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),r.createElement(l.Provider,{value:a},e.children)}}}]);
"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["40605"],{70198:function(e,i,a){a.r(i),a.d(i,{frontMatter:()=>l,toc:()=>d,default:()=>o,metadata:()=>r,assets:()=>s,contentTitle:()=>c});var r=JSON.parse('{"id":"scripting/callbacks/OnPlayerDeath","title":"OnPlayerDeath","description":"Acest callback este apelat atunci c\xe2nd un juc\u0103tor moare, fie prin sinucidere, fie ucis de un alt juc\u0103tor.","source":"@site/i18n/ro/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerDeath.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnPlayerDeath","permalink":"/ro/docs/scripting/callbacks/OnPlayerDeath","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/scripting/callbacks/OnPlayerDeath.md","tags":[{"inline":true,"label":"player","permalink":"/ro/docs/tags/player"}],"version":"current","frontMatter":{"title":"OnPlayerDeath","sidebar_label":"OnPlayerDeath","description":"Acest callback este apelat atunci c\xe2nd un juc\u0103tor moare, fie prin sinucidere, fie ucis de un alt juc\u0103tor.","tags":["player"]},"sidebar":"docsSidebar","previous":{"title":"OnPlayerConnect","permalink":"/ro/docs/scripting/callbacks/OnPlayerConnect"},"next":{"title":"OnPlayerDisconnect","permalink":"/ro/docs/scripting/callbacks/OnPlayerDisconnect"}}'),n=a(85893),t=a(50065);let l={title:"OnPlayerDeath",sidebar_label:"OnPlayerDeath",description:"Acest callback este apelat atunci c\xe2nd un juc\u0103tor moare, fie prin sinucidere, fie ucis de un alt juc\u0103tor.",tags:["player"]},c=void 0,s={},d=[{value:"Descriere",id:"descriere",level:2},{value:"Return\u0103ri",id:"return\u0103ri",level:2},{value:"Example",id:"example",level:2},{value:"Note",id:"note",level:2},{value:"Func\u021Bii similare",id:"func\u021Bii-similare",level:2}];function u(e){let i={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h2,{id:"descriere",children:"Descriere"}),"\n",(0,n.jsx)(i.p,{children:"Acest callback este apelat atunci c\xe2nd un juc\u0103tor moare, fie prin sinucidere, fie ucis de un alt juc\u0103tor."}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:"Nume"}),(0,n.jsx)(i.th,{children:"Descriere"})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"playerid"}),(0,n.jsx)(i.td,{children:"ID-ul juc\u0103torului care a murit."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"killerid"}),(0,n.jsx)(i.td,{children:"ID-ul juc\u0103torului care l-a ucis pe juc\u0103torul care a murit sau INVALID_PLAYER_ID dac\u0103 nu a existat niciunul."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsxs)(i.td,{children:["WEAPON",":reason"]}),(0,n.jsxs)(i.td,{children:["ID-ul motivului (",(0,n.jsx)(i.a,{href:"../resources/weaponids",children:"weaponid"}),") pentru moartea juc\u0103torului."]})]})]})]}),"\n",(0,n.jsx)(i.h2,{id:"return\u0103ri",children:"Return\u0103ri"}),"\n",(0,n.jsx)(i.p,{children:"0 - Va \xeempiedica alte filterscript-uri s\u0103 primeasc\u0103 acest callback."}),"\n",(0,n.jsx)(i.p,{children:"1 - Indic\u0103 faptul c\u0103 acest callback va fi transmis urm\u0103torului filterscript."}),"\n",(0,n.jsx)(i.p,{children:"Este \xeentotdeauna numit primul \xeen filterscript-uri."}),"\n",(0,n.jsx)(i.h2,{id:"example",children:"Example"}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-c",children:"new PlayerDeaths[MAX_PLAYERS];\nnew PlayerKills[MAX_PLAYERS];\n\npublic OnPlayerDeath(playerid, killerid, WEAPON:reason)\n{\n    SendDeathMessage(killerid, playerid, reason); // Afi\u0219eaz\u0103 uciderea \xeen killfeed\n\n    // Verifica\u021Bi dac\u0103 killerid-ul este valid \xeenainte de a face ceva cu el\n    if (killerid != INVALID_PLAYER_ID)\n    {\n        PlayerKills[killerid] ++;\n    }\n\n    // \xcen afara verific\u0103rii, gestiona\u021Bi chestii pentru playerid (este \xeentotdeauna valabil)\n    PlayerDeaths[playerid] ++;\n    return 1;\n}\n"})}),"\n",(0,n.jsx)(i.h2,{id:"note",children:"Note"}),"\n",(0,n.jsx)(i.admonition,{type:"tip",children:(0,n.jsxs)(i.p,{children:["Motivul va returna 37 (arunc\u0103tor de fl\u0103c\u0103ri) din orice surs\u0103 de foc (de ex. molotov, 18) Motivul va returna 51 de la orice arm\u0103 care creeaz\u0103 o explozie (de ex. RPG, grenad\u0103) Nu trebuie s\u0103 verifica\u021Bi dac\u0103 Killerid este valid \xeenainte de ao folosi \xeen ",(0,n.jsx)(i.a,{href:"../functions/SendDeathMessage",children:"SendDeathMessage"}),". INVALID_PLAYER_ID este un parametru valid ID killerid \xeen acea func\u021Bie. playerid este singurul care poate apela \xeenapoi. (Bine de \u0219tiut pentru anti moartea fals\u0103)"]})}),"\n",(0,n.jsx)(i.admonition,{type:"warning",children:(0,n.jsx)(i.p,{children:"TREBUIE s\u0103 verifica\u021Bi dac\u0103 \u201Ekillerid\u201D este valid (nu INVALID_PLAYER_ID) \xeenainte de a-l folosi \xeentr-o matrice (sau chiar oriunde), deoarece va cauza blocarea scriptului OnPlayerDeath (nu a \xeentregului script). Acest lucru se datoreaz\u0103 faptului c\u0103 INVALID_PLAYER_ID este definit ca 65535, iar dac\u0103 o matrice are doar elemente \u201EMAX_PLAYERS\u201D, de ex. 500, \xeencerca\u021Bi s\u0103 accesa\u021Bi un index care este peste 499, care este \xeen afara limitelor."})}),"\n",(0,n.jsx)(i.h2,{id:"func\u021Bii-similare",children:"Func\u021Bii similare"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"../functions/SendDeathMessage",children:"SendDeathMessage"}),": Ad\u0103uga\u021Bi o ucidere pe lista mor\u021Bilor."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.a,{href:"../functions/SetPlayerHealth",children:"SetPlayerHealth"}),": Seta\u021Bi viata unui juc\u0103tor."]}),"\n"]})]})}function o(e={}){let{wrapper:i}={...(0,t.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},50065:function(e,i,a){a.d(i,{Z:()=>c,a:()=>l});var r=a(67294);let n={},t=r.createContext(n);function l(e){let i=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),r.createElement(t.Provider,{value:i},e.children)}}}]);
"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["66089"],{81267:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>l,toc:()=>d,default:()=>o,metadata:()=>r,assets:()=>u,contentTitle:()=>c});var r=JSON.parse('{"id":"tutorials/MenuGuide","title":"Ghid pentru meniuri","description":"Un scurt tutorial care explic\u0103 modul de utilizare a sistemului de meniuri al jocului. Acest sistem de meniu este diferit de dialogurile SA-MP \u0219i reflect\u0103 mai bine interfa\u021Ba tradi\u021Bional\u0103 a jocului original.","source":"@site/i18n/ro/docusaurus-plugin-content-docs/current/tutorials/MenuGuide.md","sourceDirName":"tutorials","slug":"/tutorials/MenuGuide","permalink":"/ro/docs/tutorials/MenuGuide","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/tutorials/MenuGuide.md","tags":[],"version":"current","frontMatter":{"title":"Ghid pentru meniuri","sidebar_label":"Ghid pentru meniuri"},"sidebar":"docsSidebar","previous":{"title":"Binar","permalink":"/ro/docs/tutorials/Binary"},"next":{"title":"Ghid pentru pickup-uri","permalink":"/ro/docs/tutorials/PickupGuide"}}'),t=i(85893),a=i(50065);let l={title:"Ghid pentru meniuri",sidebar_label:"Ghid pentru meniuri"},c=void 0,u={},d=[{value:"Meniuri \xeen SA-MP",id:"meniuri-\xeen-sa-mp",level:2},{value:"Primii pa\u0219i din meniu",id:"primii-pa\u0219i-din-meniu",level:2},{value:"Ad\u0103uga\u021Bi c\xe2teva elemente de meniu",id:"ad\u0103uga\u021Bi-c\xe2teva-elemente-de-meniu",level:2},{value:"Crearea efectelor pentru elemente",id:"crearea-efectelor-pentru-elemente",level:2},{value:"Ultimii pa\u0219i",id:"ultimii-pa\u0219i",level:2},{value:"Ultimele cuvinte",id:"ultimele-cuvinte",level:2}];function s(e){let n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Un scurt tutorial care explic\u0103 modul de utilizare a sistemului de meniuri al jocului. Acest sistem de meniu este diferit de dialogurile SA-MP \u0219i reflect\u0103 mai bine interfa\u021Ba tradi\u021Bional\u0103 a jocului original."}),"\n",(0,t.jsx)(n.h2,{id:"meniuri-\xeen-sa-mp",children:"Meniuri \xeen SA-MP"}),"\n",(0,t.jsx)(n.p,{children:"Meniurile arat\u0103 foarte complicat \u0219i greu de redactat pentru cei mai mul\u021Bi juc\u0103tori, de\u0219i nu este. Aici v\u0103 voi ar\u0103ta cum s\u0103 crea\u021Bi un meniu simplu. La final vom crea un meniu de teleportare."}),"\n",(0,t.jsx)(n.h2,{id:"primii-pa\u0219i-din-meniu",children:"Primii pa\u0219i din meniu"}),"\n",(0,t.jsxs)(n.p,{children:["Mai \xeent\xe2i trebuie s\u0103 cre\u0103m un meniu. Prefixul dinainte este ",(0,t.jsx)(n.code,{children:"Menu:"})," aceasta face ca variabila s\u0103 fie corect\u0103 ",(0,t.jsx)(n.a,{href:"../scripting/language/tags",children:"etichetata"}),'. Exist\u0103 diferite tipuri pentru utiliz\u0103ri diferite, cum ar fi "Float:" bool: "Text3D:" etc. Scrie\u021Bi urm\u0103torul cod \xeen partea de sus a scriptului:']}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"new Menu:teleportmenu;\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Bine, am creat variabila pentru a stoca meniul. Acum trebuie s\u0103 cre\u0103m meniul \u0219i s\u0103 atribuim meniului variabila pe care am creat-o. Tasta\u021Bi acest lucru \xeen ",(0,t.jsx)(n.code,{children:"OnGameModeInit"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:'teleportmenu = CreateMenu("Teleportmenu", 2, 200.0, 100.0, 150.0, 150.0);\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Acum o explica\u021Bie despre argumentele ",(0,t.jsx)(n.a,{href:"../scripting/functions/CreateMenu",children:"CreateMenu"}),". ",(0,t.jsx)(n.strong,{children:"Parametrii:"})]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Specifies"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"title"}),(0,t.jsx)(n.td,{children:"Antetul meniului"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"columns"}),(0,t.jsx)(n.td,{children:"Num\u0103rul de aici define\u0219te c\xe2t de multe coloane sunt utilizate (2 este maxim)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:["Float",":x"]}),(0,t.jsx)(n.td,{children:"Pozi\u021Bia \xeenalt\u0103 a meniului pe ecran (de la st\xe2nga la dreapta)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:["Float",":y"]}),(0,t.jsx)(n.td,{children:"Pozi\u021Bia l\u0103\u021Bimii meniului pe ecran (sus \u0219i jos)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:["Float",":col1width"]}),(0,t.jsx)(n.td,{children:"L\u0103\u021Bimea primei coloane"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:["Float",":col2width"]}),(0,t.jsx)(n.td,{children:"L\u0103\u021Bimea celei de-a doua coloane"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"ad\u0103uga\u021Bi-c\xe2teva-elemente-de-meniu",children:"Ad\u0103uga\u021Bi c\xe2teva elemente de meniu"}),"\n",(0,t.jsx)(n.p,{children:"Ok, acum avem meniul, dar avem nevoie de c\xe2teva elemente, sub care pute\u021Bi alege \xeen meniu. Le ad\u0103uga\u021Bi sub \u201ECreateMenu\u201D pe care l-am creat mai devreme."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:'AddMenuItem(teleportmenu, 0, "LS");\nAddMenuItem(teleportmenu, 0, "LS");\nAddMenuItem(teleportmenu, 0, "SF");\nAddMenuItem(teleportmenu, 0, "SF");\nAddMenuItem(teleportmenu, 0, "LV");\nAddMenuItem(teleportmenu, 0, "LV");\n\xa0\nAddMenuItem(teleportmenu, 1, "Grove Street");\nAddMenuItem(teleportmenu, 1, "Starfish Tower");\nAddMenuItem(teleportmenu, 1, "Wheel Arch Angels");\nAddMenuItem(teleportmenu, 1, "Jizzys");\nAddMenuItem(teleportmenu, 1, "4 Dragons");\nAddMenuItem(teleportmenu, 1, "Come-a-Lot");\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Explica\u021Bia pentru ",(0,t.jsx)(n.a,{href:"../scripting/functions/AddMenuItem",children:"AddMenuItem"}),":"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"menuid"}),(0,t.jsx)(n.th,{children:"Meniul din meniul \xeen care va fi afi\u0219at elementul"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"column"}),(0,t.jsx)(n.td,{children:"Coloana \xeen care va fi afi\u0219at elementul"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"text"}),(0,t.jsx)(n.td,{children:"Textul articolului"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"crearea-efectelor-pentru-elemente",children:"Crearea efectelor pentru elemente"}),"\n",(0,t.jsxs)(n.p,{children:["Bine, acum c\u0103 am creat un meniu complet cu elemente, ce ar trebui s\u0103 se \xeent\xe2mple atunci c\xe2nd alege\u021Bi un articol? \xcen exemplul nostru, vrem s\u0103 realiz\u0103m un meniu de teleportare, deci ar trebui s\u0103 fim teleporta\u021Bi \xeen pozi\u021Bia pe care o alegem. C\xe2nd un juc\u0103tor selecteaz\u0103 un element dintr-un meniu, scriptul apeleaz\u0103 callback-ul ",(0,t.jsx)(n.a,{href:"../scripting/callbacks/OnPlayerSelectedMenuRow",children:"OnPlayerSelectedMenuRow"}),". Cel mai bun mod de a face acest lucru este s\u0103-l face\u021Bi cu un comutator, este ca mai multe instruc\u021Biuni if pentru a verifica dac\u0103 o variabil\u0103 merit\u0103 anumite valori. Dar mai \xeent\xe2i vrem aceste efecte doar pentru meniul pe care \xeel dorim, a\u0219a c\u0103 trebuie s\u0103 cre\u0103m o variabil\u0103 care s\u0103 con\u021Bin\u0103 ce meniu prive\u0219te playerul, acest lucru se face cu ",(0,t.jsx)(n.code,{children:"GetPlayerMenu"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"new Menu:CurrentMenu = GetPlayerMenu(playerid);\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Acum, c\xe2nd cineva selecteaz\u0103 ceva din meniu, meniul s\u0103u va fi salvat \xeen ",(0,t.jsx)(n.code,{children:"CurrentMenu"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Acum trebuie s\u0103 verific\u0103m dac\u0103 meniul pe care l-au selectat este meniul pe care \xeel dorim:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:"public OnPlayerSelectedMenuRow(playerid, row)\n{\n    new Menu:CurrentMenu = GetPlayerMenu(playerid);\n    if (CurrentMenu == teleportmenu)\n    {\n        //stuff\n    }\n    return 1;\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Acum \xeentre aceste paranteze este locul unde se afl\u0103 comutatorul, acest lucru verific\u0103 ce element selectat de juc\u0103tor sau ",(0,t.jsx)(n.code,{children:"r\xe2nd"})," se poate face cu instruc\u021Biunile ",(0,t.jsx)(n.code,{children:"dac\u0103"})," verific\xe2nd ce ",(0,t.jsx)(n.code,{children:"r\xe2nd"})," este, dar ",(0,t.jsx)(n.code,{children:"comutatorul"})," este mult mai simplu mod de a-l scrie."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:'if(CurrentMenu == teleportmenu)\n{\n    switch(row)\n    {\n        case 0: //Grove Street\n        {\n            SetPlayerPos(playerid, 2493.9133, -1682.3986, 13.3382);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Welcome to Grove Street");\n        }\n        case 1: //Starfish Tower\n        {\n            SetPlayerPos(playerid, 1541.2833, -1362.4741, 329.6457);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Welcome to the top of Starfish Tower");\n        }\n        case 2: //Wheel Arch Angels\n        {\n            SetPlayerPos(playerid, -2705.5503, 206.1621, 4.1797);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Welcome to the Wheel Arch Angels tuning-shop");\n        }\n        case 3: //Jizzys\n        {\n            SetPlayerPos(playerid, -2617.5156, 1390.6353, 7.1105);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Welcome to Jizzy\'s Nightclub!");\n        }\n        case 4: //4Dragons\n        {\n            SetPlayerPos(playerid, 2028.5538, 1008.3543, 10.8203);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Welcome to the Four Dragons Casino");\n        }\n        case 5: //Come-a-Lot\n        {\n            SetPlayerPos(playerid, 2169.1838, 1122.5426, 12.6107);\n            SetPlayerInterior(playerid, 0);\n            SendClientMessage(playerid, 0xFFFFFFFF, "Welcome to the Come-a-Lot casino!");\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"ultimii-pa\u0219i",children:"Ultimii pa\u0219i"}),"\n",(0,t.jsxs)(n.p,{children:["Acum avem nevoie de o comand\u0103 pentru a afi\u0219a meniul. Acesta este cel mai u\u0219or pas. Doar o compara\u021Bie cu ",(0,t.jsx)(n.code,{children:"strcmp"})," \u0219i un ",(0,t.jsx)(n.code,{children:"ShowMenuForPlayer"}),". Acest lucru se face \xeen ",(0,t.jsx)(n.code,{children:"OnPlayerCommandText"}),". Sau, dac\u0103 ave\u021Bi deja un procesor de comand\u0103, utiliza\u021Bi-l \xeen schimb pentru a apela ",(0,t.jsx)(n.code,{children:"ShowMenuForPlayer"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-c",children:'if(strcmp(cmdtext, "/teleport", true) == 0)\n{\n    ShowMenuForPlayer(teleportmenu,playerid);\n    return 1;\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Foarte u\u0219or, nu-i a\u0219a?"}),"\n",(0,t.jsx)(n.h2,{id:"ultimele-cuvinte",children:"Ultimele cuvinte"}),"\n",(0,t.jsx)(n.p,{children:"Bine, dup\u0103 ce a\u021Bi citit acest lucru \u0218I l-a\u021Bi \xeen\u021Beles, \xeencerca\u021Bi propriul meniu. Dup\u0103 cum a\u021Bi putut vedea, nu este at\xe2t de dificil, dar \xeei va impresiona pe juc\u0103torii de pe serverul dvs. cu at\xe2t mai mult. \u0218i po\u021Bi s\u0103 creezi efecte foarte interesante cu asta. De asemenea, este foarte interesant pentru magazinele generale sau supermarketurile pentru lucrurile pe care le pute\u021Bi cump\u0103ra. Apoi, pute\u021Bi sc\u0103dea ni\u0219te bani ca efect, iar pre\u021Bul este afi\u0219at \xeentr-o alt\u0103 coloan\u0103 din meniu. Dar acum, lucreaz\u0103 pe cont propriu."}),"\n",(0,t.jsxs)(n.p,{children:["De asemenea, pute\u021Bi ad\u0103uga ",(0,t.jsx)(n.a,{href:"../scripting/functions/TogglePlayerControllable",children:"TogglePlayerControllable"})," cu ",(0,t.jsx)(n.code,{children:"false"})," dup\u0103",(0,t.jsx)(n.code,{children:"ShowPlayerMenu"})," \u0219i ",(0,t.jsx)(n.a,{href:"../scripting/functions/TogglePlayerControllable",children:"TogglePlayerControllable"})," cu ",(0,t.jsx)(n.code,{children:"true"})," la sf\xe2r\u0219itul \u02BBOnPlayerSelectedMen juc\u0103torul respectiv nu se poate mi\u0219ca \xeen timp ce navigheaz\u0103 prin meniuri."]}),"\n",(0,t.jsx)(n.p,{children:"Sper c\u0103 a\u021Bi \xeenv\u0103\u021Bat ceva din acest tutorial. Dac\u0103 ave\u021Bi \xeentreb\u0103ri, \xeentreba\u021Bi pe forumuri / discordie."})]})}function o(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(s,{...e})}):s(e)}},50065:function(e,n,i){i.d(n,{Z:()=>c,a:()=>l});var r=i(67294);let t={},a=r.createContext(t);function l(e){let n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);
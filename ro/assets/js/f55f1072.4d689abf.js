"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["67798"],{44231:function(e,a,t){t.r(a),t.d(a,{frontMatter:()=>l,toc:()=>d,default:()=>u,metadata:()=>r,assets:()=>s,contentTitle:()=>c});var r=JSON.parse('{"id":"scripting/callbacks/OnPlayerTakeDamage","title":"OnPlayerTakeDamage","description":"Acest callback este apelat atunci c\xe2nd un juc\u0103tor prime\u0219te daune.","source":"@site/i18n/ro/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerTakeDamage.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnPlayerTakeDamage","permalink":"/ro/docs/scripting/callbacks/OnPlayerTakeDamage","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/scripting/callbacks/OnPlayerTakeDamage.md","tags":[{"inline":true,"label":"player","permalink":"/ro/docs/tags/player"}],"version":"current","frontMatter":{"title":"OnPlayerTakeDamage","sidebar_label":"OnPlayerTakeDamage","description":"Acest callback este apelat atunci c\xe2nd un juc\u0103tor prime\u0219te daune.","tags":["player"]},"sidebar":"docsSidebar","previous":{"title":"OnPlayerStreamOut","permalink":"/ro/docs/scripting/callbacks/OnPlayerStreamOut"},"next":{"title":"OnPlayerText","permalink":"/ro/docs/scripting/callbacks/OnPlayerText"}}'),n=t(85893),i=t(50065);let l={title:"OnPlayerTakeDamage",sidebar_label:"OnPlayerTakeDamage",description:"Acest callback este apelat atunci c\xe2nd un juc\u0103tor prime\u0219te daune.",tags:["player"]},c=void 0,s={},d=[{value:"Descriere",id:"descriere",level:2},{value:"Return\u0103ri",id:"return\u0103ri",level:2},{value:"Exemple",id:"exemple",level:2},{value:"Note",id:"note",level:2}];function o(e){let a={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h2,{id:"descriere",children:"Descriere"}),"\n",(0,n.jsx)(a.p,{children:"Acest callback este apelat atunci c\xe2nd un juc\u0103tor prime\u0219te daune."}),"\n",(0,n.jsxs)(a.table,{children:[(0,n.jsx)(a.thead,{children:(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.th,{children:"Nume"}),(0,n.jsx)(a.th,{children:"Descriere"})]})}),(0,n.jsxs)(a.tbody,{children:[(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"playerid"}),(0,n.jsx)(a.td,{children:"ID-ul juc\u0103torului care a suferit daune."})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"issuerid"}),(0,n.jsx)(a.td,{children:"ID-ul juc\u0103torului care a cauzat prejudiciul. INVALID_PLAYER_ID dac\u0103 este autoprovocat."})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsxs)(a.td,{children:["Float",":amount"]}),(0,n.jsx)(a.td,{children:"Cantitatea de daune suferite de juc\u0103tor (s\u0103n\u0103tate \u0219i armur\u0103 combinate)."})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsxs)(a.td,{children:["WEAPON",":weaponid"]}),(0,n.jsx)(a.td,{children:"ID-ul armei/motivul pagubei."})]}),(0,n.jsxs)(a.tr,{children:[(0,n.jsx)(a.td,{children:"bodypart"}),(0,n.jsxs)(a.td,{children:[(0,n.jsx)(a.a,{href:"../resources/bodyparts",children:"partea corpului"})," care a fost lovit\u0103."]})]})]})]}),"\n",(0,n.jsx)(a.h2,{id:"return\u0103ri",children:"Return\u0103ri"}),"\n",(0,n.jsx)(a.p,{children:"1 - Callback-ul nu va fi apelat \xeen alte filterscript-uri."}),"\n",(0,n.jsx)(a.p,{children:"0 - Permite apelarea acestui apel invers \xeen alte filterscript-uri."}),"\n",(0,n.jsx)(a.p,{children:"Este \xeentotdeauna numit primul \xeen filterscript-uri, astfel \xeenc\xe2t returnarea 1 acolo blocheaz\u0103 alte filterscript-uri s\u0103-l vad\u0103."}),"\n",(0,n.jsx)(a.h2,{id:"exemple",children:"Exemple"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-c",children:'public OnPlayerTakeDamage(playerid, issuerid, Float:amount, WEAPON:weaponid, bodypart)\n{\n    if (issuerid != INVALID_PLAYER_ID) // Dac\u0103 nu se autoprovoca\n    {\n        new\n            infoString[128],\n            weaponName[24],\n            victimName[MAX_PLAYER_NAME],\n            attackerName[MAX_PLAYER_NAME];\n\n        GetPlayerName(playerid, victimName, sizeof (victimName));\n        GetPlayerName(issuerid, attackerName, sizeof (attackerName));\n\n        GetWeaponName(weaponid, weaponName, sizeof (weaponName));\n\n        format(infoString, sizeof(infoString), "%s a provocat %.0f daune lui %s, arm\u0103: %s, partea corpului: %d", attackerName, amount, victimName, weaponName, bodypart);\n        SendClientMessageToAll(-1, infoString);\n    }\n    return 1;\n}\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-c",children:"public OnPlayerTakeDamage(playerid, issuerid, Float:amount, WEAPON:weaponid, bodypart)\n{\n    if (issuerid != INVALID_PLAYER_ID && weaponid == 34 && bodypart == 9)\n    {\n       // O lovitur\u0103 \xeen cap pentru a ucide cu pu\u0219ca de lunetist\n        SetPlayerHealth(playerid, 0.0);\n    }\n    return 1;\n}\n"})}),"\n",(0,n.jsx)(a.h2,{id:"note",children:"Note"}),"\n",(0,n.jsx)(a.admonition,{type:"tip",children:(0,n.jsx)(a.p,{children:"Arm\u0103 va returna 37 (arunc\u0103tor de fl\u0103c\u0103ri) din orice surs\u0103 de foc (de exemplu, molotov, 18). Arm\u0103 va returna 51 de la orice arm\u0103 care creeaz\u0103 o explozie (de exemplu, RPG, grenad\u0103) playerid este singurul care poate apela \xeenapoi. Suma este \xeentotdeauna dauna maxim\u0103 pe care o poate face armele, chiar \u0219i atunci c\xe2nd s\u0103n\u0103tatea r\u0103mas\u0103 este mai mic\u0103 dec\xe2t dauna maxim\u0103. Deci, atunci c\xe2nd un juc\u0103tor are 100,0 de s\u0103n\u0103tate \u0219i este \xeempu\u0219cat cu un Vultur de\u0219ert care are o valoare a daunelor de 46,2, este nevoie de 3 lovituri pentru a ucide acel juc\u0103tor. Toate cele 3 lovituri vor ar\u0103ta o sum\u0103 de 46,2, chiar dac\u0103 atunci c\xe2nd love\u0219te ultima lovitur\u0103, juc\u0103torului mai are doar 7,6 de s\u0103n\u0103tate."})}),"\n",(0,n.jsx)(a.admonition,{type:"warning",children:(0,n.jsx)(a.p,{children:"GetPlayerHealth \u0219i GetPlayerArmour vor returna vechile sume ale juc\u0103torului \xeenainte de acest apel invers. Verifica\u021Bi \xeentotdeauna dac\u0103 issuerid este valid \xeenainte de a-l folosi ca index de matrice."})})]})}function u(e={}){let{wrapper:a}={...(0,i.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(o,{...e})}):o(e)}},50065:function(e,a,t){t.d(a,{Z:()=>c,a:()=>l});var r=t(67294);let n={},i=r.createContext(n);function l(e){let a=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),r.createElement(i.Provider,{value:a},e.children)}}}]);
"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["85434"],{21370:function(e,a,t){t.r(a),t.d(a,{frontMatter:()=>r,toc:()=>o,default:()=>h,metadata:()=>n,assets:()=>d,contentTitle:()=>s});var n=JSON.parse('{"id":"scripting/callbacks/OnPlayerGiveDamage","title":"OnPlayerGiveDamage","description":"This callback is called when a player gives damage to another player.","source":"@site/i18n/th/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerGiveDamage.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnPlayerGiveDamage","permalink":"/th/docs/scripting/callbacks/OnPlayerGiveDamage","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/scripting/callbacks/OnPlayerGiveDamage.md","tags":[{"inline":true,"label":"player","permalink":"/th/docs/tags/player"}],"version":"current","frontMatter":{"title":"OnPlayerGiveDamage","sidebar_label":"OnPlayerGiveDamage","description":"This callback is called when a player gives damage to another player.","tags":["player"]},"sidebar":"docsSidebar","previous":{"title":"OnPlayerFinishedDownloading","permalink":"/th/docs/scripting/callbacks/OnPlayerFinishedDownloading"},"next":{"title":"OnPlayerGiveDamageActor","permalink":"/th/docs/scripting/callbacks/OnPlayerGiveDamageActor"}}'),i=t(85893),l=t(50065);let r={title:"OnPlayerGiveDamage",sidebar_label:"OnPlayerGiveDamage",description:"This callback is called when a player gives damage to another player.",tags:["player"]},s=void 0,d={},o=[{value:"\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22",id:"\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22",level:2},{value:"\u0E2A\u0E48\u0E07\u0E04\u0E37\u0E19",id:"\u0E2A\u0E48\u0E07\u0E04\u0E37\u0E19",level:2},{value:"\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",id:"\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",level:2},{value:"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",id:"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",level:2}];function c(e){let a={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,l.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.admonition,{type:"warning",children:(0,i.jsx)(a.p,{children:"Callback \u0E19\u0E35\u0E49\u0E16\u0E39\u0E01\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E43\u0E19 SA-MP 0.3d \u0E41\u0E25\u0E30\u0E08\u0E30\u0E44\u0E21\u0E48\u0E17\u0E33\u0E07\u0E32\u0E19\u0E43\u0E19\u0E40\u0E27\u0E2D\u0E23\u0E4C\u0E0A\u0E31\u0E48\u0E19\u0E01\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E19\u0E35\u0E49!"})}),"\n",(0,i.jsx)(a.h2,{id:"\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22",children:"\u0E04\u0E33\u0E2D\u0E18\u0E34\u0E1A\u0E32\u0E22"}),"\n",(0,i.jsx)(a.p,{children:"This callback is called when a player gives damage to another player."}),"\n",(0,i.jsxs)(a.table,{children:[(0,i.jsx)(a.thead,{children:(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.th,{children:"Name"}),(0,i.jsx)(a.th,{children:"Description"})]})}),(0,i.jsxs)(a.tbody,{children:[(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"playerid"}),(0,i.jsx)(a.td,{children:"The ID of the player that gave damage."})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"damagedid"}),(0,i.jsx)(a.td,{children:"The ID of the player that received damage."})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsxs)(a.td,{children:["Float",":amount"]}),(0,i.jsx)(a.td,{children:"The amount of health/armour damagedid has lost (combined)."})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsxs)(a.td,{children:["WEAPON",":weaponid"]}),(0,i.jsx)(a.td,{children:"The reason that caused the damage."})]}),(0,i.jsxs)(a.tr,{children:[(0,i.jsx)(a.td,{children:"bodypart"}),(0,i.jsx)(a.td,{children:"The body part that was hit."})]})]})]}),"\n",(0,i.jsx)(a.h2,{id:"\u0E2A\u0E48\u0E07\u0E04\u0E37\u0E19",children:"\u0E2A\u0E48\u0E07\u0E04\u0E37\u0E19"}),"\n",(0,i.jsx)(a.p,{children:"1 - Callback will not be called in other filterscripts."}),"\n",(0,i.jsx)(a.p,{children:"0 - Allows this callback to be called in other filterscripts."}),"\n",(0,i.jsx)(a.p,{children:"It is always called first in filterscripts so returning 1 there blocks other filterscripts from seeing it."}),"\n",(0,i.jsx)(a.h2,{id:"\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",children:"\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:'public OnPlayerGiveDamage(playerid, damagedid, Float:amount, WEAPON:weaponid, bodypart)\n{\n    new string[128], victim[MAX_PLAYER_NAME], attacker[MAX_PLAYER_NAME];\n    new weaponname[24];\n    GetPlayerName(playerid, attacker, sizeof (attacker));\n    GetPlayerName(damagedid, victim, sizeof (victim));\n\n    GetWeaponName(weaponid, weaponname, sizeof (weaponname));\n    format(string, sizeof(string), "%s has made %.0f damage to %s, weapon: %s, bodypart: %d", attacker, amount, victim, weaponname, bodypart);\n    SendClientMessageToAll(0xFFFFFFFF, string);\n    return 1;\n}\n'})}),"\n",(0,i.jsx)(a.h2,{id:"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01",children:"\u0E1A\u0E31\u0E19\u0E17\u0E36\u0E01"}),"\n",(0,i.jsx)(a.admonition,{type:"tip",children:(0,i.jsx)(a.p,{children:"Keep in mind this function can be inaccurate in some cases. If you want to prevent certain players from damaging eachother, use SetPlayerTeam. The weaponid will return 37 (flame thrower) from any fire sources (e.g. molotov, 18) The weaponid will return 51 from any weapon that creates an explosion (e.g. RPG, grenade) playerid is the only one who can call the callback. The amount is always the maximum damage the weaponid can do, even when the health left is less than that maximum damage. So when a player has 100.0 health and gets shot with a Desert Eagle which has a damage value of 46.2, it takes 3 shots to kill that player. All 3 shots will show an amount of 46.2, even though when the last shot hits, the player only has 7.6 health left."})})]})}function h(e={}){let{wrapper:a}={...(0,l.a)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},50065:function(e,a,t){t.d(a,{Z:()=>s,a:()=>r});var n=t(67294);let i={},l=n.createContext(i);function r(e){let a=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(l.Provider,{value:a},e.children)}}}]);
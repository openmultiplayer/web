"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["1832"],{9066:function(e,a,n){n.r(a),n.d(a,{frontMatter:()=>o,toc:()=>l,default:()=>m,metadata:()=>s,assets:()=>d,contentTitle:()=>c});var s=JSON.parse('{"id":"scripting/language/reference/Data-and-declarations","title":"Dados e declara\xe7\xf5es","description":"---","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/scripting/language/reference/03-Data-and-declarations.md","sourceDirName":"scripting/language/reference","slug":"/scripting/language/reference/Data-and-declarations","permalink":"/pt-BR/docs/scripting/language/reference/Data-and-declarations","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/i18n/pt-BR/docusaurus-plugin-content-docs/current/scripting/language/reference/03-Data-and-declarations.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"A-tutorial-introduction","permalink":"/pt-BR/docs/scripting/language/reference/A-tutorial-introduction"},"next":{"title":"Functions","permalink":"/pt-BR/docs/scripting/language/reference/Functions"}}'),i=n(85893),r=n(50065);let o={},c="Dados e declara\xe7\xf5es",d={},l=[{value:"\u2022 Declara\xe7\xf5es de vari\xe1veis de estado",id:"-declara\xe7\xf5es-de-vari\xe1veis-de-estado",level:3},{value:"\u2022 Declara\xe7\xf5es locais est\xe1ticas",id:"-declara\xe7\xf5es-locais-est\xe1ticas",level:3},{value:"\u2022 Declara\xe7\xf5es globais est\xe1ticas",id:"-declara\xe7\xf5es-globais-est\xe1ticas",level:3},{value:"\u2022 Declara\xe7\xf5es <code>stock</code>",id:"-declara\xe7\xf5es-stock",level:3},{value:"\u2022 Declara\xe7\xf5es <code>public</code>",id:"-declara\xe7\xf5es-public",level:3},{value:"\u2022 Vari\xe1veis constantes",id:"-vari\xe1veis-constantes",level:3},{value:"\u2022 Arrays (uma dimens\xe3o)",id:"-arrays-uma-dimens\xe3o",level:3},{value:"\u2022 Inicializa\xe7\xe3o",id:"-inicializa\xe7\xe3o",level:3},{value:"\u2022 Inicializadores progressivos",id:"-inicializadores-progressivos",level:3},{value:"\u2022 Inicializa\xe7\xe3o via enum",id:"-inicializa\xe7\xe3o-via-enum",level:3},{value:"\u2022 Arrays multidimensionais",id:"-arrays-multidimensionais",level:3},{value:"\u2217 The current implementation of the Pawn compiler supports only arrays with up to two dimensions.",id:"-the-current-implementation-of-the-pawn-compiler-supports-only-arrays-with-up-to-two-dimensions",level:6},{value:"\u2022 Arrays e o operador <code>sizeof</code>",id:"-arrays-e-o-operador-sizeof",level:3},{value:"\u2022 Tags",id:"-tags",level:3}];function t(e){let a={a:"a",br:"br",code:"code",h1:"h1",h3:"h3",h6:"h6",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"dados-e-declara\xe7\xf5es",children:"Dados e declara\xe7\xf5es"})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.p,{children:"Pawn \xe9 uma linguagem sem tipos. Todo elemento de dado \xe9 um \u201Ccell\u201D, capaz de armazenar um n\xfamero inteiro. O tamanho dessa c\xe9lula (em bytes) depende do sistema \u2014geralmente s\xe3o 32 bits."}),"\n",(0,i.jsxs)(a.p,{children:["A palavra-chave ",(0,i.jsx)(a.code,{children:"new"})," declara uma nova vari\xe1vel. Em declara\xe7\xf5es especiais, ",(0,i.jsx)(a.code,{children:"new"})," pode ser substitu\xedda por ",(0,i.jsx)(a.code,{children:"static"}),", ",(0,i.jsx)(a.code,{children:"public"})," ou ",(0,i.jsx)(a.code,{children:"stock"})," (veja adiante). Uma vari\xe1vel simples ocupa uma c\xe9lula de mem\xf3ria; salvo inicializa\xe7\xe3o expl\xedcita, ela come\xe7a valendo zero."]}),"\n",(0,i.jsx)(a.p,{children:"Uma declara\xe7\xe3o de vari\xe1vel pode aparecer:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"em qualquer posi\xe7\xe3o onde uma instru\xe7\xe3o seria v\xe1lida \u2014vari\xe1veis locais;"}),"\n",(0,i.jsx)(a.li,{children:"onde uma declara\xe7\xe3o/implementa\xe7\xe3o de fun\xe7\xe3o seria v\xe1lida \u2014vari\xe1veis globais;"}),"\n",(0,i.jsxs)(a.li,{children:["na primeira express\xe3o de um la\xe7o ",(0,i.jsx)(a.code,{children:"for"})," \u2014tamb\xe9m locais."]}),"\n"]}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Local declarations"})}),"\n",(0,i.jsxs)(a.p,{children:["Uma declara\xe7\xe3o local aparece dentro de um bloco composto. A vari\xe1vel s\xf3 \xe9 acess\xedvel nesse bloco (e nos blocos aninhados). Declara\xe7\xf5es na primeira express\xe3o de um ",(0,i.jsx)(a.code,{children:"for"})," tamb\xe9m s\xe3o locais."]}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.strong,{children:"Global declarations"})}),"\n",(0,i.jsx)(a.p,{children:"Declara\xe7\xf5es globais aparecem fora das fun\xe7\xf5es e podem ser acessadas por todas elas. Objetos globais s\xf3 podem ser inicializados com express\xf5es constantes."}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"\u201Cfor\u201D loop: 113"})}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"Compound statement: 112"})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h3,{id:"-declara\xe7\xf5es-de-vari\xe1veis-de-estado",children:"\u2022 Declara\xe7\xf5es de vari\xe1veis de estado"}),"\n",(0,i.jsx)(a.p,{children:"Uma vari\xe1vel de estado \xe9 global, por\xe9m com um classificador de estado anexado ao final. O escopo e a vida \xfatil dessa vari\xe1vel ficam restritos aos estados listados no classificador."}),"\n",(0,i.jsxs)(a.p,{children:["Vari\xe1veis de estado n\xe3o podem ser inicializadas. Diferentemente das vari\xe1veis normais (que come\xe7am em zero), elas mant\xeam um valor indeterminado tanto ap\xf3s a declara\xe7\xe3o quanto ao entrar em um estado pela primeira vez. Normalmente usamos as fun\xe7\xf5es ",(0,i.jsx)(a.code,{children:"entry"})," para inicializ\xe1-las."]}),"\n",(0,i.jsx)(a.h3,{id:"-declara\xe7\xf5es-locais-est\xe1ticas",children:"\u2022 Declara\xe7\xf5es locais est\xe1ticas"}),"\n",(0,i.jsx)(a.p,{children:"Vari\xe1veis locais s\xe3o destru\xeddas quando a execu\xe7\xe3o sai do bloco onde foram criadas. A cada chamada da fun\xe7\xe3o, um novo conjunto de vari\xe1veis locais \xe9 instanciado e inicializado."}),"\n",(0,i.jsxs)(a.p,{children:["Ao declarar a vari\xe1vel local com ",(0,i.jsx)(a.code,{children:"static"})," (em vez de ",(0,i.jsx)(a.code,{children:"new"}),"), ela passa a sobreviver ao t\xe9rmino da fun\xe7\xe3o. Isso oferece um armazenamento privado e permanente acess\xedvel apenas por aquele bloco/fun\xe7\xe3o. Assim como globais, vari\xe1veis locais est\xe1ticas s\xf3 podem ser inicializadas com constantes."]}),"\n",(0,i.jsx)(a.h3,{id:"-declara\xe7\xf5es-globais-est\xe1ticas",children:"\u2022 Declara\xe7\xf5es globais est\xe1ticas"}),"\n",(0,i.jsxs)(a.p,{children:["Uma vari\xe1vel global ",(0,i.jsx)(a.code,{children:"static"})," se comporta como uma global comum, mas com escopo restrito ao arquivo onde foi declarada. Basta substituir ",(0,i.jsx)(a.code,{children:"new"})," por ",(0,i.jsx)(a.code,{children:"static"}),"."]}),"\n",(0,i.jsxs)(a.h3,{id:"-declara\xe7\xf5es-stock",children:["\u2022 Declara\xe7\xf5es ",(0,i.jsx)(a.code,{children:"stock"})]}),"\n",(0,i.jsxs)(a.p,{children:["Uma vari\xe1vel global pode ser marcada como ",(0,i.jsx)(a.code,{children:"stock"}),". Isso indica ao compilador que ela pode ser removida se n\xe3o for usada."]}),"\n",(0,i.jsxs)(a.p,{children:["Vari\xe1veis ",(0,i.jsx)(a.code,{children:"stock"})," s\xe3o \xfateis em conjunto com fun\xe7\xf5es ",(0,i.jsx)(a.code,{children:"stock"}),". Uma vari\xe1vel p\xfablica tamb\xe9m pode ser declarada ",(0,i.jsx)(a.code,{children:"stock"}),"; assim, arquivos ",(0,i.jsx)(a.code,{children:".inc"})," podem expor v\xe1rias vari\xe1veis esperadas pelo host e apenas as efetivamente usadas entram no P-code."]}),"\n",(0,i.jsxs)(a.h3,{id:"-declara\xe7\xf5es-public",children:["\u2022 Declara\xe7\xf5es ",(0,i.jsx)(a.code,{children:"public"})]}),"\n",(0,i.jsx)(a.p,{children:"Vari\xe1veis globais simples (sem arrays) podem ser p\xfablicas de duas formas:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["usando ",(0,i.jsx)(a.code,{children:"public"})," no lugar de ",(0,i.jsx)(a.code,{children:"new"}),";"]}),"\n",(0,i.jsxs)(a.li,{children:["iniciando o nome com ",(0,i.jsx)(a.code,{children:"@"}),"."]}),"\n"]}),"\n",(0,i.jsx)(a.p,{children:"Vari\xe1veis p\xfablicas se comportam como globais, por\xe9m o programa hospedeiro tamb\xe9m pode l\xea-las e alter\xe1-las. J\xe1 as globais normais s\xf3 existem dentro do script. Alguns hosts exigem vari\xe1veis p\xfablicas com nomes espec\xedficos (por exemplo, para erros recentes ou estado geral)."}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"Symbolic constants: 101"})}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"Stock functions: 84"})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h3,{id:"-vari\xe1veis-constantes",children:"\u2022 Vari\xe1veis constantes"}),"\n",(0,i.jsx)(a.p,{children:"\xc0s vezes \xe9 \xfatil criar uma vari\xe1vel inicializada apenas uma vez e que n\xe3o possa ser modificada. Ela se comporta como uma constante simb\xf3lica, mas continua sendo uma vari\xe1vel."}),"\n",(0,i.jsxs)(a.p,{children:["Para declar\xe1-la, insira ",(0,i.jsx)(a.code,{children:"const"})," entre a palavra-chave da declara\xe7\xe3o (",(0,i.jsx)(a.code,{children:"new"}),", ",(0,i.jsx)(a.code,{children:"static"}),", ",(0,i.jsx)(a.code,{children:"public"})," ou ",(0,i.jsx)(a.code,{children:"stock"}),") e o nome."]}),"\n",(0,i.jsx)(a.p,{children:"Exemplos:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:"\nnew const address[4] = { 192, 0, 168, 66 }\n\npublic const status           /* initialized to zero */\n\n"})}),"\n",(0,i.jsx)(a.p,{children:"Situa\xe7\xf5es t\xedpicas de uso:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"Criar constantes baseadas em arrays (constantes simb\xf3licas n\xe3o podem ser indexadas)."}),"\n",(0,i.jsx)(a.li,{children:"Declarar uma vari\xe1vel p\xfablica que deve ser definida apenas pela aplica\xe7\xe3o hospedeira."}),"\n",(0,i.jsxs)(a.li,{children:["Marcar argumentos de fun\xe7\xf5es do tipo array como ",(0,i.jsx)(a.code,{children:"const"}),". Como arrays sempre s\xe3o passados por refer\xeancia, isso previne modifica\xe7\xf5es acidentais (veja p\xe1gina 72)."]}),"\n"]}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"See also \u201Cmultidimensional arrays\u201D, page 66"})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h3,{id:"-arrays-uma-dimens\xe3o",children:"\u2022 Arrays (uma dimens\xe3o)"}),"\n",(0,i.jsxs)(a.p,{children:["A sintaxe ",(0,i.jsx)(a.code,{children:"nome[constante]"})," declara ",(0,i.jsx)(a.code,{children:"nome"})," como array com o n\xfamero indicado de elementos, cada qual ocupando uma c\xe9lula. ",(0,i.jsx)(a.code,{children:"constante"})," deve ser positiva; se omitida, o tamanho \xe9 deduzido a partir dos inicializadores."]}),"\n",(0,i.jsxs)(a.p,{children:["Arrays s\xe3o indexados a partir de zero: o primeiro elemento \xe9 ",(0,i.jsx)(a.code,{children:"nome[0]"})," e o \xfaltimo \xe9 ",(0,i.jsx)(a.code,{children:"nome[constante-1]"}),"."]}),"\n",(0,i.jsx)(a.h3,{id:"-inicializa\xe7\xe3o",children:"\u2022 Inicializa\xe7\xe3o"}),"\n",(0,i.jsx)(a.p,{children:"Objetos podem ser inicializados na declara\xe7\xe3o. Para globais e arrays (locais ou globais), os inicializadores devem ser constantes."}),"\n",(0,i.jsx)(a.p,{children:"Dados n\xe3o inicializados assumem zero."}),"\n",(0,i.jsx)(a.p,{children:"Listing: good declaration"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:'\nnew i = 1\nnew j                                   /* j is zero */\nnew k = \u2019a\u2019                             /* k has character code for letter \u2019a\u2019 */\n\nnew a[] = {1,4,9,16,25}                 /* a has 5 elements */\nnew s1[20] = {\u2019a\u2019,\u2019b\u2019}                  /* the other 18 elements are 0 */\n\nnew s2[] = "Hello world..."             /* a unpacked string */\n\n'})}),"\n",(0,i.jsx)(a.p,{children:"Exemplos inv\xe1lidos:"}),"\n",(0,i.jsx)(a.p,{children:"Listing: bad declarations"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:'\nnew c[3] = 4                            /* an array cannot be set to a value */\nnew i = "Good-bye"                      /* only an array can hold a string */\nnew q[]                                 /* unknown size of array */\nnew p[2] = { i + j, k - 3 }             /* array initiallers must be constants */\n\n'})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"Constants: 98"})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h3,{id:"-inicializadores-progressivos",children:"\u2022 Inicializadores progressivos"}),"\n",(0,i.jsxs)(a.p,{children:["O operador retic\xeancias (",(0,i.jsx)(a.code,{children:"..."}),") continua a progress\xe3o dos valores com base nos dois \xfaltimos inicializados. Ele preenche o array at\xe9 o tamanho declarado."]}),"\n",(0,i.jsx)(a.p,{children:"Exemplos:"}),"\n",(0,i.jsx)(a.p,{children:"Listing: array initializers"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:"\nnew a[10] = { 1, ... }                  /* sets all ten elements to 1 */\nnew b[10] = { 1, 2, ... }               /* sets: 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 */\nnew c[8] = { 1, 2, 40, 50, ... }        /* sets: 1, 2, 40, 50, 60, 70, 80, 90 */\nnew d[10] = { 10, 9, ... }              /* sets: 10, 9, 8, 7, 6, 5, 4, 3, 2, 1 */\n\n"})}),"\n",(0,i.jsx)(a.h3,{id:"-inicializa\xe7\xe3o-via-enum",children:"\u2022 Inicializa\xe7\xe3o via enum"}),"\n",(0,i.jsx)(a.p,{children:"O tamanho de um array pode ser definido com uma constante de enumera\xe7\xe3o (como no exemplo da fila com prioridades, p\xe1gina 21). Se algum campo da enum tiver tamanho pr\xf3prio, o elemento correspondente do array \xe9 tratado como subarray (veja o exemplo da calculadora RPN, p\xe1gina 30)."}),"\n",(0,i.jsxs)(a.p,{children:["A mesma l\xf3gica vale para a inicializa\xe7\xe3o. Reaproveitando a enum ",(0,i.jsx)(a.code,{children:"message"})," do exemplo mencionado:"]}),"\n",(0,i.jsx)(a.p,{children:"Listing: array initializers"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:'\nenum message /* declaration copied from "QUEUE.P" */\n    {\n        text[40 char],\n        priority\n    }\n\nnew msg[message] = { !"new message", 1 }\n\n'})}),"\n",(0,i.jsx)(a.p,{children:"The initialler consists of a string (a literal array) and a value; these go\ninto the fields \u201Ctext\u201D and \u201Cpriority\u201D respectively."}),"\n",(0,i.jsx)(a.h3,{id:"-arrays-multidimensionais",children:"\u2022 Arrays multidimensionais"}),"\n",(0,i.jsx)(a.p,{children:"Arrays multidimensionais armazenam refer\xeancias aos subarrays\u2217 \u2014um array bidimensional \xe9, na pr\xe1tica, um array de arrays. Exemplos:"}),"\n",(0,i.jsx)(a.p,{children:"Listing: Two-dimensional arrays"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:'\nnew a[4][3]\nnew b[3][2] = { { 1, 2 }, { 3, 4 }, { 5, 6 } }\nnew c[3][3] = { { 1 }, { 2, ...}, { 3, 4, ... } }\nnew d[2][5] = { !"agreement", !"dispute" }\nnew e[2][] = { "OK", "Cancel" }\nnew f[][] = { "OK", "Cancel" }\n\n'})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h6,{id:"-the-current-implementation-of-the-pawn-compiler-supports-only-arrays-with-up-to-two-dimensions",children:"\u2217 The current implementation of the Pawn compiler supports only arrays with up to two dimensions."}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsxs)(a.p,{children:["Nas \xfaltimas duas declara\xe7\xf5es (vari\xe1veis ",(0,i.jsx)(a.code,{children:"e"})," e ",(0,i.jsx)(a.code,{children:"f"}),"), a dimens\xe3o final n\xe3o tem tamanho definido, ent\xe3o cada subarray usa o comprimento deduzido dos inicializadores. Eles podem ter tamanhos diferentes; no exemplo, ",(0,i.jsx)(a.code,{children:"e[1][5]"})," cont\xe9m o caractere ",(0,i.jsx)(a.code,{children:"l"})," de \u201CCancel\u201D, mas ",(0,i.jsx)(a.code,{children:"e[0][5]"})," \xe9 inv\xe1lido porque ",(0,i.jsx)(a.code,{children:"e[0]"})," tem apenas tr\xeas c\xe9lulas (\u201CO\u201D, \u201CK\u201D e o terminador)."]}),"\n",(0,i.jsxs)(a.p,{children:["A diferen\xe7a entre ",(0,i.jsx)(a.code,{children:"e"})," e ",(0,i.jsx)(a.code,{children:"f"})," \xe9 que, em ",(0,i.jsx)(a.code,{children:"f"}),", deixamos o compilador contar os elementos da dimens\xe3o principal (",(0,i.jsx)(a.code,{children:"sizeof f"})," vale 2, assim como ",(0,i.jsx)(a.code,{children:"sizeof e"}),"; veja pr\xf3xima se\xe7\xe3o)."]}),"\n",(0,i.jsxs)(a.h3,{id:"-arrays-e-o-operador-sizeof",children:["\u2022 Arrays e o operador ",(0,i.jsx)(a.code,{children:"sizeof"})]}),"\n",(0,i.jsxs)(a.p,{children:["O operador ",(0,i.jsx)(a.code,{children:"sizeof"})," retorna o tamanho de uma vari\xe1vel em \u201Celementos\u201D. Para vari\xe1veis simples, o resultado \xe9 sempre 1 (uma c\xe9lula)."]}),"\n",(0,i.jsxs)(a.p,{children:["Em arrays de uma dimens\xe3o, ",(0,i.jsx)(a.code,{children:"sizeof"})," d\xe1 a quantidade total de c\xe9lulas. O trecho abaixo imprime ",(0,i.jsx)(a.code,{children:"5"}),", pois ",(0,i.jsx)(a.code,{children:"msg"})," armazena quatro caracteres e o terminador:"]}),"\n",(0,i.jsx)(a.p,{children:"Listing: sizeof operator"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:'\nnew msg[] = "Help"\nprintf("%d", sizeof msg);\n\n'})}),"\n",(0,i.jsx)(a.p,{children:"Para arrays multidimensionais, podemos obter o tamanho de cada dimens\xe3o. Na \xfaltima (menor), o elemento continua sendo uma c\xe9lula; nas demais, o elemento \xe9 o subarray."}),"\n",(0,i.jsxs)(a.p,{children:["No exemplo abaixo, ",(0,i.jsx)(a.code,{children:"sizeof matrix"})," retorna 3 (dimens\xe3o principal) e ",(0,i.jsx)(a.code,{children:"sizeof matrix[]"})," retorna 2 (menor):"]}),"\n",(0,i.jsx)(a.p,{children:"Listing: sizeof operator and multidimensional arrays"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:'\nnew matrix[3][2] = { { 1, 2 }, { 3, 4 }, { 5, 6 } }\nprintf("%d %d", sizeof matrix, sizeof matrix[]);\n\n'})}),"\n",(0,i.jsxs)(a.p,{children:["Usar ",(0,i.jsx)(a.code,{children:"sizeof"})," como valor padr\xe3o de par\xe2metros facilita lidar com arrays multidimensionais (veja p\xe1gina 77)."]}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"Default function arguments and sizeof: 77"})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.h3,{id:"-tags",children:"\u2022 Tags"}),"\n",(0,i.jsx)(a.p,{children:"Tags s\xe3o r\xf3tulos que indicam a finalidade/sem\xe2ntica de uma vari\xe1vel, constante ou valor retornado. S\xe3o opcionais e existem para fortalecer a checagem em tempo de compila\xe7\xe3o (operandos, par\xe2metros, \xedndices etc.)."}),"\n",(0,i.jsxs)(a.p,{children:["Sintaticamente, consistem em um nome seguido de ",(0,i.jsx)(a.code,{children:":"})," e precedem o identificador. Em atribui\xe7\xf5es, apenas o lado direito pode ser \u201Ctagueado\u201D."]}),"\n",(0,i.jsx)(a.p,{children:"Exemplos:"}),"\n",(0,i.jsx)(a.p,{children:"Listing: tag names"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:'\nnew bool:flag = true            /* "flag" can only hold "true" or "false" */\n\nconst error:success = 0\nconst error:fatal= 1\nconst error:nonfatal = 2\n\nerror:errno = fatal\n\n'})}),"\n",(0,i.jsxs)(a.p,{children:["The sequence of the constants success, fatal and nonfatal could more con-\nveniently be declared using an enum instruction, as illustrated below.",(0,i.jsx)(a.br,{}),"\n","The enumeration instruction below creates four constants, success, fatal, non-\nfatal and error, all with the tag error."]}),"\n",(0,i.jsx)(a.p,{children:"Listing: enumerations"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:"\nenum error {\n    success,\n    fatal,\n    nonfatal,\n}\n\n"})}),"\n",(0,i.jsx)(a.p,{children:"Um uso comum de enums tagueadas \xe9 com arrays em que cada posi\xe7\xe3o tem um prop\xf3sito distinto. Assim, declaramos o tamanho e ativamos a checagem de tags de uma s\xf3 vez:"}),"\n",(0,i.jsx)(a.p,{children:"Listing: enumerations and arrays"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-c",children:"\nenum rectangle\n{\n    left,\n    top,\n    right,\n    bottom\n}\n\nnew my_rect[rectangle] /* array is declared as having 4 cells */\n\nmy_rect[left] = 10\nmy_rect[top] = 5\nmy_rect[right] = 30\nmy_rect[bottom] = 12\n\nfor (new i = 0; rectangle:i < rectangle; ++i)\n    my_rect[rectangle:i] *= 2\n\n"})}),"\n",(0,i.jsxs)(a.p,{children:["Depois de declarar ",(0,i.jsx)(a.code,{children:"my_rect"}),", podemos acessar o segundo campo com ",(0,i.jsx)(a.code,{children:"my_rect[top]"}),". Se tentarmos ",(0,i.jsx)(a.code,{children:"my_rect[1]"}),", o parser emitir\xe1 aviso/erro. Para for\xe7ar uma tag, fazemos um \u201Ccast\u201D (override), como no ",(0,i.jsx)(a.code,{children:"for"})," acima: ",(0,i.jsx)(a.code,{children:"i"})," \xe9 um inteiro sem tag, ent\xe3o precisamos convert\xea-lo para ",(0,i.jsx)(a.code,{children:"rectangle"})," antes de us\xe1-lo como \xedndice. Note que a enum criou tanto as constantes quanto a tag ",(0,i.jsx)(a.code,{children:"rectangle"}),"."]}),"\n",(0,i.jsx)(a.p,{children:"Tag names introduced so far started with a lower case letter; these are \u201Cweak\u201D\ntags. Tag names that start with an upper case letter are \u201Cstrong\u201D tags. The\ndifference between weak and strong tags is that weak tags may, in a few circum-\nstances, be dropped implicitly by the pawn parser \u2014so that a weakly tagged\nexpression becomes an untagged expression. The tag checking mechanism verifies the following situations:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"When the expressions on both sides of a binary operator have a different tag, or when one of the expressions is tagged and the other is not, the compiler issues a \u201Ctag mismatch\u201D diagnostic. There is no difference between weak and strong tags in this situation."}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"There is a special case for the assignment operator: the compiler issues diagnostic if the variable on the left side of an assignment operator has a tag, and the expression on the right side either has a different tag or is untagged. However, if the variable on the left of the assignment operator is untagged, it accepts an expression (on the right side) with a weak tag. In other words, a weak tag is dropped in an assignment when the lvalue is untagged."}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"Passing arguments to functions follows the rule for assignments. The compiler issues a diagnostic when the formal parameter (in a function definition) has a tag and the actual parameter (in the function call) either is untagged or has a different tag. However, if the formal parameter is untagged, it also accepts a parameter with any weak tag."}),"\n"]}),"\n",(0,i.jsxs)(a.li,{children:["\n",(0,i.jsx)(a.p,{children:"An array may specify a tag for every dimension, see the \u201Cmy_rect\u201D example above. Tag checking array indices follows the rule of binary operator tag checking: there is no difference between weak and strong tags."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"Label syntax: 112"})}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"\u201Cenum\u201D statement: 101"})}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.code,{children:"\u201Clvalue\u201D: the variable on the left side in an assignment, see page 104"})}),"\n",(0,i.jsx)(a.hr,{}),"\n",(0,i.jsx)(a.p,{children:(0,i.jsx)(a.a,{href:"00-Contents",children:"Go Back to Contents"})})]})}function m(e={}){let{wrapper:a}={...(0,r.a)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},50065:function(e,a,n){n.d(a,{Z:()=>c,a:()=>o});var s=n(67294);let i={},r=s.createContext(i);function o(e){let a=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:a},e.children)}}}]);
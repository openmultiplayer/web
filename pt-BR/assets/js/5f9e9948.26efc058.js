"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["71018"],{7189:function(e,a,r){r.r(a),r.d(a,{frontMatter:()=>t,toc:()=>l,default:()=>p,metadata:()=>o,assets:()=>d,contentTitle:()=>i});var o=JSON.parse('{"id":"scripting/resources/doorstates","title":"Estados de Porta","description":"Informa\xe7\xf5es sobre o tamanho de byte e seus bits de estado de porta correspondentes.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/scripting/resources/doorstates.md","sourceDirName":"scripting/resources","slug":"/scripting/resources/doorstates","permalink":"/pt-BR/docs/scripting/resources/doorstates","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/i18n/pt-BR/docusaurus-plugin-content-docs/current/scripting/resources/doorstates.md","tags":[],"version":"current","frontMatter":{"title":"Estados de Porta","sidebar_label":"Estados de Porta","description":"Informa\xe7\xf5es sobre o tamanho de byte e seus bits de estado de porta correspondentes."},"sidebar":"docsSidebar","previous":{"title":"Dialog Styles","permalink":"/pt-BR/docs/scripting/resources/dialogstyles"},"next":{"title":"Tipos de Solicita\xe7\xe3o de Download","permalink":"/pt-BR/docs/scripting/resources/download-requests"}}'),n=r(85893),s=r(50065);let t={title:"Estados de Porta",sidebar_label:"Estados de Porta",description:"Informa\xe7\xf5es sobre o tamanho de byte e seus bits de estado de porta correspondentes."},i=void 0,d={},l=[{value:"Qual bit armazena o qu\xea?",id:"qual-bit-armazena-o-qu\xea",level:2},{value:"Qual byte armazena o qu\xea?",id:"qual-byte-armazena-o-qu\xea",level:2},{value:"Exemplo",id:"exemplo",level:2},{value:"Tabela de informa\xe7\xf5es",id:"tabela-de-informa\xe7\xf5es",level:2},{value:"Wrapper",id:"wrapper",level:2},{value:"Exemplo de uso",id:"exemplo-de-uso",level:2},{value:"Veja tamb\xe9m",id:"veja-tamb\xe9m",level:2}];function c(e){let a={a:"a",admonition:"admonition",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsxs)(a.p,{children:["Os estados de porta s\xe3o usados por fun\xe7\xf5es nativas como ",(0,n.jsx)(a.a,{href:"../functions/GetVehicleDamageStatus",children:"GetVehicleDamageStatus"})," e ",(0,n.jsx)(a.a,{href:"../functions/UpdateVehicleDamageStatus",children:"UpdateVehicleDamageStatus"}),"."]})}),"\n",(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsxs)(a.p,{children:["Os estados das 2 portas traseiras n\xe3o podem ser manipulados por ",(0,n.jsx)(a.a,{href:"../functions/GetVehicleDamageStatus",children:"GetVehicleDamageStatus"})," e ",(0,n.jsx)(a.a,{href:"../functions/UpdateVehicleDamageStatus",children:"UpdateVehicleDamageStatus"}),"."]})}),"\n",(0,n.jsx)(a.h2,{id:"qual-bit-armazena-o-qu\xea",children:"Qual bit armazena o qu\xea?"}),"\n",(0,n.jsx)(a.p,{children:"O dano de cada porta (note que o cap\xf4 e o porta-malas tamb\xe9m s\xe3o portas) ser\xe1 salvo em 1 byte (que \xe9 8 bits). Voc\xea s\xf3 pode alterar o estado de um bit para cada porta por vez, ent\xe3o voc\xea tem que chamar a fun\xe7\xe3o duas vezes se quiser que a porta esteja danificada e aberta ao mesmo tempo."}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["O ",(0,n.jsx)(a.strong,{children:"primeiro bit"})," armazena se a porta est\xe1 ",(0,n.jsx)(a.strong,{children:"aberta (valor 1)"})," ou ",(0,n.jsx)(a.strong,{children:"n\xe3o (valor 0)"}),". A porta ainda ir\xe1 travar (e mudar o primeiro bit para 0) se estiver aberta, ela est\xe1 apenas aberta."]}),"\n",(0,n.jsxs)(a.li,{children:["O ",(0,n.jsx)(a.strong,{children:"segundo bit"})," armazena se a porta est\xe1 ",(0,n.jsx)(a.strong,{children:"danificada (valor 1)"})," ou ",(0,n.jsx)(a.strong,{children:"n\xe3o (valor 0)"}),". Se voc\xea quiser que uma porta danificada volte ao normal, voc\xea tem que remov\xea-la e recoloc\xe1-la sem danos."]}),"\n",(0,n.jsxs)(a.li,{children:["O ",(0,n.jsx)(a.strong,{children:"terceiro bit"})," armazena se a porta est\xe1 ",(0,n.jsx)(a.strong,{children:"removida (valor 1)"})," ou ",(0,n.jsx)(a.strong,{children:"n\xe3o (valor 0)"}),"."]}),"\n",(0,n.jsx)(a.li,{children:"O resto dos bits est\xe3o vazios."}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Parece que n\xe3o h\xe1 nenhum bit que armazene se a porta ir\xe1 travar ou n\xe3o."}),"\n",(0,n.jsx)(a.p,{children:"Note que os bits s\xe3o contados de tr\xe1s para frente, ent\xe3o o primeiro bit \xe9 o bit mais \xe0 direita."}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h2,{id:"qual-byte-armazena-o-qu\xea",children:"Qual byte armazena o qu\xea?"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["O ",(0,n.jsx)(a.strong,{children:"primeiro byte"})," armazena o estado do ",(0,n.jsx)(a.strong,{children:"cap\xf4"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:["O ",(0,n.jsx)(a.strong,{children:"segundo byte"})," armazena o estado do ",(0,n.jsx)(a.strong,{children:"porta-malas"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:["O ",(0,n.jsx)(a.strong,{children:"terceiro byte"})," armazena o estado da ",(0,n.jsx)(a.strong,{children:"porta do motorista"}),"."]}),"\n",(0,n.jsxs)(a.li,{children:["O ",(0,n.jsx)(a.strong,{children:"quarto byte"})," armazena o estado da ",(0,n.jsx)(a.strong,{children:"porta do passageiro"}),"."]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Note que os bytes s\xe3o contados de tr\xe1s para frente, ent\xe3o o primeiro byte \xe9 o byte mais \xe0 direita."}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h2,{id:"exemplo",children:"Exemplo"}),"\n",(0,n.jsx)(a.p,{children:"O c\xf3digo a seguir indica que o cap\xf4 est\xe1 removido, a porta dianteira esquerda est\xe1 danificada, a porta dianteira direita est\xe1 aberta e o porta-malas est\xe1 danificado e aberto:"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"00000001 00000010 00000011 00000100"})}),"\n",(0,n.jsx)(a.p,{children:"No entanto, SA-MP retorna um n\xfamero decimal, ent\xe3o voc\xea tem que convert\xea-lo primeiro para um n\xfamero bin\xe1rio para obter um resultado como acima. O que SA-MP retornaria dado o exemplo acima \xe9 isto:"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"16909060"})}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h2,{id:"tabela-de-informa\xe7\xf5es",children:"Tabela de informa\xe7\xf5es"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Legenda:"})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"Est\xe1tico      Portas                   Cap\xf4 / Porta-malas\n\n\xb0 - Luz        | - saud\xe1vel, fechada     -- - saud\xe1vel, fechado\n              -- - saud\xe1vel, aberta     [] - saud\xe1vel, aberto\n               \xa7 - danificada, fechada  ~~ - danificado, fechado\n              ww - danificada, aberta   {} - danificado, aberto\n                 - removida                - removido\n"})}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Primeiro byte (cap\xf4):"})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"0 (000)   1 (001)   2 (010)   3 (011)   4 (100)   5 (101)   6 (110)   7 (111)\n  \xb0--\xb0      \xb0[]\xb0      \xb0~~\xb0      \xb0{}\xb0      \xb0  \xb0      \xb0  \xb0      \xb0  \xb0      \xb0  \xb0\n  |  |      |  |      |  |      |  |      |  |      |  |      |  |      |  |\n  \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0\n"})}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Segundo byte (porta-malas):"})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"0 (000)   1 (001)   2 (010)   3 (011)   4 (100)   5 (101)   6 (110)   7 (111)\n  \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0\n  |  |      |  |      |  |      |  |      |  |      |  |      |  |      |  |\n  \xb0--\xb0      \xb0[]\xb0      \xb0--\xb0      \xb0{}\xb0      \xb0  \xb0      \xb0  \xb0      \xb0  \xb0      \xb0  \xb0\n"})}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Terceiro byte (porta do motorista):"})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"0 (000)   1 (001)   2 (010)   3 (011)   4 (100)   5 (101)   6 (110)   7 (111)\n  \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0\n  |  |     --  |      \xa7  |     ww  |         |         |         |         |\n  \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0\n"})}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.strong,{children:"Quarto byte (porta do passageiro):"})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{children:"0 (000)   1 (001)   2 (010)   3 (011)   4 (100)   5 (101)   6 (110)   7 (111)\n  \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0\n  |  |      |  --     |  \xa7      |  ww     |         |         |         |\n  \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0      \xb0--\xb0\n"})}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h2,{id:"wrapper",children:"Wrapper"}),"\n",(0,n.jsx)(a.p,{children:"Trecho \xfatil para evitar trabalhar demais com os bits e bytes."}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-c",children:"enum Door\n{\n    DOOR_HOOD,\n    DOOR_TRUNK,\n    DOOR_DRIVER,\n    DOOR_PASSENGER\n}\n\nenum DoorState(<<= 1)\n{\n    IS_OPENED = 1,\n    IS_DAMAGED,\n    IS_REMOVED\n}\n\nstock GetDoorState(doorStates, Door:door, DoorState:doorState)\n{\n    return (doorStates >>> (8 * door)) & doorState;\n}\n"})}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h2,{id:"exemplo-de-uso",children:"Exemplo de uso"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-c",children:'new\n	VEHICLE_PANEL_STATUS:panels,\n	VEHICLE_DOOR_STATUS:doors,\n	VEHICLE_LIGHT_STATUS:lights,\n	VEHICLE_TIRE_STATUS:tires;\n\nGetVehicleDamageStatus(vehicleid, panels, doors, lights, tires);\n\n// Estado \xfanico\nif (GetDoorState(_:doors, DOOR_DRIVER, IS_DAMAGED))\n{\n    SendClientMessage(playerid, -1, "A porta do motorista do seu ve\xedculo est\xe1 danificada!");\n}\n\n// Estado combinado\nif (GetDoorState(_:doors, DOOR_HOOD, IS_OPENED | IS_DAMAGED))\n{\n    SendClientMessage(playerid, -1, "O cap\xf4 do seu ve\xedculo est\xe1 aberto e danificado!");\n}\n'})}),"\n",(0,n.jsx)(a.h2,{id:"veja-tamb\xe9m",children:"Veja tamb\xe9m"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"vehicle-door-status",children:"Vehicle Door Status"})}),"\n"]})]})}function p(e={}){let{wrapper:a}={...(0,s.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},50065:function(e,a,r){r.d(a,{Z:()=>i,a:()=>t});var o=r(67294);let n={},s=o.createContext(n);function t(e){let a=o.useContext(s);return o.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),o.createElement(s.Provider,{value:a},e.children)}}}]);
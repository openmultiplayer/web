"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["79310"],{21662:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>t,toc:()=>c,default:()=>m,metadata:()=>s,assets:()=>d,contentTitle:()=>i});var s=JSON.parse('{"id":"scripting/language/reference/A-tutorial-introduction","title":"Introdu\xe7\xe3o guiada","description":"---","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/scripting/language/reference/02-A-tutorial-introduction.md","sourceDirName":"scripting/language/reference","slug":"/scripting/language/reference/A-tutorial-introduction","permalink":"/pt-BR/docs/scripting/language/reference/A-tutorial-introduction","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/i18n/pt-BR/docusaurus-plugin-content-docs/current/scripting/language/reference/02-A-tutorial-introduction.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Foreword","permalink":"/pt-BR/docs/scripting/language/reference/Foreword"},"next":{"title":"Data-and-declarations","permalink":"/pt-BR/docs/scripting/language/reference/Data-and-declarations"}}'),o=a(85893),r=a(50065);let t={},i="Introdu\xe7\xe3o guiada",d={},c=[{value:"\u2217 This should not be confused with the \u201Cstate\u201D entry functions, which are called entry, but serve a different purpose \u2014 see page 42.",id:"-this-should-not-be-confused-with-the-state-entry-functions-which-are-called-entry-but-serve-a-different-purpose--see-page-42",level:6},{value:"\u2217 In the language specification, the term \u201Cparser\u201D refers to any implementation that processes and runs on conforming Pawn programs \u2014either interpreters or compilers.",id:"-in-the-language-specification-the-term-parser-refers-to-any-implementation-that-processes-and-runs-on-conforming-pawn-programs-either-interpreters-or-compilers",level:6},{value:"\u2022 Arithmetic",id:"-arithmetic",level:3},{value:"\u2022 Arrays e constantes",id:"-arrays-e-constantes",level:3},{value:"\u2022 Fun\xe7\xf5es",id:"-fun\xe7\xf5es",level:3},{value:"\u2022 Call-by-reference &amp; call-by-value",id:"-call-by-reference--call-by-value",level:3},{value:"\u2217 The exact value for the Golden Ratio is 1/2(\u221A5 + 1). The relation between Fibonacci numbers and the Golden Ratio also allows for a \u201Cdirect\u201D calculation of any sequence number, instead of the iterative method described here.",id:"-the-exact-value-for-the-golden-ratio-is-125--1-the-relation-between-fibonacci-numbers-and-the-golden-ratio-also-allows-for-a-direct-calculation-of-any-sequence-number-instead-of-the-iterative-method-described-here",level:6},{value:"\u2217 There is some debate on exactly what Josephus Scaliger invented and who or what he called it after.",id:"-there-is-some-debate-on-exactly-what-josephus-scaliger-invented-and-who-or-what-he-called-it-after",level:6},{value:"\u2217 The Gregorian calendar was decreed to start on 15 October 1582 by pope Gregory XIII, which means that earlier dates do not really exist in the Gregorian calendar. When extending the Gregorian calendar to days before 15 October 1582, we refer to it as the proleptic Gregorian calendar.",id:"-the-gregorian-calendar-was-decreed-to-start-on-15-october-1582-by-pope-gregory-xiii-which-means-that-earlier-dates-do-not-really-exist-in-the-gregorian-calendar-when-extending-the-gregorian-calendar-to-days-before-15-october-1582-we-refer-to-it-as-the-proleptic-gregorian-calendar",level:6},{value:"\u2022 N\xfameros racionais",id:"-n\xfameros-racionais",level:3},{value:"\u2217 Actually, this is already true of all native functions, including all native functions that the examples in this manual use.",id:"-actually-this-is-already-true-of-all-native-functions-including-all-native-functions-that-the-examples-in-this-manual-use",level:6},{value:"\u2022 Strings",id:"-strings",level:3},{value:"\u2022 Arrays e enumera\xe7\xf5es (dados estruturados)",id:"-arrays-e-enumera\xe7\xf5es-dados-estruturados",level:3},{value:"\u2022 Bit operations to manipulate \u2018\u2018sets\u2019\u2019",id:"-bit-operations-to-manipulate-sets",level:3},{value:"\u2022 A simple RPN calculator",id:"-a-simple-rpn-calculator",level:3},{value:"\u2217 These rules are often summarized in a mnemonic like \u201CPlease Excuse My Dear Aunt Sally\u201D (Parentheses, Exponentiation, Multiplication, Division, Addition, Subtraction)",id:"-these-rules-are-often-summarized-in-a-mnemonic-like-please-excuse-my-dear-aunt-sally-parentheses-exponentiation-multiplication-division-addition-subtraction",level:6},{value:"* Polish Notation is completely unrelated to \u201CHungarian Notation\u201D \u2014which is just the habit of adding \u201Ctype\u201D or \u201Cpurpose\u201D identification warts to names of variables or functions",id:"-polish-notation-is-completely-unrelated-to-hungarian-notation-which-is-just-the-habit-of-adding-type-or-purpose-identification-warts-to-names-of-variables-or-functions",level:6},{value:"\u2022 Event-driven programming",id:"-event-driven-programming",level:3},{value:"\u2022 M\xfaltiplos eventos",id:"-m\xfaltiplos-eventos",level:3},{value:"\u2022 Programa\xe7\xe3o com estados",id:"-programa\xe7\xe3o-com-estados",level:3},{value:"\u2217 As this script makes no attempt to separate received messages from typed messages (for example, in two different scrollable regions), the terminal/console will look confusing when this happens. With an improved user-interface, this simple script could indeed be a nice message-base chat program",id:"-as-this-script-makes-no-attempt-to-separate-received-messages-from-typed-messages-for-example-in-two-different-scrollable-regions-the-terminalconsole-will-look-confusing-when-this-happens-with-an-improved-user-interface-this-simple-script-could-indeed-be-a-nice-message-base-chat-program",level:6},{value:"\u2217 With the exception of \u201Cnative functions\u201D and user-defined operators.",id:"-with-the-exception-of-native-functions-and-user-defined-operators",level:6},{value:"\u2022 Fun\xe7\xf5es <code>entry</code> e teoria de aut\xf4matos",id:"-fun\xe7\xf5es-entry-e-teoria-de-aut\xf4matos",level:3},{value:"* A function that has the same implementation for all states, does not need a state classifierat all \u2014see printchar.",id:"-a-function-that-has-the-same-implementation-for-all-states-does-not-need-a-state-classifierat-all-see-printchar",level:6},{value:"Figure 1: Pedestrian crossing lights",id:"figure-1-pedestrian-crossing-lights",level:6},{value:"\u2022 Verifica\xe7\xe3o de programas",id:"-verifica\xe7\xe3o-de-programas",level:3},{value:"\u2022 Coment\xe1rios de documenta\xe7\xe3o",id:"-coment\xe1rios-de-documenta\xe7\xe3o",level:3},{value:"Figure 2: Documentation generated from the source code",id:"figure-2-documentation-generated-from-the-source-code",level:6},{value:"\u2022 Avisos e erros",id:"-avisos-e-erros",level:3},{value:"\u2022 Concluindo",id:"-concluindo",level:3},{value:"\u2217 Hoje existem outras publica\xe7\xf5es sobre Pawn.",id:"-hoje-existem-outras-publica\xe7\xf5es-sobre-pawn",level:6}];function l(e){let n={a:"a",br:"br",code:"code",em:"em",h1:"h1",h3:"h3",h6:"h6",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"introdu\xe7\xe3o-guiada",children:"Introdu\xe7\xe3o guiada"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Pawn \xe9 uma linguagem de programa\xe7\xe3o simples cuja sintaxe lembra a da linguagem C. Um programa pawn \xe9 formado por um conjunto de fun\xe7\xf5es e um conjunto de vari\xe1veis. As vari\xe1veis representam objetos de dados e as fun\xe7\xf5es agrupam instru\xe7\xf5es (chamadas de ",(0,o.jsx)(n.em,{children:"statements"}),") que operam sobre esses dados ou executam tarefas espec\xedficas."]}),"\n",(0,o.jsx)(n.p,{children:"O primeiro programa demonstrado em praticamente qualquer linguagem costuma imprimir uma mensagem simples; o cl\xe1ssico \xe9 \u201CHello world\u201D. Em pawn o programa fica assim:"}),"\n",(0,o.jsx)(n.p,{children:"Listagem: hello.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\nmain()\n    printf  "Hello  world\\n"\n\n'})}),"\n",(0,o.jsx)(n.p,{children:"Este manual parte do princ\xedpio de que voc\xea j\xe1 sabe executar um programa pawn; caso contr\xe1rio, consulte o manual da aplica\xe7\xe3o (h\xe1 mais dicas na p\xe1gina 168)."}),"\n",(0,o.jsxs)(n.p,{children:["A execu\xe7\xe3o de um programa pawn come\xe7a em uma fun\xe7\xe3o de \u201Centrada\u201D\u2217 \u2014neste manual, quase todos os exemplos usam a fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"main"})," para esse papel. No exemplo acima, ",(0,o.jsx)(n.code,{children:"main"})," cont\xe9m apenas uma instru\xe7\xe3o, logo abaixo do cabe\xe7alho da fun\xe7\xe3o. Quebras de linha e indenta\xe7\xe3o n\xe3o s\xe3o significativas; poder\xedamos invocar ",(0,o.jsx)(n.code,{children:"printf"})," na mesma linha do cabe\xe7alho de ",(0,o.jsx)(n.code,{children:"main"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["A defini\xe7\xe3o de uma fun\xe7\xe3o exige que o nome seja seguido por um par de par\xeanteses. Se a fun\xe7\xe3o receber par\xe2metros, eles s\xe3o declarados entre os par\xeanteses. ",(0,o.jsx)(n.code,{children:"main"})," n\xe3o recebe nenhum par\xe2metro. J\xe1 as regras mudam quando chamamos uma fun\xe7\xe3o: os par\xeanteses s\xe3o opcionais na chamada de ",(0,o.jsx)(n.code,{children:"printf"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["O \xfanico argumento passado a ",(0,o.jsx)(n.code,{children:"printf"})," \xe9 uma string, delimitada por aspas duplas. Os caracteres ",(0,o.jsx)(n.code,{children:"\\n"})," perto do final formam uma sequ\xeancia de escape \u2014nesse caso, representam a quebra de linha. Ao encontrar a sequ\xeancia ",(0,o.jsx)(n.code,{children:"\\n"}),", ",(0,o.jsx)(n.code,{children:"printf"})," move o cursor para a primeira coluna da pr\xf3xima linha.\nthe next line. One has to use the \\n escape sequence to insert a \u201Cnewline\u201D into\nthe string, because a string may not wrap over multiple lines."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h6,{id:"-this-should-not-be-confused-with-the-state-entry-functions-which-are-called-entry-but-serve-a-different-purpose--see-page-42",children:"\u2217 This should not be confused with the \u201Cstate\u201D entry functions, which are called entry, but serve a different purpose \u2014 see page 42."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Compiling and running scripts: see page 168"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"String literals: 99 Escape sequence: 99"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["pawn is a \u201Ccase sensitive\u201D language: upper and lower case letters are considered\nto be different letters. It would be an error to spell the function printf in the\nacima como \u201CPrintF\u201D. Palavras-chave e s\xedmbolos pr\xe9-definidos, como o nome\nda fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"main"}),", devem ser escritos em min\xfasculas."]}),"\n",(0,o.jsx)(n.p,{children:"Se voc\xea conhece C, talvez ache que o exemplo anterior n\xe3o se parece muito\ncom o tradicional \u201CHello world\u201D de C/C++. No entanto, pawn tamb\xe9m pode\nlembrar bastante C. O pr\xf3ximo exemplo \xe9 sintaxe v\xe1lida em pawn (e tem a\nmesma l\xf3gica do anterior):"}),"\n",(0,o.jsx)(n.p,{children:"Listing: hello.p \u2014 C style"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n#include  <console>\n\nmain()\n{\n    printf("Hello  world\\n");\n}\n\n'})}),"\n",(0,o.jsx)(n.p,{children:"Esses primeiros exemplos j\xe1 revelam algumas diferen\xe7as entre pawn e C:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"normalmente n\xe3o \xe9 necess\xe1rio incluir arquivos de cabe\xe7alho fornecidos pelo sistema;"}),"\n",(0,o.jsx)(n.li,{children:"pontos e v\xedrgulas s\xe3o opcionais (exceto ao escrever v\xe1rias instru\xe7\xf5es na mesma linha);"}),"\n",(0,o.jsx)(n.li,{children:"quando o corpo de uma fun\xe7\xe3o tem apenas uma instru\xe7\xe3o, as chaves (que transformam em instru\xe7\xe3o composta) tamb\xe9m s\xe3o opcionais;"}),"\n",(0,o.jsx)(n.li,{children:"se voc\xea n\xe3o usa o resultado de uma fun\xe7\xe3o em uma express\xe3o ou atribui\xe7\xe3o, os par\xeanteses ao redor dos argumentos s\xe3o opcionais."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Esses itens referem-se a sintaxes opcionais \u2014use o estilo que preferir; nenhum deles \xe9 \u201Cdesaconselhado\u201D ou \u201Cnocivo\u201D. Os exemplos deste manual posicionam as chaves e usam uma indenta\xe7\xe3o conhecida como \u201Cestilo Whitesmith\u201D, mas pawn \xe9 uma linguagem de formato livre e qualquer estilo de recuo funciona."}),"\n",(0,o.jsxs)(n.p,{children:["Como pawn foi projetado como linguagem de extens\xe3o de aplica\xe7\xf5es, o conjunto de fun\xe7\xf5es dispon\xedvel em um programa depende da aplica\xe7\xe3o hospedeira. Consequentemente, a linguagem n\xe3o conhece nenhuma fun\xe7\xe3o intrinsecamente. A fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"print"}),", usada nos primeiros exemplos, precisa ser fornecida pelo aplicativo host e \u201Cdeclarada\u201D ao analisador de pawn."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h6,{id:"-in-the-language-specification-the-term-parser-refers-to-any-implementation-that-processes-and-runs-on-conforming-pawn-programs-either-interpreters-or-compilers",children:"\u2217 In the language specification, the term \u201Cparser\u201D refers to any implementation that processes and runs on conforming Pawn programs \u2014either interpreters or compilers."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"More function descriptions at page 124"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Pressup\xf5e-se, por\xe9m, que toda aplica\xe7\xe3o hospedeira disponibilize um conjunto m\xednimo de fun\xe7\xf5es comuns, como ",(0,o.jsx)(n.code,{children:"print"})," e ",(0,o.jsx)(n.code,{children:"printf"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Em alguns ambientes \xe9 necess\xe1rio \u201Chabilitar\u201D o display ou terminal antes de enviar texto. Se for o caso, chame a fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"console"})," antes da primeira chamada a ",(0,o.jsx)(n.code,{children:"print"})," ou ",(0,o.jsx)(n.code,{children:"printf"}),". A fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"console"})," tamb\xe9m permite configurar caracter\xedsticas do dispositivo, como quantidade de linhas e colunas. Os programas deste manual n\xe3o a utilizam porque muitas plataformas n\xe3o exigem nem oferecem esse recurso."]}),"\n",(0,o.jsx)(n.h3,{id:"-arithmetic",children:"\u2022 Arithmetic"}),"\n",(0,o.jsx)(n.p,{children:"Os elementos fundamentais de grande parte dos programas s\xe3o c\xe1lculos, decis\xf5es (execu\xe7\xf5es condicionais), itera\xe7\xf5es (loops) e vari\xe1veis para armazenar dados de entrada, sa\xedda e resultados intermedi\xe1rios. O pr\xf3ximo exemplo ilustra v\xe1rios desses conceitos: ele calcula o m\xe1ximo divisor comum de dois valores usando o algoritmo de Euclides."}),"\n",(0,o.jsx)(n.p,{children:"Listing: gcd.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  the  greatest  common  divisor  of  two  values,  using  Euclides\u2019\nalgorithm  */\n\nmain()\n{\n    print  "Input  two  values\\n"\n    new  a  =  getvalue()\n    new  b  =  getvalue()\n    while  (a  !=  b)\n    if  (a  >  b)\n        a  =  a  -  b\n    else\n        b  =  b  -  a\n    printf  "The  greatest  common  divisor  is  %d\\n",  a\n}\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Agora ",(0,o.jsx)(n.code,{children:"main"})," cont\xe9m mais do que uma \xfanica instru\xe7\xe3o ",(0,o.jsx)(n.code,{children:"print"}),". Quando o corpo de uma fun\xe7\xe3o possui v\xe1rias instru\xe7\xf5es, elas devem ficar dentro de chaves (",(0,o.jsx)(n.code,{children:"{"})," e ",(0,o.jsx)(n.code,{children:"}"}),"), formando uma instru\xe7\xe3o composta. O mesmo vale para os blocos de ",(0,o.jsx)(n.code,{children:"if/else"})," e para os corpos de loops."]}),"\n",(0,o.jsxs)(n.p,{children:["A palavra-chave ",(0,o.jsx)(n.code,{children:"new"})," cria uma vari\xe1vel; seu nome vem logo em seguida. \xc9 comum (mas n\xe3o obrigat\xf3rio) atribuir um valor inicial ao declarar a vari\xe1vel."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Compound statement: 112"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Data declarations are covered in detail starting at page 62"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Vari\xe1veis devem ser declaradas antes de serem usadas em qualquer express\xe3o. A fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"getvalue"})," (tamb\xe9m comum entre as fun\xe7\xf5es pr\xe9-definidas) l\xea um valor do teclado e o retorna. Lembre-se de que pawn \xe9 uma linguagem sem tipos: toda vari\xe1vel \xe9 uma c\xe9lula num\xe9rica capaz de armazenar um inteiro com sinal."]}),"\n",(0,o.jsxs)(n.p,{children:["O nome ",(0,o.jsx)(n.code,{children:"getvalue"})," \xe9 seguido por par\xeanteses porque o valor retornado \xe9 armazenado em uma vari\xe1vel. Normalmente os argumentos da fun\xe7\xe3o apareceriam entre os par\xeanteses, mas ",(0,o.jsx)(n.code,{children:"getvalue"})," (neste programa) n\xe3o recebe par\xe2metros expl\xedcitos. Se voc\xea n\xe3o atribuir o resultado de uma fun\xe7\xe3o a uma vari\xe1vel nem o usar em outra express\xe3o, os par\xeanteses s\xe3o opcionais \u2014como acontece com ",(0,o.jsx)(n.code,{children:"print"})," e ",(0,o.jsx)(n.code,{children:"printf"}),". Voc\xea pode mant\xea-los se preferir, mas n\xe3o \xe9 necess\xe1rio."]}),"\n",(0,o.jsxs)(n.p,{children:["Loop instructions, like \u201Cwhile\u201D, repeat a single instruction as long as the loop\ncondition (the expression between parentheses) is \u201Ctrue\u201D. One can",(0,o.jsx)(n.br,{}),"\n","execute multiple instructions in a loop by grouping them in a compound statement.\nThe if\u2013else instruction has one instruction for the \u201Ctrue\u201D clause and one for the \u201Cfalse\u201D."]}),"\n",(0,o.jsxs)(n.p,{children:["Observe that some statements, like while and if\u2013else, contain (or",(0,o.jsx)(n.br,{}),"\n","\u201Cfold around\u201D) another instruction \u2014in the case of if\u2013else even two other instructions.\nThe complete bundle is, again, a single instruction. That is:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"the assignment statements \u201Ca = a - b\u201D below the if and \u201Cb = b - a\u201D below the else are statements;"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"the if\u2013else statement folds around these two assignment statements and forms a single statement of itself;"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"the while statement folds around the if\u2013else statement and forms, again, a single statement."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"It is common to make the nesting of the statements explicit by indenting any\nsub-statements below a statement in the source text. In the \u201CGreatest Com-\nmon Divisor\u201D example, the left margin indent increases by four space characters\nafter the while statement, and again after the if and else keywords. State-\nments that belong to the same level, such as both printf invocations and the\nwhile loop, have the same indentation."}),"\n",(0,o.jsxs)(n.p,{children:["The loop condition for the while loop is \u201C(a != b)\u201D; the symbol != is the\n\u201Cnot equal to\u201D operator. That is, the if\u2013else instruction is repeated",(0,o.jsx)(n.br,{}),"\n","until \u201Ca\u201D equals \u201Cb\u201D. It is good practice to indent the instructions that run under\ncontrol of another statement, as is done in the preceding example."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"The call to printf, near the bottom of the example, differs from the print call\nright below the opening brace (\u201C{\u201D). The \u201Cf\u201D in printf stands for \u201Cformatted\u201D,\nwhich means that the function can format and print numeric values and other\ndata (in a user-specified format), as well as literal text. The %d symbol in the\nstring is a token that indicates the position and the format that the subsequent\nargument to function printf should be printed. At run time, the token %d is\nreplaced by the value of variable \u201Ca\u201D (the second argument of printf)."}),"\n",(0,o.jsxs)(n.p,{children:["A fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"print"})," imprime apenas texto e \xe9 mais r\xe1pida do que ",(0,o.jsx)(n.code,{children:"printf"}),". Se quiser exibir um caractere \u201C%\u201D literal, use ",(0,o.jsx)(n.code,{children:"print"})," ou duplique o s\xedmbolo ao usar ",(0,o.jsx)(n.code,{children:"printf"}),". Ou seja:"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'print "20% of the personnel accounts for 80% of the costs\\n"'})}),"\n",(0,o.jsx)(n.p,{children:"e"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'printf "20%% of the personnel accounts for 80%% of the costs\\n"'})}),"\n",(0,o.jsx)(n.p,{children:"produzem a mesma string."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"while" loop: 116'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"if else": 114'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Relational operators: 107"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"-arrays-e-constantes",children:"\u2022 Arrays e constantes"}),"\n",(0,o.jsx)(n.p,{children:"Al\xe9m das vari\xe1veis simples de uma c\xe9lula, pawn oferece \u201Cvari\xe1veis array\u201D que armazenam diversos valores. O exemplo a seguir lista n\xfameros primos usando o famoso \u201Ccrivo de Erat\xf3stenes\u201D. Ele tamb\xe9m apresenta outro conceito: constantes simb\xf3licas, que se parecem com vari\xe1veis, mas n\xe3o podem ser alteradas."}),"\n",(0,o.jsx)(n.p,{children:"Listing: sieve.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  Print  all  primes  below  100,  using  the  "Sieve  of  Eratosthenes"  */\n\nmain()\n{\n    const  max_primes  =  100\n    new  series[max_primes]  =  {  true,  ...  }\n    for  (new  i  =  2;  i  <  max_primes;  ++i)\n    if  (series[i])\n    {\n        printf  "%d  ",  i\n        /*  filter  all  multiples  of  this  "prime"  from  the  list  */\n        for  (new  j  =  2  *  i;  j  <  max_primes;  j  +=  i)\n            series[j]  =  false\n    }\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Sempre que um programa (ou subprograma) tiver limites fixos, \xe9 boa pr\xe1tica criar constantes simb\xf3licas para eles. No exemplo, ",(0,o.jsx)(n.code,{children:"max_primes"})," vale 100 e \xe9 usada tr\xeas vezes ap\xf3s a defini\xe7\xe3o: na declara\xe7\xe3o do array ",(0,o.jsx)(n.code,{children:"series"})," e nas duas estruturas ",(0,o.jsx)(n.code,{children:"for"}),". Se quisermos adaptar o c\xf3digo para listar primos menores que 500, basta alterar uma linha."]}),"\n",(0,o.jsxs)(n.p,{children:["Assim como vari\xe1veis simples, arrays podem ser inicializados na cria\xe7\xe3o. Pawn fornece um atalho para inicializar todos os elementos com o mesmo valor: os cem elementos de ",(0,o.jsx)(n.code,{children:"series"})," recebem ",(0,o.jsx)(n.code,{children:"true"})," \u2014sem que seja necess\xe1rio digitar a palavra cem vezes. Os s\xedmbolos ",(0,o.jsx)(n.code,{children:"true"})," e ",(0,o.jsx)(n.code,{children:"false"})," s\xe3o constantes pr\xe9-definidas."]}),"\n",(0,o.jsxs)(n.p,{children:["Quando uma vari\xe1vel simples (como ",(0,o.jsx)(n.code,{children:"i"})," e ",(0,o.jsx)(n.code,{children:"j"})," na implementa\xe7\xe3o do crivo) \xe9 declarada na primeira express\xe3o de um la\xe7o ",(0,o.jsx)(n.code,{children:"for"}),", ela existe apenas dentro do loop. Declara\xe7\xe3o de vari\xe1vel segue suas pr\xf3prias regras; apesar da apar\xeancia, n\xe3o \xe9 uma instru\xe7\xe3o comum. Uma dessas regras permite declarar uma vari\xe1vel na primeira express\xe3o do ",(0,o.jsx)(n.code,{children:"for"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Os dois ",(0,o.jsx)(n.code,{children:"for"})," tamb\xe9m apresentam novos operadores na terceira express\xe3o: ",(0,o.jsx)(n.code,{children:"++"})," incrementa seu operando em um; ou seja, ",(0,o.jsx)(n.code,{children:"++i"})," equivale a ",(0,o.jsx)(n.code,{children:"i = i + 1"}),". J\xe1 ",(0,o.jsx)(n.code,{children:"+="})," soma a express\xe3o da direita ao valor da esquerda; ",(0,o.jsx)(n.code,{children:"j += i"})," equivale a ",(0,o.jsx)(n.code,{children:"j = j + i"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Trabalhando com arrays \xe9 preciso ficar atento ao problema cl\xe1ssico de \u201Cum a mais\u201D: o primeiro elemento de ",(0,o.jsx)(n.code,{children:"series"})," \xe9 ",(0,o.jsx)(n.code,{children:"series[0]"}),", logo, se o array tem ",(0,o.jsx)(n.code,{children:"max_primes"})," elementos, o \xfaltimo \xedndice \xe9 ",(0,o.jsx)(n.code,{children:"series[max_primes - 1]"}),". Se ",(0,o.jsx)(n.code,{children:"max_primes"})," vale 100, o \xfaltimo elemento \xe9 ",(0,o.jsx)(n.code,{children:"series[99]"}),"; acessar ",(0,o.jsx)(n.code,{children:"series[100]"})," \xe9 inv\xe1lido."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Constant declaration: 101"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Progressive initiallers: 65"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"for" loop: 113'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"An overview of all operators: 104"})}),"\n",(0,o.jsx)(n.h3,{id:"-fun\xe7\xf5es",children:"\u2022 Fun\xe7\xf5es"}),"\n",(0,o.jsx)(n.p,{children:"Programas maiores costumam separar tarefas e opera\xe7\xf5es em fun\xe7\xf5es. Isso aumenta a modularidade e, quando bem escritas, elas podem ser reaproveitadas em outros projetos. O exemplo a seguir implementa uma fun\xe7\xe3o para calcular a sequ\xeancia de Fibonacci."}),"\n",(0,o.jsx)(n.p,{children:"Essa s\xe9rie foi descrita por Leonardo \u201CFibonacci\u201D, de Pisa, matem\xe1tico italiano do s\xe9culo XIII famoso por popularizar os algarismos indo-ar\xe1bicos no Ocidente. A sequ\xeancia tinha como objetivo modelar o crescimento de uma popula\xe7\xe3o de coelhos idealizados, e segue 1, 1, 2, 3, 5, 8, 13, 21... \u2014cada termo \xe9 a soma dos dois anteriores."}),"\n",(0,o.jsx)(n.p,{children:"Listing: fib.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  Calculation  of  Fibonacci  numbers  by  iteration  */\n\nmain()\n{\n    print  "Enter  a  value:  "\n    new  v  =  getvalue()\n    if  (v  >  0)\n        printf  "The  value  of  Fibonacci  number  %d  is  %d\\n", v,  fibonacci(v)\n    else\n        printf  "The  Fibonacci  number  %d  does  not  exist\\n",  v\n}\nfibonacci(n)\n{\n    assert  n  >  0\n    new  a  =  0,  b  =  1\n    (new  i  =  2;  i  <  n;  i++)\n    {\n        new  c  =  a  +  b\n        a  =  b\n        b  =  c\n    }\n    return  a  +  b\n}\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["A instru\xe7\xe3o ",(0,o.jsx)(n.code,{children:"assert"})," no in\xedcio de ",(0,o.jsx)(n.code,{children:"fibonacci"})," merece destaque: ela protege contra condi\xe7\xf5es \u201Cimposs\xedveis\u201D ou inv\xe1lidas. N\xfameros de Fibonacci negativos s\xe3o inv\xe1lidos, e ",(0,o.jsx)(n.code,{children:"assert"})," sinaliza isso como erro de programa\xe7\xe3o caso ocorra. Use ",(0,o.jsx)(n.code,{children:"assert"})," apenas para erros do programador, nunca para erros de entrada do usu\xe1rio."]}),"\n",(0,o.jsxs)(n.p,{children:["Implementar uma fun\xe7\xe3o definida pelo usu\xe1rio se parece bastante com a fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"main"}),". Em ",(0,o.jsx)(n.code,{children:"fibonacci"})," vemos dois conceitos novos: ela recebe um valor por par\xe2metro e retorna um resultado."]}),"\n",(0,o.jsxs)(n.p,{children:["Os par\xe2metros s\xe3o declarados no cabe\xe7alho da fun\xe7\xe3o; aqui, h\xe1 apenas ",(0,o.jsx)(n.code,{children:"n"}),". Dentro da fun\xe7\xe3o, o par\xe2metro se comporta como uma vari\xe1vel local cujo valor foi passado do lado externo no momento da chamada."]}),"\n",(0,o.jsxs)(n.p,{children:["A instru\xe7\xe3o ",(0,o.jsx)(n.code,{children:"return"})," encerra a fun\xe7\xe3o e estabelece o valor retornado. Ela n\xe3o precisa aparecer apenas ao final; sa\xeddas antecipadas s\xe3o permitidas."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"assert" statement: 112'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Funcitons: properties & features: 70"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"The main function of the Fibonacci example calls predefined \u201Cnative\u201D functions,\nlike getvalue and printf, as well as the user-defined function fibonacci.\nFrom the perspective of calling a function (as in function main), there is no\ndifference between user-defined and native functions."}),"\n",(0,o.jsx)(n.p,{children:"The Fibonacci numbers sequence describes a surprising variety of natural phe-\nnomena. For example, the two or three sets of spirals in pineapples, pine cones\nand sunflowers usually have consecutive Fibonacci numbers between 5 and 89\nas their number of spirals. The numbers that occur naturally in branching\npatterns (e.g. that of plants) are indeed Fibonacci numbers. Finally, although\nthe Fibonacci sequence is not a geometric sequence, the further the sequence\nis extended, the more closely the ratio between successive terms approaches\nthe Golden Ratio, of 1.618. . . \u2217 that appears so often in art and architecture."}),"\n",(0,o.jsx)(n.h3,{id:"-call-by-reference--call-by-value",children:"\u2022 Call-by-reference & call-by-value"}),"\n",(0,o.jsx)(n.p,{children:"Dates are a particularly rich source of algorithms and conversion routines,\nbecause the calenders that a date refers to have known such a diversity,\nthrough time and around the world."}),"\n",(0,o.jsx)(n.p,{children:"The \u201CJulian Day Number\u201D is attributed to Josephus Scaliger\u2020 and it counts\nthe number of days since November 24, 4714 BC (proleptic Gregorian cal-\nendar\u2021). Scaliger chose that date because it marked the coincidence of three\nwell-established cycles: the 28-year Solar Cycle (of the old Julian calendar),\nthe 19-year Metonic Cycle and the 15-year Indiction Cycle (periodic taxes or gov-\nernmental requisitions in ancient Rome), and because no literature or recorded\nhistory was known to predate that particular date in the remote past. Scaliger\nused this concept to reconcile dates in historic documents, later astronomers\nembraced it to calculate intervals between two events more easily."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h6,{id:"-the-exact-value-for-the-golden-ratio-is-125--1-the-relation-between-fibonacci-numbers-and-the-golden-ratio-also-allows-for-a-direct-calculation-of-any-sequence-number-instead-of-the-iterative-method-described-here",children:"\u2217 The exact value for the Golden Ratio is 1/2(\u221A5 + 1). The relation between Fibonacci numbers and the Golden Ratio also allows for a \u201Cdirect\u201D calculation of any sequence number, instead of the iterative method described here."}),"\n",(0,o.jsx)(n.h6,{id:"-there-is-some-debate-on-exactly-what-josephus-scaliger-invented-and-who-or-what-he-called-it-after",children:"\u2217 There is some debate on exactly what Josephus Scaliger invented and who or what he called it after."}),"\n",(0,o.jsx)(n.h6,{id:"-the-gregorian-calendar-was-decreed-to-start-on-15-october-1582-by-pope-gregory-xiii-which-means-that-earlier-dates-do-not-really-exist-in-the-gregorian-calendar-when-extending-the-gregorian-calendar-to-days-before-15-october-1582-we-refer-to-it-as-the-proleptic-gregorian-calendar",children:"\u2217 The Gregorian calendar was decreed to start on 15 October 1582 by pope Gregory XIII, which means that earlier dates do not really exist in the Gregorian calendar. When extending the Gregorian calendar to days before 15 October 1582, we refer to it as the proleptic Gregorian calendar."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Native function interface: 85"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Julian Day numbers (sometimes denoted with unit \u201Cjd\u201D) should not be con-\nAqui estamos falando de \u201CJulian Day Numbers\u201D (JDN), que n\xe3o devem ser confundidos com \u201CJulian Dates\u201D (n\xfamero de dias desde o in\xedcio do ano) nem com o calend\xe1rio juliano criado por J\xfalio C\xe9sar."}),"\n",(0,o.jsxs)(n.p,{children:["O programa abaixo calcula o n\xfamero de dias julianos a partir de uma data do calend\xe1rio gregoriano (pr\xf3leptico) e tamb\xe9m faz o caminho inverso. Nesse calend\xe1rio, o primeiro ano \xe9 1 d.C. e o anterior \xe9 1 a.C.; o ano zero ",(0,o.jsx)(n.strong,{children:"n\xe3o"})," existe. Por isso, o programa considera anos negativos para datas a.C. e positivos (n\xe3o zero) para anos d.C."]}),"\n",(0,o.jsx)(n.p,{children:"Listing: julian.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  calculate  Julian  Day  number  from  a  date,  and  vice  versa  */\n\nmain()\n{\n    new  d,  m,  y,  jdn\n    print  "Give  a  date  (dd-mm-yyyy):  "\n\n    d  =  getvalue(_,  \u2019-\u2019,  \u2019/\u2019)\n    m  =  getvalue(_,  \u2019-\u2019,  \u2019/\u2019)\n    y  =  getvalue()\n    jdn  =  DateToJulian(d,  m,  y)\n\n    printf("Date  %d/%d/%d  =  %d  JD\\n",  d,  m,  y,  jdn)\n    print  "Give  a  Julian  Day  Number:  "\n\n    jdn  =  getvalue()\n    JulianToDate  jdn,  d,  m,  y\n\n    printf  "%d  JD  =  %d/%d/%d\\n",  jdn,  d,  m,  y\n}\n\nDateToJulian(day,  month,  year)\n{\n    /*  The  first  year  is  1.  Year  0  does  not  exist:  it  is  1  BC  (or  -1)  */\n\n    assert  year  !=  0\n    if  (year  <  0)\n    year++\n\n    /*  move  January  and  February  to  the  end  of  the  previous  year  */\n\n    if  (month  <=  2)\n    year--,  month  +=  12\n    new  jdn  =  365*year  +  year/4  -  year/100  +  year/400\n    +  (153*month  -  457)  /  5\n    +  day  +  1721119\n\n    return  jdn\n}\n\nJulianToDate(jdn,  &day,  &month,  &year)\n{\n    jdn  -=  1721119\n\n    /*  approximate  year,  then  adjust  in  a  loop  */\n\n    year  =  (400  *  jdn)  /  146097\n    while  (365*year  +  year/4  -  year/100  +  year/400  <  jdn)\n        year++\n    year--\n    /*  determine  month  */\n\n    jdn  -=  365*year  +  year/4  -  year/100  +  year/400\n    month  =  (5*jdn  +  457)  /  153\n\n    /*  determine  day  */\n\n    day  =  jdn  -  (153*month  -  457)  /  5\n\n    /*  move  January  and  February  to  start  of  the  year  */\n\n    if  (month  >  12)\n        month  -=  12,  year++\n\n    /*  adjust  negative  years  (year  0  must  become  1  BC,  or  -1)  */\n\n    if  (year  <=  0)\n        year--\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"main"})," come\xe7a criando vari\xe1veis para armazenar dia, m\xeas, ano e o JDN calculado. Em seguida l\xea a data (tr\xeas chamadas a ",(0,o.jsx)(n.code,{children:"getvalue"}),") e chama ",(0,o.jsx)(n.code,{children:"DateToJulian"})," para obter o n\xfamero. Depois de calcular, imprime a data digitada e o JDN correspondente. Foquemos agora em ",(0,o.jsx)(n.code,{children:"DateToJulian"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Logo no in\xedcio, a fun\xe7\xe3o incrementa o ano caso ele seja negativo \u2014isso serve para lidar com a aus\xeancia do ano zero no calend\xe1rio gregoriano pr\xf3leptico. Em outras palavras, ",(0,o.jsx)(n.code,{children:"DateToJulian"})," modifica os argumentos recebidos (mais tarde, altera tamb\xe9m ",(0,o.jsx)(n.code,{children:"month"}),"). Dentro da fun\xe7\xe3o, o argumento se comporta como vari\xe1vel local e pode ser alterado; contudo, essas mudan\xe7as s\xe3o locais a ",(0,o.jsx)(n.code,{children:"DateToJulian"}),". A fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"main"})," passa ",(0,o.jsx)(n.code,{children:"d"}),", ",(0,o.jsx)(n.code,{children:"m"})," e ",(0,o.jsx)(n.code,{children:"y"}),", que s\xe3o mapeados para ",(0,o.jsx)(n.code,{children:"day"}),", ",(0,o.jsx)(n.code,{children:"month"})," e ",(0,o.jsx)(n.code,{children:"year"}),". Embora ",(0,o.jsx)(n.code,{children:"DateToJulian"})," modifique ",(0,o.jsx)(n.code,{children:"year"})," e ",(0,o.jsx)(n.code,{children:"month"}),", ela n\xe3o altera ",(0,o.jsx)(n.code,{children:"y"})," e ",(0,o.jsx)(n.code,{children:"m"})," em ",(0,o.jsx)(n.code,{children:"main"}),", apenas suas c\xf3pias locais. Esse conceito \xe9 conhecido como \u201Cpassagem por valor\u201D."]}),"\n",(0,o.jsxs)(n.p,{children:["O exemplo usa nomes diferentes para as vari\xe1veis locais de ",(0,o.jsx)(n.code,{children:"main"})," e ",(0,o.jsx)(n.code,{children:"DateToJulian"})," justamente para tornar a explica\xe7\xe3o mais clara. Se renomearmos ",(0,o.jsx)(n.code,{children:"d"}),", ",(0,o.jsx)(n.code,{children:"m"})," e ",(0,o.jsx)(n.code,{children:"y"})," para ",(0,o.jsx)(n.code,{children:"day"}),", ",(0,o.jsx)(n.code,{children:"month"})," e ",(0,o.jsx)(n.code,{children:"year"}),", a situa\xe7\xe3o continua a mesma: haver\xe1 dois conjuntos de vari\xe1veis com esses nomes \u2014algo perfeitamente v\xe1lido em pawn."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"Call by value" versus "Call by reference": 71'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["O restante de ",(0,o.jsx)(n.code,{children:"DateToJulian"})," \xe9 aritm\xe9tica pura, sem novidades para a linguagem."]}),"\n",(0,o.jsxs)(n.p,{children:["Voltando ao segundo trecho de ",(0,o.jsx)(n.code,{children:"main"}),", vemos que agora ele solicita um n\xfamero juliano e chama ",(0,o.jsx)(n.code,{children:"JulianToDate"})," para encontrar a data correspondente. Essa fun\xe7\xe3o \xe9 interessante porque recebe um \xfanico argumento (o JDN) e precisa produzir tr\xeas valores: dia, m\xeas e ano. Mas uma fun\xe7\xe3o s\xf3 pode retornar um valor \u2014um ",(0,o.jsx)(n.code,{children:"return"})," cont\xe9m apenas uma express\xe3o. Para resolver isso, ",(0,o.jsx)(n.code,{children:"JulianToDate"})," pede explicitamente que as altera\xe7\xf5es feitas em alguns argumentos sejam copiadas de volta para as vari\xe1veis do chamador. Assim, em ",(0,o.jsx)(n.code,{children:"main"}),", as vari\xe1veis que devem receber o resultado s\xe3o passadas como argumentos."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"JulianToDate"})," marca os argumentos que devem ser \u201Ccopiados de volta\u201D com o prefixo ",(0,o.jsx)(n.code,{children:"&"}),". Argumentos com ",(0,o.jsx)(n.code,{children:"&"})," s\xe3o tratados de forma especial: em vez de passar apenas o valor, a fun\xe7\xe3o recebe acesso direto \xe0 vari\xe1vel original. Isso se chama \u201Cpassagem por refer\xeancia\u201D, e o argumento se torna uma \u201Crefer\xeancia\u201D."]}),"\n",(0,o.jsxs)(n.p,{children:["Em outras palavras, se ",(0,o.jsx)(n.code,{children:"main"})," passa ",(0,o.jsx)(n.code,{children:"y"})," e ",(0,o.jsx)(n.code,{children:"JulianToDate"})," o mapeia para ",(0,o.jsx)(n.code,{children:"year"}),", qualquer altera\xe7\xe3o feita em ",(0,o.jsx)(n.code,{children:"year"})," refletir\xe1 em ",(0,o.jsx)(n.code,{children:"y"}),". Somente por meio de argumentos por refer\xeancia uma fun\xe7\xe3o pode modificar diretamente uma vari\xe1vel declarada em outra fun\xe7\xe3o."]}),"\n",(0,o.jsxs)(n.p,{children:["Resumindo: se uma fun\xe7\xe3o retorna apenas um valor, use o ",(0,o.jsx)(n.code,{children:"return"}),"; se precisa retornar v\xe1rios, use argumentos por refer\xeancia. Ambos podem coexistir na mesma fun\xe7\xe3o \u2014por exemplo, retornar o resultado principal via refer\xeancia e um c\xf3digo de erro no ",(0,o.jsx)(n.code,{children:"return"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Observa\xe7\xe3o: muitas aplica\xe7\xf5es desktop usam convers\xf5es para e a partir de n\xfameros julianos (ou variantes) para calcular intervalos entre datas ou descobrir a data exata daqui a 90 dias, por exemplo."}),"\n",(0,o.jsx)(n.h3,{id:"-n\xfameros-racionais",children:"\u2022 N\xfameros racionais"}),"\n",(0,o.jsx)(n.p,{children:"At\xe9 aqui lidamos apenas com n\xfameros inteiros. Pawn tamb\xe9m pode trabalhar com valores fracion\xe1rios, chamados de \u201Cn\xfameros racionais\u201D, mas o suporte depende da aplica\xe7\xe3o hospedeira."}),"\n",(0,o.jsx)(n.p,{children:"Os racionais podem ser implementados como n\xfameros de ponto flutuante ou de ponto fixo. Ponto flutuante \xe9 comum em c\xe1lculos gerais e cient\xedficos; ponto fixo \xe9 indicado para aplica\xe7\xf5es financeiras ou quando os erros de arredondamento devem ser inexistentes (ou, ao menos, previs\xedveis). O kit de ferramentas do pawn inclui m\xf3dulos para ambos, com detalhes e compromissos explicados na documenta\xe7\xe3o espec\xedfica. Entretanto, o aplicativo host pode oferecer apenas um dos formatos, os dois ou nenhum\u2217. O programa abaixo exige que haja suporte a pelo menos um tipo de racional; caso contr\xe1rio, ele n\xe3o executa."}),"\n",(0,o.jsx)(n.p,{children:"Listing: c2f.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\nmain()\n{\n    new  Rational:  Celsius\n    new  Rational:  Fahrenheit\n    print  "Celsius\\t  Fahrenheit\\n"\n    for  (Celsius  =  5;  Celsius  <=  25;  Celsius++)\n    {\n        Fahrenheit  =  (Celsius  *  1.8)  +  32\n        printf  "%r  \\t  %r\\n",  Celsius,  Fahrenheit\n    }\n}\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["O programa converte uma tabela de graus Celsius para Fahrenheit. A primeira diretiva importa as defini\xe7\xf5es necess\xe1rias para trabalhar com racionais. O arquivo ",(0,o.jsx)(n.code,{children:"rational"})," carrega suporte a ponto flutuante ou ponto fixo, conforme o dispon\xedvel."]}),"\n",(0,o.jsxs)(n.p,{children:["As vari\xe1veis ",(0,o.jsx)(n.code,{children:"Celsius"})," e ",(0,o.jsx)(n.code,{children:"Fahrenheit"})," s\xe3o declaradas com a tag ",(0,o.jsx)(n.code,{children:"Rational:"})," entre ",(0,o.jsx)(n.code,{children:"new"})," e o nome da vari\xe1vel. Tags indicam a finalidade da vari\xe1vel, o uso permitido e, no caso espec\xedfico de racionais, sua representa\xe7\xe3o em mem\xf3ria."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h6,{id:"-actually-this-is-already-true-of-all-native-functions-including-all-native-functions-that-the-examples-in-this-manual-use",children:"\u2217 Actually, this is already true of all native functions, including all native functions that the examples in this manual use."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Tag names: 68"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"The Rational: tag tells the pawn parser that the variables Celsius and Fahrenheit\ncontain fractional values, rather than whole numbers."}),"\n",(0,o.jsx)(n.p,{children:"The equation for obtaining degrees Fahrenheit from degrees Celsius is"}),"\n",(0,o.jsx)(n.p,{children:"\xb0F = \u2079\u2044\u2085 + 32 \xb0C"}),"\n",(0,o.jsxs)(n.p,{children:["The program uses the value 1.8 for the quotient 9/\u2085. When rational number\nsupport is enabled, pawn supports values with a fractional part behind",(0,o.jsx)(n.br,{}),"\n","the decimal point."]}),"\n",(0,o.jsx)(n.p,{children:"The only other non-trivial change from earlier programs is that the format\nstring for the printf function now has variable placeholders denoted with\n\u201C%r\u201D instead of \u201C%d\u201D. The placeholder %r prints a rational number at\nthe position; %d is only for integers (\u201Cwhole numbers\u201D)."}),"\n",(0,o.jsx)(n.p,{children:"I used the include file \u201Crational\u201D rather than \u201Cfloat\u201D or \u201Cfixed\u201D in an\nattempt to make the example program portable. If you know that the host\napplication supports floating point arithmetic, it may be more convenient to\n\u201C#include\u201D the definitions from the file float and use the tag Float: instead\nof Rational \u2014when doing so, you should also replace %r by %f in the call to\nprintf. For details on fixed point and floating point support, please see the\napplication notes \u201CFixed Point Support Library\u201D and \u201CFloating Point Support\nLibrary\u201D that are available separately."}),"\n",(0,o.jsx)(n.h3,{id:"-strings",children:"\u2022 Strings"}),"\n",(0,o.jsx)(n.p,{children:"pawn has no intrinsic \u201Cstring\u201D type; character strings are stored in arrays, with\nthe convention that the array element behind the last valid character is zero.\nWorking with strings is therefore equivalent with working with arrays."}),"\n",(0,o.jsx)(n.p,{children:"Among the simplest of encryption schemes is the one called \u201CROT13\u201D \u2014\nactually the algorithm is quite \u201Cweak\u201D from a cryptographical point of view. It\nis most widely used in public electronic forums (BBSes, Usenet) to hide texts\nfrom casual reading, such as the solution to puzzles or riddles. ROT13 simply\n\u201Crotates\u201D the alphabet by half its length, i.e. 13 characters. It is a symmetric\noperation: applying it twice on the same text reveals the original."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Listing: rot13.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  Simple  encryption,  using  ROT13  */\n\nmain()\n{\n    printf  "Please  type  the  string  to  mangle:  "\n\n    new  str[100]\n    getstring  str,  sizeof  str\n    rot13  str\n\n    printf  "After  mangling,  the  string  is:  \\"%s\\"\\n",  str\n}\n\nrot13(string[])\n{\n    for  (new  index  =  0;  string[index];  index++)\n    if  (\u2019a\u2019  <=  string[index]  <=  \u2019z\u2019)\n        string[index]  =  (string[index]  -  \u2019a\u2019  +  13)  %  26  +  \u2019a\u2019\n    else  if  (\u2019A\u2019  <=  string[index]  <=  \u2019Z\u2019)\n        string[index]  =  (string[index]  -  \u2019A\u2019  +  13)  %  26  +  \u2019A\u2019\n}\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["No cabe\xe7alho de ",(0,o.jsx)(n.code,{children:"rot13"}),", o par\xe2metro ",(0,o.jsx)(n.code,{children:"string"})," \xe9 declarado como array, mas sem tamanho \u2014n\xe3o h\xe1 valor entre colchetes. Quando um tamanho \xe9 especificado no cabe\xe7alho, ele precisa coincidir com o tamanho do argumento passado na chamada. Ao omitir, removemos essa restri\xe7\xe3o e permitimos que a fun\xe7\xe3o opere sobre arrays de qualquer comprimento. \xc9 preciso, ent\xe3o, ter outra forma de descobrir o tamanho (m\xe1ximo). Para strings, basta procurar pelo terminador zero."]}),"\n",(0,o.jsxs)(n.p,{children:["O ",(0,o.jsx)(n.code,{children:"for"})," que percorre a string \xe9 t\xedpico em rotinas de processamento de texto. Repare que a condi\xe7\xe3o \xe9 ",(0,o.jsx)(n.code,{children:"string[index]"}),". Em pawn, qualquer valor diferente de zero \xe9 considerado \u201Ctrue\u201D; valores iguais a zero s\xe3o \u201Cfalse\u201D. Assim, quando ",(0,o.jsx)(n.code,{children:"string[index]"})," chega a zero, o loop termina."]}),"\n",(0,o.jsxs)(n.p,{children:["O algoritmo ROT13 rotaciona apenas letras; d\xedgitos, pontua\xe7\xe3o e caracteres especiais permanecem intactos. Al\xe9m disso, mai\xfasculas e min\xfasculas s\xe3o tratados separadamente. Dentro do loop, dois ",(0,o.jsx)(n.code,{children:"if"})," filtram os caracteres relevantes. O encadeamento do segundo ",(0,o.jsx)(n.code,{children:"if"})," no ",(0,o.jsx)(n.code,{children:"else"})," do primeiro \xe9 um padr\xe3o comum para testar v\xe1rias condi\xe7\xf5es mutuamente exclusivas."]}),"\n",(0,o.jsx)(n.p,{children:"No in\xedcio deste cap\xedtulo falamos sobre passagem por valor e por refer\xeancia. No caso de strings (ou arrays em geral), lembre-se de que pawn sempre passa arrays por refer\xeancia. Isso economiza mem\xf3ria e melhora o desempenho, j\xe1 que copiar uma estrutura grande apenas para pass\xe1-la por valor consumiria tempo e mem\xf3ria adicionais."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"A function that takes an array as an argument and that does not change it, may mark the argument as \u201Cconst\u201D; see page 72"})}),"\n",(0,o.jsxs)(n.p,{children:["Por causa dessa regra, ",(0,o.jsx)(n.code,{children:"rot13"})," pode modificar o par\xe2metro ",(0,o.jsx)(n.code,{children:"string"})," sem precisar declar\xe1-lo explicitamente como argumento por refer\xeancia."]}),"\n",(0,o.jsxs)(n.p,{children:["Outro ponto interessante s\xe3o as condi\xe7\xf5es dos ",(0,o.jsx)(n.code,{children:"if"}),". A primeira usa ",(0,o.jsx)(n.code,{children:"\u2019a\u2019 <= string[index] <= \u2019z\u2019"}),", express\xe3o verdadeira se, e somente se, ",(0,o.jsx)(n.code,{children:"\u2019a\u2019 <= string[index]"})," ",(0,o.jsx)(n.strong,{children:"e"})," ",(0,o.jsx)(n.code,{children:"string[index] <= \u2019z\u2019"}),". Esse encadeamento de operadores relacionais \xe9 comum para expressar m\xfaltiplas compara\xe7\xf5es em uma \xfanica condi\xe7\xe3o."]}),"\n",(0,o.jsxs)(n.p,{children:["Por fim, repare como o \xfaltimo ",(0,o.jsx)(n.code,{children:"printf"})," em ",(0,o.jsx)(n.code,{children:"main"})," usa ",(0,o.jsx)(n.code,{children:'\\"'})," para imprimir aspas duplas. Normalmente esse caractere encerraria a string literal; a sequ\xeancia de escape insere a aspa no texto."]}),"\n",(0,o.jsx)(n.p,{children:"Ainda falando de strings e arrays, o pr\xf3ximo programa divide uma frase em palavras e contabiliza quantas s\xe3o. \xc9 um exemplo simples que apresenta alguns recursos novos da linguagem."}),"\n",(0,o.jsx)(n.p,{children:"Listing: wcount.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  word  count:  count  words  on  a  string  that  the  user  types  */\n\nmain()\n{\n    print  "Please  type  a  string:  "\n    new  string[100]\n    getstring  string,  sizeof  string\n\n    new  count  =  0\n\n    new  word[20]\n    new  index\n    for (  ;;  )\n    {\n        word  =  strtok(string,  index)\n        if  (strlen(word)  ==  0)\n            break\n        count++\n        printf  "Word  %d:  \u2019%s\u2019\\n",  count,  word\n    }\n    printf  "\\nNumber  of  words:  %d\\n",  count\n}\n\nstrtok(const  string[],  &index)\n{\n    new  length  =  strlen(string)\n\n    /*  skip  leading  white  space  */\n    while  (index  <  length  &&  string[index]  <=  \u2019  \u2019)\n        index++\n    /*  store  the  word  letter  for  letter  */\n    new  offset  =  index                            /*  save  start position  of  token  */\n    new  result[20]                                  /*  string  to store  the  word  in  */\n    while  (index  <  length\n        &&  string[index]  >  \u2019  \u2019\n        &&  index  -  offset  <  sizeof  result  -  1)\n    {\n        result[index  -  offset]  =  string[index]\n        index++\n    }\n    result[index  -  offset]  =  EOS                 /*  zero-terminate  the string  */\n    return  result\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Relational operators: 107"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Escape sequence: 99"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"main"})," primeiro mostra uma mensagem e l\xea a string digitada. Depois entra em um loop: escrever ",(0,o.jsx)(n.code,{children:"for (;;)"})," cria um la\xe7o sem inicializa\xe7\xe3o, incremento ou teste \u2014um loop infinito, equivalente a ",(0,o.jsx)(n.code,{children:"while (true)"}),". A diferen\xe7a \xe9 que o analisador de pawn gera um aviso para ",(0,o.jsx)(n.code,{children:"while (true)"})," (\u201Cexpress\xe3o redundante; sempre verdadeira\u201D), mas ",(0,o.jsx)(n.code,{children:"for (;;)"})," passa sem alertas."]}),"\n",(0,o.jsxs)(n.p,{children:["Loops infinitos s\xe3o \xfateis quando precisamos de um teste no meio \u2014um h\xedbrido entre ",(0,o.jsx)(n.code,{children:"while"})," e ",(0,o.jsx)(n.code,{children:"do...while"}),". Pawn n\xe3o tem essa constru\xe7\xe3o diretamente, mas podemos simul\xe1-la com um loop infinito e um ",(0,o.jsx)(n.code,{children:"break"})," condicional. No exemplo:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"a palavra \xe9 extra\xedda da string (c\xf3digo antes do teste);"}),"\n",(0,o.jsx)(n.li,{children:"verificamos se h\xe1 uma nova palavra; se n\xe3o houver, sa\xedmos do loop (teste no meio);"}),"\n",(0,o.jsx)(n.li,{children:"imprimimos a palavra e sua posi\xe7\xe3o (c\xf3digo depois do teste)."}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["A linha ",(0,o.jsx)(n.code,{children:"word = strtok(string, index)"})," (junto com a declara\xe7\xe3o de ",(0,o.jsx)(n.code,{children:"word"}),") mostra que pawn permite atribuir arrays e retornar arrays de fun\xe7\xf5es. O analisador verifica se o array retornado por ",(0,o.jsx)(n.code,{children:"strtok"})," tem o mesmo tamanho/dimens\xe3o da vari\xe1vel que o recebe."]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"strlen"})," \xe9 uma fun\xe7\xe3o nativa; ",(0,o.jsx)(n.code,{children:"strtok"})," n\xe3o e precisa ser implementada. Ela foi inspirada na hom\xf4nima de C/C++, mas n\xe3o modifica a string original: em vez disso, copia palavra por palavra para um array local, que \xe9 retornado no final."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"-arrays-e-enumera\xe7\xf5es-dados-estruturados",children:"\u2022 Arrays e enumera\xe7\xf5es (dados estruturados)"}),"\n",(0,o.jsx)(n.p,{children:"Em uma linguagem sem tipos, podemos atribuir fun\xe7\xf5es diferentes a elementos espec\xedficos de um mesmo array. Pawn suporta constantes enumeradas com uma extens\xe3o que simula parte da funcionalidade das \u201Cstructs\u201D ou \u201Crecords\u201D de outras linguagens."}),"\n",(0,o.jsx)(n.p,{children:"O exemplo a seguir \xe9 maior do que os anteriores e demonstra outros recursos, como vari\xe1veis globais e par\xe2metros nomeados."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  Priority  queue  (for  simple  text  strings)  */\n\nenum  message\n{\n    text[40  char],\n    priority\n}\n\nmain()\n{\n    new  msg[message]\n\n    /*  insert  a  few  items  (read  from  console  input)  */\n\n    printf  "Please  insert  a  few  messages  and  their  priorities;  \\\n        end  with  an  empty  string\\n"\n    for  (  ;;  )\n    {\n        printf  "Message:    "\n        getstring  .string  =  msg[text],  .maxlength  =  40,  .pack  =  true\n        if  (strlen(msg[text])  ==  0)\n            break\n        printf  "Priority:  "\n        msg[priority]  =  getvalue()\n        if  (!insert(msg))\n        {\n            printf  "Queue  is  full,  cannot  insert  more  items\\n"\n            break\n        }\n    }\n    /*  now  print  the  messages  extracted  from  the  queue  */\n    printf  "\\nContents  of  the  queue:\\n"\n    while  (extract(msg))\n        printf  "[%d]  %s\\n",  msg[priority],  msg[text]\n}\n\nconst  queuesize  =  10\nnew  queue[queuesize][message]\nnew  queueitems  =  0\ninsert(const  item[message])\n{\n    /*  check  if  the  queue  can  hold  one  more  message  */\n    if  (queueitems  ==  queuesize)\n        return  false                         /*  queue  is  full  */\n\n    /*  find  the  position  to  insert  it  to  */\n    new  pos  =  queueitems                 /*  start  at  the  bottom  */\n    while  (pos  >  0  &&  item[priority]  >  queue[pos-1][priority])\n        --pos                                        /*  higher  priority:  move  one  position  up  */\n\n    /*  make  place  for  the  item  at  the  insertion  spot  */\n    for  (new  i  =  queueitems;  i  >  pos;  --i)\n        queue[i]  =  queue[i-1]\n\n    /*  add  the  message  to  the  correct  slot  */\n        queue[pos]  =  item\n    queueitems++\n\n    return  true\n}\n\nextract(item[message])\n{\n    /*  check  whether  the  queue  has  one  more  message  */\n    if  (queueitems  ==  0)\n        return  false                         /*  queue  is  empty  */\n\n    /*  copy  the  topmost  item  */\n    item  =  queue[0]\n    --queueitems\n\n    /*  move  the  queue  one  position  up  */\n    for  (new  i  =  0;  i  <  queueitems;  ++i)\n        queue[i]  =  queue[i+1]\n\n    return  true\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"for" loop: 113'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"enum" statement: 101'})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:'"char" operator: 110'})}),"\n",(0,o.jsxs)(n.p,{children:["Near the top of the program listing is the declaration of the enumeration mes-\nsage. This enumeration defines two constants: text, which is zero, and pri-\nority, which is 11 (assuming a 32-bit cell). The idea behind an enumeration\nis to quickly define a list of symbolic constants without duplicates. By\ndefault, every constant in the list is 1 higher than its predecessor and the very",(0,o.jsx)(n.br,{}),"\n","first constant in the list is zero. However, you may give an extra increment for a\nconstant so that the successor has a value of 1 plus that extra increment. The"]}),"\n",(0,o.jsx)(n.p,{children:"text constant specifies an extra increment of 40 char. In pawn, char is an\noperator, it returns the number of cells needed to\nhold a packed string of the"}),"\n",(0,o.jsx)(n.p,{children:"specified number of characters. Assuming a 32-bit cell and a 8-bit character,\n10 cells can hold 40 packed characters."}),"\n",(0,o.jsx)(n.p,{children:"Immediately at the top of function main, a new array variable is declared with\nthe size of message. The symbol message is the name of the enumeration. It\nis also a constant with the value of the last constant in the enumeration list\nplus the optional extra increment for that last element. So in this example,\nmessage is 12. That is to say, array msg is declared to hold 12 cells."}),"\n",(0,o.jsxs)(n.p,{children:["Further in main are two loops. The for loop reads strings and priority values\nfrom the console and inserts them in a queue. The while loop below",(0,o.jsx)(n.br,{}),"\n","that\nextracts element by element from the queue and prints the information on the\nscreen. The point to note, is that the for loop stores both the string and the\npriority number (an integer) in the same variable msg; indeed, function main\ndeclares only a single variable. Function getstring stores the message text\nthat you type starting at array msg[text] while the priority value is stored\n(by an assignment a few lines lower) in msg[priority]. The printf function\nin the while loop reads the string and the value from those positions as well."]}),"\n",(0,o.jsx)(n.p,{children:"At the same time, the msg array is an entity on itself: it is passed in its\nentirety\nto function insert. That function, near the end, says \u201Cqueue[queueitems]"}),"\n",(0,o.jsxs)(n.p,{children:["= item\u201D, where item is an array with size message and queue is a",(0,o.jsx)(n.br,{}),"\n","two-\ndimensional array that holds queuesize elements of size message. The decla-\nration of queue and queuesize are just above function insert."]}),"\n",(0,o.jsxs)(n.p,{children:["The example implements a \u201Cpriority queue\u201D. You can insert a number",(0,o.jsx)(n.br,{}),"\n","of\nmessages into the queue and when these messages all have the same priority,\nthey are extracted from the queue in the same order. However, when",(0,o.jsx)(n.br,{}),"\n","the\nmessages have different priorities, the one with the highest priority comes out\nfirst. The \u201Cintelligence\u201D for this operation is inside function insert: it\nfirst\ndetermines the position of the new message to add, then moves a few messages\none position upward to make space for the new message. Function extract\nsimply always retrieves the first element of the queue and shifts all remaining\nelements down by one position."]}),"\n",(0,o.jsxs)(n.p,{children:["Note that both functions insert and extract work on two shared variables,\nqueue and queueitems. A variable that is declared inside a function,",(0,o.jsx)(n.br,{}),"\n","like\nvariable msg in function main can only be accessed from within that function.\nA \u201Cglobal variable\u201D is accessible by all functions, and that variable is\ndeclared\noutside the scope of any function. Variables must still be declared before they\nare used, so main cannot access variables queue and queueitems, but both\ninsert and extract can."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Function extract returns the messages with the highest priority via its func-\ntion argument item. That is, it changes its function argument by copying the\nfirst element of the queue array into item. Function insert copies in the other\ndirection and it does not change its function argument item. In such a case,\nit is advised to mark the function argument as \u201Cconst\u201D. This helps the pawn\nparser to both check for errors and to generate better (more compact, quicker) code."}),"\n",(0,o.jsx)(n.p,{children:"A final remark on this latest sample is the call to getstring in function main:\nnote how the parameters are attributed with a description. The first param-\neter is labeled \u201C.string\u201D, the second \u201C.maxlength\u201D and the third \u201C.pack\u201D.\nFunction getstring receives \u201Cnamed parameters\u201D rather than positional pa-\nrameters. The order in which named parameters are listed is not important.\nNamed parameters are convenient in specifying \u2014and deciphering\u2014 long pa-\nrameter lists."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Named parameters: 74"})}),"\n",(0,o.jsx)(n.h3,{id:"-bit-operations-to-manipulate-sets",children:"\u2022 Bit operations to manipulate \u2018\u2018sets\u2019\u2019"}),"\n",(0,o.jsx)(n.p,{children:"A few algorithms are most easily solved with \u201Cset operations\u201D, like\nintersection,\nunion and inversion. In the figure below, for example, we want to design an\nalgorithm that returns us the points that can be reached from some other point\nin a specified maximum number of steps. For example, if we ask it to\nreturn the points that can be reached in two steps starting from B, the algorithm has\nto return C, D, E and F, but not G because G takes three steps from B."}),"\n",(0,o.jsxs)(n.p,{children:["Our approach is to keep, for each point in the graph, the set of other points\nthat it can reach in one step \u2014this is the \u201Cnext_step\u201D set. We",(0,o.jsx)(n.br,{}),"\n","also have a \u201Cresult\u201D set that keeps all points that we have found so far. We start by\nsetting the result set equal to the next_step set for the departure point. Now\nwe have in the result set all points that one can reach in one step. Then, for\nevery point in our result set, we create a union of the result set and the\nnext_step set for that point. This process is iterated for a specified number of loops."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"An example may clarify the procedure outlined above. When the departure\npoint is B, we start by setting the result set to D and E \u2014these are the\npoints that one can reach from B in one step. Then, we walk through\nthe result set. The first point that we encounter in the set is D, and we check\nwhat points can be reached from D in one step: these are C and F. So we add\nC and F to the result set. We knew that the points that can be reached from\nD in one step are C and F, because C and F are in the next_step set for"}),"\n",(0,o.jsx)(n.p,{children:"D. So what we do is to merge the next_step set for point D into the result\nset. The merge is called a \u201Cunion\u201D in set theory. That handles D. The original\nresult set also contained point E, but the next_step set for E is empty, so\nno more point is added. The new result set therefore now contains C, D, E and F."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://i.ibb.co/m9Dq7x2/image.png",alt:"img"})}),"\n",(0,o.jsx)(n.p,{children:"A set is a general purpose container for elements. The only information that\na set holds of an element is whether it is present in the set or not. The order\nof elements in a set is insignificant and a set cannot contain the same element"}),"\n",(0,o.jsx)(n.p,{children:"multiple times. The pawn language does not provide a \u201Cset\u201D data type or\noperators that work on sets. However, sets with up to 32 elements can be\nsimulated by bit operations. It takes just one bit to store a \u201Cpresent/absent\u201D\nstatus and a 32-bit cell can therefore maintain the status for 32 set elements\n\u2014provided that each element is assigned a unique bit position."}),"\n",(0,o.jsx)(n.p,{children:"The relation between set operations and bitwise operations is summarized in\nthe following table. In the table, an upper case letter stands for a set and a\nlower case letter for an element from that set."}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"concept"}),(0,o.jsx)(n.th,{children:"mathematical notation"}),(0,o.jsx)(n.th,{children:"pawn expression"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"intersection"}),(0,o.jsx)(n.td,{children:"A \u2229 B"}),(0,o.jsx)(n.td,{children:"A & B"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"union"}),(0,o.jsx)(n.td,{children:"A \u222A B"}),(0,o.jsx)(n.td,{children:"A I B"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"complement"}),(0,o.jsx)(n.td,{children:"A"}),(0,o.jsx)(n.td,{children:"~A"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"empty set"}),(0,o.jsx)(n.td,{children:"\u03B5"}),(0,o.jsx)(n.td,{children:"0"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"membership"}),(0,o.jsx)(n.td,{children:"x \u2208 A"}),(0,o.jsx)(n.td,{children:"(1 << x ) & A"})]})]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"To test for membership \u2014that is, to query whether a set holds a particular\nelement, create a set with just one element and take the intersection. If the\nresult is 0 (the empty set) the element is not in the set. Bit numbering starts\ntypically at zero; the lowest bit is bit 0 and the highest bit in a 32-bit cell\nis bit 31. To make a cell with only bit 7 set, shift the value 1 left by seven\n\u2014or in a pawn expression: \u201C1 << 7\u201D."}),"\n",(0,o.jsx)(n.p,{children:"Below is the program that implements the algorithm described earlier to find\nall points that can be reached from a specific departure in a given number of\nsteps. The algorithm is completely in the findtargets function."}),"\n",(0,o.jsx)(n.p,{children:"Listing: set.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  Set  operations,  using  bit  arithmetic  */\n\nmain()\n{\n    enum  (<<=  1)  {  A  =  1,  B,  C,  D,  E,  F,  G  }\n    new  nextstep[]  =\n\n        {  C  |  E,       /*  A  can  reach  C  and  E  */\n           D  |  E,          /*  B    "        "      D  and  E  */\n           G,                /*  C    "        "      G  */\n           C  |  F,          /*  D    "        "      C  and  F  */\n           0,                /*  E    "        "      none  */\n           0,                /*  F    "        "      none  */\n           E  |  F,          /*  G    "        "      E  and  F  */\n        }\n    #pragma  unused  A,  B\n\n    print  "The  departure  point:  "\n    new  source  =  clamp(  .value  =  toupper(getchar())  -  \u2019A\u2019,\n                .min  =  0,\n                .max  =  sizeof  nextstep  -  1\n                 )\n    print  "\\nThe  number  of  steps:  "\n    new  steps  =  getvalue()\n\n    /*  make  the  set  */\n    new  result  =  findtargets(source,  steps,  nextstep)\n    printf  "The  points  reachable  from  %c  in  %d  steps:  ",  source+\u2019A\u2019,\n    steps\n    for  (new  i  =  0;  i  <  sizeof  nextstep;  i++)\n        if  (result  &  1  <<  i)\n            printf  "%c  ",  i  +  \u2019A\u2019\n}\n\nfindtargets(source,  steps,  nextstep[],  numpoints  =  sizeof  nextstep)\n{\n    new  result  =  0\n    new  addedpoints  =  nextstep[source]\n    while  (steps--  >  0  &&  result  !=  addedpoints)\n    {\n        result  =  addedpoints\n        for  (new  i  =  0;  i  <  numpoints;  i++)\n            if  (result  &  1  <<  i)\n                addedpoints  |=  nextstep[i]\n    }\n    return  result\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"The enum statement just below the header of the main function declares the\nconstants for the nodes A to G, but with a twist. Usually, the enum starts\ncounting from zero; here, the value of the first constant, A, is explicitly set to"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"More noteworthy is the expression \u201C(<<= 1)\u201D between the enum keyword\nand the opening brace that starts the constant list: it specifies a \u201Cbit\nshifting\u201D increment. By default, every constant in an enum list gets a value that is\n1 above its predecessor, but you can specify every successive constant\nin an enumeration to have a value that is:"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.em,{children:"its predecessor incremented by any value (not just 1) \u2014e.g., \u201C(+= 5)\u201D;"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.em,{children:"its predecessor multiplied by any value \u2014e.g., \u201C("}),"= 3)\u201D;_"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.em,{children:"its predecessor bit-shifted to the left by any value \u2014e.g., \u201C(<<= 1)\u201D;"})}),"\n",(0,o.jsxs)(n.p,{children:["Note that, in binary arithmetic, shifting left by one bit amounts to the same\nas multiplying by two, meaning that ",(0,o.jsx)(n.code,{children:"(/*= 2)"})," and ",(0,o.jsx)(n.code,{children:"(<<= 1)"})," do the same thing."]}),"\n",(0,o.jsx)(n.p,{children:"When working with sets, a typical task that pops up is to determine the number\nof elements in the set. A straightforward function that does this is below:"}),"\n",(0,o.jsx)(n.p,{children:"Listing: simple bitcount function"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:"\nbitcount(set)\n{\n    new  count  =  0\n    for  (new  i  =  0;  i  <  cellbits;  i++)\n        if  (set  &  (1  <<  i))\n            count++\n    return  count\n}\n\n"})}),"\n",(0,o.jsxs)(n.p,{children:["With a cell size of 32 bits, this function\u2019s loop iterates 32 times to check for\na single bit at each iteration. With a bit of binary arithmetic magic, we can\nreduce it to loop only for the number of bits that are \u201Cset\u201D.",(0,o.jsx)(n.br,{}),"\n","That is, the following function iterates only once if the input value has only one bit set:"]}),"\n",(0,o.jsx)(n.p,{children:"Listing: improved bitcount function"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:"\nbitcount(set)\n{\n    new  count  =  0\n    if  (set)\n        do\n            count++\n        while  ((set  =  set  &  (set  -  1)))\n    return  count\n}\n\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"\u201Cenum\u201D statement: 101"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"\u201Ccellbits\u201D constant: 102"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"-a-simple-rpn-calculator",children:"\u2022 A simple RPN calculator"}),"\n",(0,o.jsxs)(n.p,{children:["The common mathematical notation, with expressions like \u201C26 3 (5 + 2)\u201D,\nis known as the algebraic notation. It is a compact notation and",(0,o.jsx)(n.br,{}),"\n","we have\ngrown accustomed to it. pawn and by far most other programming languages\nuse the algebraic notation for their programming expressions. The algebraic"]}),"\n",(0,o.jsx)(n.p,{children:"notation does have a few disadvantages, though. For instance, it occasionally\nexige que deixemos expl\xedcita a ordem das opera\xe7\xf5es com par\xeanteses. A express\xe3o no in\xedcio desta se\xe7\xe3o poderia ser reescrita sem par\xeanteses, mas \xe0 custa de quase dobrar o tamanho. Na pr\xe1tica, complementamos a nota\xe7\xe3o alg\xe9brica com regras de preced\xeancia que dizem, por exemplo, que multiplica\xe7\xe3o vem antes de adi\xe7\xe3o e subtra\xe7\xe3o.\u2217 Essas regras reduzem muito a necessidade de par\xeanteses, mas n\xe3o a eliminam. Pior: quando o n\xfamero de operadores cresce, lembrar a hierarquia de preced\xeancia e o n\xedvel de cada operador torna-se dif\xedcil \u2014motivo pelo qual linguagens ricas em operadores, como APL, abandonam preced\xeancia e usam outra abordagem."}),"\n",(0,o.jsxs)(n.p,{children:["Por volta de 1920, o matem\xe1tico polon\xeas Jan \u0141ukasiewicz demonstrou que, colocando os operadores antes dos operandos em vez de entre eles, a preced\xeancia se tornava redundante e par\xeanteses deixavam de ser necess\xe1rios. Essa nota\xe7\xe3o ficou conhecida como \u201Cnota\xe7\xe3o polonesa\u201D.\u2020 Mais tarde, Charles Hamblin sugeriu posicionar os operadores ",(0,o.jsx)(n.strong,{children:"ap\xf3s"})," os operandos, resultando na \u201Cnota\xe7\xe3o polonesa reversa\u201D (RPN)."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h6,{id:"-these-rules-are-often-summarized-in-a-mnemonic-like-please-excuse-my-dear-aunt-sally-parentheses-exponentiation-multiplication-division-addition-subtraction",children:"\u2217 These rules are often summarized in a mnemonic like \u201CPlease Excuse My Dear Aunt Sally\u201D (Parentheses, Exponentiation, Multiplication, Division, Addition, Subtraction)"}),"\n",(0,o.jsx)(n.h6,{id:"-polish-notation-is-completely-unrelated-to-hungarian-notation-which-is-just-the-habit-of-adding-type-or-purpose-identification-warts-to-names-of-variables-or-functions",children:"* Polish Notation is completely unrelated to \u201CHungarian Notation\u201D \u2014which is just the habit of adding \u201Ctype\u201D or \u201Cpurpose\u201D identification warts to names of variables or functions"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Algebraic notation is also called \u201Cinfix\u201D notation"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Reverse Polish Notation is also called \u201Cpostfix\u201D notation"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"O benef\xedcio dessa invers\xe3o \xe9 que os operadores aparecem na mesma ordem em que devem ser executados: ao l\xea-los da esquerda para a direita, realizamos as opera\xe7\xf5es na mesma sequ\xeancia. A express\xe3o alg\xe9brica desta se\xe7\xe3o ficaria, em RPN:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"26 3 5 2 + \xd7 \u2212"})}),"\n",(0,o.jsxs)(n.p,{children:["Observando apenas os operadores, temos: primeiro uma soma, depois uma multiplica\xe7\xe3o e, por fim, uma subtra\xe7\xe3o. Os operandos de cada operador s\xe3o lidos da direita para a esquerda: os operandos de ",(0,o.jsx)(n.code,{children:"+"})," s\xe3o 5 e 2; os de ",(0,o.jsx)(n.code,{children:"\xd7"})," s\xe3o o resultado da soma anterior e o valor 3; e assim por diante."]}),"\n",(0,o.jsxs)(n.p,{children:["\xc9 \xfatil imaginar os valores sendo empilhados, com os operadores removendo um ou mais elementos do topo, efetuando a opera\xe7\xe3o e devolvendo o resultado no topo. Ao percorrer a express\xe3o em RPN, empilhamos 26, 3, 5 e 2 nessa ordem. O operador ",(0,o.jsx)(n.code,{children:"+"})," remove 5 e 2 e empilha a soma, resultando em \u201C26 3 7\u201D. O operador ",(0,o.jsx)(n.code,{children:"\xd7"})," remove 3 e 7 e empilha o produto, deixando \u201C26 21\u201D. Por fim, o operador ",(0,o.jsx)(n.code,{children:"\u2212"})," subtrai 21 de 26 e empilha o valor \xfanico 5 \u2014resultado final da express\xe3o."]}),"\n",(0,o.jsx)(n.p,{children:"RPN se popularizou porque \xe9 f\xe1cil de entender e de implementar (especialmente em calculadoras antigas). Ela tamb\xe9m abre espa\xe7o para operadores com mais de dois operandos (como integra\xe7\xf5es) ou com mais de um resultado (como convers\xf5es entre coordenadas polares e cartesianas)."}),"\n",(0,o.jsx)(n.p,{children:"Segue o programa principal de uma calculadora em nota\xe7\xe3o polonesa reversa:"}),"\n",(0,o.jsx)(n.p,{children:"Listing: rpn.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  a  simple  RPN  calculator  */\n#include  strtok\n#include  stack\n#include  rpnparse\n\nmain()\n{\n    print  "Type  an  expression  in  Reverse  Polish  Notation:  "\n    new  string[100]\n    getstring  string,  sizeof  string\n    rpncalc  string\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"O programa principal em si \xe9 bem curto; ele apenas inclui o c\xf3digo de tr\xeas arquivos auxiliares, cada um respons\xe1vel por algumas fun\xe7\xf5es que, combinadas, implementam a calculadora. Em programas maiores \xe9 comum distribuir a l\xf3gica em v\xe1rios arquivos para facilitar a manuten\xe7\xe3o."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"main"})," mostra um prompt e chama a nativa ",(0,o.jsx)(n.code,{children:"getstring"})," para ler a express\xe3o. Em seguida, invoca ",(0,o.jsx)(n.code,{children:"rpncalc"}),", que faz o trabalho pesado. A implementa\xe7\xe3o de ",(0,o.jsx)(n.code,{children:"rpncalc"})," est\xe1 em ",(0,o.jsx)(n.code,{children:"rpnparse.inc"}),", reproduzida abaixo:"]}),"\n",(0,o.jsx)(n.p,{children:"Listing: rpnparse.inc"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/*  main  rpn  parser  and  lexical  analysis,  part  of  the  RPN  calculator  */\n#include  <rational>\n#include  <string>\n\nenum  token\n{\n    t_type,                       /*  operator  or  token  type  */\n    Rational:  t_value,           /*  value,  if  t_type  is  "Number"  */\n    t_word[20],                   /*  raw  string  */\n\n}\n\nconst  Number     =  \u20190\u2019\nconst  EndOfExpr  =  \u2019#\u2019\n\nrpncalc(const  string[])\n{\n    new  index\n    new  field[token]\n    for  (  ;;  )\n    {\n        field  =  gettoken(string,  index)\n        switch  (field[t_type])\n        {\n            case  Number:\n                push  field[t_value]\n            case  \u2019+\u2019:\n                push  pop()  +  pop()\n            case  \u2019-\u2019:\n                push  -  pop()  +  pop()\n            case  \u2019*\u2019:\n                push  pop()  *  pop()\n            case  \u2019/\u2019,  \u2019:\u2019:\n                push  1.0  /  pop()  *  pop()\n            case  EndOfExpr:\n                break      /*  exit  "for"  loop  */\n            default:\n                printf  "Unknown  operator  \u2019%s\u2019\\n",  field[t_word]\n        }\n    }\n    printf  "Result  =  %r\\n",  pop()\n    if  (clearstack())\n        print  "Stack  not  empty\\n",  red\n}\n\ngettoken(const  string[],  &index)\n{\n    /*  first  get  the  next  "word"  from  the  string  */\n    new  word[20]\n    word  =  strtok(string,  index)\n\n    /*  then  parse  it  */\n    new  field[token]\n    field[t_word]  =  word\n    if  (strlen(word)  ==  0)\n    {\n        field[t_type]  =  EndOfExpr  /*  special  "stop"  symbol  */\n        field[t_value]  =  0\n    }\n    else  if  (\u20190\u2019  <=  word[0]  <=  \u20199\u2019)\n    {\n        field[t_type]  =  Number\n        field[t_value]  =  rationalstr(word)\n    }\n    else\n    {\n        field[t_type]  =  word[0]\n        field[t_value]  =  0\n    }\n    return  field\n\n}\n\n```***\n\nEssa calculadora usa suporte a n\xfameros racionais, por isso `rpnparse.inc` inclui o arquivo `rational`. Quase todas as opera\xe7\xf5es envolvendo racionais ficam escondidas na aritm\xe9tica; as \xfanicas refer\xeancias diretas s\xe3o o especificador de formato `%r` no `printf` ao final de `rpncalc` e a chamada `rationalstr` dentro de `gettoken`.\n\nO primeiro ponto curioso em `rpnparse.inc` \xe9 a declara\xe7\xe3o `enum`, na qual um elemento recebe uma tag (`t_value`) e outro define um tamanho (`t_word`). A fun\xe7\xe3o `rpncalc` declara a vari\xe1vel `field` como um array cujo tamanho \xe9 o s\xedmbolo dessa enumera\xe7\xe3o. Na pr\xe1tica, isso faz mais do que criar um array de 22 c\xe9lulas:\n\n- O \u201C\xedndice\u201D do array passa a ter a tag `token:`. Isso permite index\xe1-lo usando qualquer elemento da enumera\xe7\xe3o, mas impede o uso de valores com outras tags. Em outras palavras, `field[t_type]` \xe9 v\xe1lido, enquanto `field[1]` gera diagn\xf3stico.\n- A tag da enumera\xe7\xe3o prevalece sobre a eventual tag do array. `field` em si n\xe3o tem tag, mas `field[t_value]` recebe `Rational:`, j\xe1 que o elemento `t_value` foi declarado assim. Isso permite criar arrays cujos elementos t\xeam tags diferentes entre si.\n- Quando um elemento da enumera\xe7\xe3o define um tamanho, a posi\xe7\xe3o correspondente no array passa a ser tratada como um subarray. Em `rpncalc`, `field[t_type]` \xe9 uma c\xe9lula, `field[t_value]` \xe9 outra, mas `field[t_word]` \xe9 um array unidimensional com 20 c\xe9lulas. \xc9 por isso que a linha\n\n    printf  "Unknown  operator  \u2019%s\u2019\\n",  field[t_word]\n\nwhere the format code %s expects a string \u2014a zero-terminated array.\n\n\n\n\n\n`Rational numbers, see also the \u201CCelsius to Fahrenheit\u201D example on page page 16`\n\n`\u201Cenum\u201D statement: 101`\n\n`Another example of an index tag: page 68`\n\n\n\n// came to here\n\n\n\n\n***\n\nIf you know C/C\u207A\u207A  or Java, you may want to look at the switch statement.\nThe switch statement differs in a number of ways from the other languages\nthat provide it. The cases are not fall-through, for example, which in\nturn means that the break statement for the case EndOfExpr breaks out of the\nenclosing loop, instead of out of the switch.\n\nOn the top of the for loop in function rpncalc, you will find the\ninstruction \u201Cfield = gettoken(string, index)\u201D. As already exemplified in the\nwcount.p (\u201Cword count\u201D) program on page 19, functions may return arrays.\nIt gets more interesting for a similar line in function gettoken:\n\nfield[t_word] = word\n\nwhere word is an array of 20 cells and field is an array of 22 cells.\nHowever, as the t_word enumeration field is declared as having a size of 20 cells,\n\u201Cfield[t_word]\u201D is considered a sub-array of 20 cells, precisely matching the\narray size of word.\n\nListing: strtok.inc\n\n```c\n\n/* extract words from a string (words must be separated by white space) */\n#include <string>\n\nstrtok(const string[], &index)\n{\n    new length = strlen(string)\n\n    /* skip leading white space */\n    while (index < length && string[index] <= \u2019 \u2019)\n        index++\n\n    /* store the word letter for letter */\n    new offset = index     /* save start position of token */\n    new result[20]         /* string to store the word in */\n    while (index < length\n        && string[index] > \u2019 \u2019\n        && index - offset < sizeof result - 1)\n        {\n            result[index - offset] = string[index]\n            index++\n        }\n    result[index - offset] = EOS /* zero-terminate the string */\n\n    return result\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"\u201Cswitch\u201D statement: page 115"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Function strtok is the same as the one used in the wcount.p example. It is\nimplemented in a separate file for the rpn calculator program. Note that the\nstrtok function as it is implemented here can only handle words with up to 19"}),"\n",(0,o.jsxs)(n.p,{children:["characters \u2014the 20th character is the zero terminator. A truly general purpose\nre-usable implementation of an strtok function would pass the destination\narray as a parameter, so that it could handle words of any size. Supporting\nboth packed and unpack strings would also be a useful feature of a",(0,o.jsx)(n.br,{}),"\n","general purpose function."]}),"\n",(0,o.jsxs)(n.p,{children:["When discussing the merits of Reverse Polish Notation, I mentioned that a\nstack is both an aid in \u201Cvisualizing\u201D the algorithm as well as a",(0,o.jsx)(n.br,{}),"\n","convenient method to implement an rpn parser. This example rpn calculator, uses\na stack with the ubiquitous functions push and pop. For error checking",(0,o.jsx)(n.br,{}),"\n","and resetting the stack, there is a third function that clears the stack."]}),"\n",(0,o.jsx)(n.p,{children:"Listing: stack.inc"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:"\n/* stack functions, part of the RPN calculator */\n#include <rational>\n\nstatic Rational: stack[50]\nstatic stackidx = 0\n\npush(Rational: value)\n{\n    assert stackidx < sizeof stack\n    stack[stackidx++] = value\n}\n\nRational: pop()\n{\n    assert stackidx > 0\n    return stack[--stackidx]\n}\n\nclearstack()\n{\n    assert stackidx >= 0\n    if (stackidx == 0)\n        return false\n    stackidx = 0\n    return true\n}\n\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"wcount.p: page 19"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"The file stack.inc includes the file rational again. This is technically not\nnecessary (rpnparse.inc already included the definitions for rational number\nsupport), but it does not do any harm either and, for the sake of code re-use,\nit is better to make any file include the definitions of the libraries that it\ndepends on."}),"\n",(0,o.jsxs)(n.p,{children:["Notice how the two global variables stack and stackidx are declared",(0,o.jsx)(n.br,{}),"\n","as \u201Cstatic\u201D variables; using the keyword static instead of new. Doing this makes\nthe global variables \u201Cvisible\u201D in that file only. For all other files in a",(0,o.jsx)(n.br,{}),"\n","larger project, the symbols stack and stackidx are invisible and they cannot (ac-\ncidentally) modify the variables. It also allows the other modules to declare\ntheir own private variables with these names, so it avoids name clashing."]}),"\n",(0,o.jsx)(n.p,{children:"Embora a calculadora RPN continue sendo um programa pequeno, estruturamos o c\xf3digo como se fosse maior para demonstrar v\xe1rios elementos da linguagem. Em um cen\xe1rio real, poder\xedamos implement\xe1-la de maneira mais compacta."}),"\n",(0,o.jsx)(n.h3,{id:"-event-driven-programming",children:"\u2022 Event-driven programming"}),"\n",(0,o.jsxs)(n.p,{children:["Todos os exemplos deste cap\xedtulo at\xe9 aqui seguiram um modelo \u201Clinear\u201D: come\xe7am em ",(0,o.jsx)(n.code,{children:"main"})," e o c\xf3digo decide o que fazer e quando pedir entrada. Esse modelo \xe9 f\xe1cil de entender e se encaixa bem na maioria das linguagens, mas n\xe3o atende a muitas situa\xe7\xf5es do mundo real. Frequentemente, o programa n\xe3o pode simplesmente processar dados e solicitar entrada apenas quando for conveniente; \xe9 o usu\xe1rio quem escolhe quando interagir, e o aplicativo deve estar pronto para responder rapidamente, independentemente do que estiver fazendo."]}),"\n",(0,o.jsx)(n.p,{children:"Isso sugere que o programa deveria ser capaz de interromper o trabalho atual, realizar outra atividade e depois retomar a tarefa original. Nas primeiras implementa\xe7\xf5es, isso era feito com sistemas multitarefa: uma thread cuidava das tarefas em segundo plano e outra ficava em loop aguardando entrada do usu\xe1rio. Por\xe9m, essa solu\xe7\xe3o \xe9 pesada. Um modelo mais leve para obter responsividade \xe9 o chamado \u201Cprograma\xe7\xe3o dirigida a eventos\u201D."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Nesse modelo, o programa divide tarefas longas em blocos curtos e, entre eles, fica dispon\xedvel para processar eventos. Em vez de ficar \u201Cpollando\u201D entradas, a aplica\xe7\xe3o hospedeira (ou outro subsistema) chama uma fun\xe7\xe3o associada ao evento \u2014mas apenas quando ele ocorre."}),"\n",(0,o.jsx)(n.p,{children:"O evento mais comum \xe9 \u201Centrada\u201D. Por\xe9m, entradas n\xe3o v\xeam apenas de usu\xe1rios: podem chegar pacotes por cabos seriais, redes, temporizadores internos e outros dispositivos conectados. Muitos desses dispositivos simplesmente enviam dados; o recebimento \xe9 um evento, como uma tecla pressionada. Se voc\xea n\xe3o tratar o evento, talvez alguns fiquem em uma fila interna, mas, quando ela enche, os demais s\xe3o descartados."}),"\n",(0,o.jsxs)(n.p,{children:["Pawn oferece suporte direto a esse modelo porque permite v\xe1rios pontos de entrada. Em um programa linear, apenas ",(0,o.jsx)(n.code,{children:"main"})," \xe9 o ponto inicial; em um programa dirigido a eventos, h\xe1 uma fun\xe7\xe3o de entrada para cada evento capturado. Comparado ao modelo linear, esse estilo parece \u201Cde baixo para cima\u201D: em vez de o programa chamar a aplica\xe7\xe3o hospedeira para decidir o pr\xf3ximo passo, \xe9 o host que invoca o script quando necess\xe1rio, exigindo respostas r\xe1pidas."]}),"\n",(0,o.jsxs)(n.p,{children:["Como pawn n\xe3o especifica uma biblioteca padr\xe3o, n\xe3o h\xe1 garantia de que determinada implementa\xe7\xe3o forne\xe7a fun\xe7\xf5es como ",(0,o.jsx)(n.code,{children:"printf"})," ou ",(0,o.jsx)(n.code,{children:"getvalue"}),". Embora se recomende que todas ofere\xe7am ao menos uma interface m\xednima de console/terminal com essas fun\xe7\xf5es, a disponibilidade depende da implementa\xe7\xe3o."]}),"\n",(0,o.jsx)(n.p,{children:"dependent. The same holds for the public functions \u2014the entry points for a\nscript. It is implementation-dependent which public functions a host applica-\ntion supports. The script in this section may therefore not run on your platform\n(even if all previous scripts ran fine). The tools in the standard\ndistribution of\nthe pawn system support all scripts developed in this manual, provided that"}),"\n",(0,o.jsx)(n.p,{children:"your operating system or environment supports standard terminal functions"}),"\n",(0,o.jsx)(n.p,{children:"such as setting the cursor position."}),"\n",(0,o.jsx)(n.p,{children:"An early programming language that was developed solely for teaching the\nconcepts of programming to children was \u201CLogo\u201D. This dialect of LISP made\nprogramming visual by having a small robot, the \u201Cturtle\u201D, drive over the floor\nunder control of a simple program. This concept was then copied to moving\na (usually triangular) cursor of the computer display, again under control of a\nprogram. A novelty was that the turtle now left a trail behind it, allowing you\nto create drawings by properly programming the turtle \u2014it became known as turtle graphics."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Public functions: 83"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"The term \u201Cturtle graphics\u201D was also used for drawing inter-\nactively with the arrow keys on the keyboard and a \u201Cturtle\u201D for the current\nposition. This method of drawing pictures on the computer was briefly popular\nbefore the advent of the mouse."}),"\n",(0,o.jsx)(n.p,{children:"Listing: turtle.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:"\n@keypressed(key)\n{\n    /_ get current position */\n    new x, y\n    wherexy x, y\n\n    /_ determine how the update the current position */\n    switch (key)\n    {\n        case \u2019u\u2019: y-- /_ up */\n        case \u2019d\u2019: y++ /_ down */\n        case \u2019l\u2019: x-- /_ left */\n        case \u2019r\u2019: x++ /_ right */\n        case \u2019\\e\u2019: exit /_ Escape = exit */\n    }\n\n    /_ adjust the cursor position and draw something */\n    moveturtle x, y\n}\n\nmoveturtle(x, y)\n{\n    gotoxy x, y\n    print \u2019/*\u2019\n    gotoxy x, y\n}\n\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The entry point of the above program is @keypressed \u2014it is called on a\nkey press. If you run the program and do not type any key, the",(0,o.jsx)(n.br,{}),"\n","function @keypressed never runs; if you type ten keys, @keypressed runs ten times.\nContrast this behaviour with main: function main runs immediately after you\nstart the script and it runs only once."]}),"\n",(0,o.jsxs)(n.p,{children:["It is still allowed to add a main function to an event-driven program: the main\nfunction will then serve for one-time initialization. A simple addition to this\nexample program is to add a main function, in order to clear the",(0,o.jsx)(n.br,{}),"\n","console/\nterminal window on entry and perhaps set the initial position of the \u201Cturtle\u201D\nto the centre."]}),"\n",(0,o.jsx)(n.p,{children:"Support for function keys and other special keys (e.g. the arrow keys) is highly\nsystem-dependent. On ANSI terminals, these keys produce different codes\nthan in a Windows \u201CDOS box\u201D."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"In the spirit of keeping the example program\nportable, I have used common letters (\u201Cu\u201D for up, \u201Cl\u201D for left, etc.). This\ndoes not mean, however, that special keys are beyond pawn\u2019s capabilities."}),"\n",(0,o.jsxs)(n.p,{children:["In the \u201Cturtle\u201D script, the \u201CEscape\u201D key terminates the host application through\nthe instruction exit. For a simple pawn run-time host, this will indeed work.\nWith host applications where the script is an add-on, or",(0,o.jsx)(n.br,{}),"\n","host-applications"]}),"\n",(0,o.jsx)(n.p,{children:"that are embedded in a device, the script usually cannot terminate the host application."}),"\n",(0,o.jsx)(n.h3,{id:"-m\xfaltiplos-eventos",children:"\u2022 M\xfaltiplos eventos"}),"\n",(0,o.jsx)(n.p,{children:"As vantagens do modelo dirigido a eventos para construir programas reativos ficam claras quando h\xe1 diversos eventos. Na pr\xe1tica, ele s\xf3 faz sentido se houver mais de um ponto de entrada; se seu script lida com apenas um evento, um loop de polling seria suficiente. Quanto mais eventos precisamos tratar, mais dif\xedcil fica usar o modelo linear. O script a seguir implementa um chat bem simples com dois eventos: envio e recebimento. Ele permite que usu\xe1rios em rede (ou outro meio) troquem mensagens de uma linha."}),"\n",(0,o.jsx)(n.p,{children:"O script depende de a aplica\xe7\xe3o hospedeira fornecer fun\xe7\xf5es nativas/p\xfablicas para enviar e receber datagramas e reagir a teclas digitadas. O m\xe9todo de envio (serial, TCP/IP etc.) fica a cargo do host. As ferramentas da distribui\xe7\xe3o padr\xe3o do pawn usam TCP/IP e permitem um modo de \u201Cbroadcast\u201D para que mais de duas pessoas conversem."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Listing: chat.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n#include <datagram>\n\n@receivestring(const message[], const source[])\nprintf "[%s] says: %s\\n", source, message\n\n@keypressed(key)\n{\n    static string[100 char]\n    static index\n\n    if (key == \u2019\\e\u2019)\n        exit /* quit on \u2019Esc\u2019 key */\n\n    echo key\n\n    if (key == \u2019\\r\u2019 || key == \u2019\\n\u2019 || index char == sizeof string)\n    {\n        string{index} = \u2019\\0\u2019 /* terminate string */\n        sendstring string\n\n        index = 0\n        string[index] = \u2019\\0\u2019\n    }\n    else\n        string{index++} = key\n}\n\necho(key)\n{\n    new string[2 char] = { 0 }\n    string{0} = key == \u2019\\r\u2019 ? \u2019\\n\u2019 : key\n    printf string\n}\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Grande parte do script se ocupa de juntar os caracteres digitados em uma string e envi\xe1-la quando o usu\xe1rio pressiona Enter. A tecla Escape encerra o programa. A fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"echo"})," gera um feedback visual do que \xe9 digitado: monta uma string com terminador zero a partir da tecla e a imprime."]}),"\n",(0,o.jsx)(n.p,{children:"Apesar da simplicidade, o script demonstra uma caracter\xedstica interessante: n\xe3o h\xe1 ordem r\xedgida para enviar ou receber mensagens \u2014n\xe3o existe o esquema pergunta\u2013resposta em que cada host \u201Cespera a vez\u201D. Uma mensagem pode chegar enquanto o usu\xe1rio ainda est\xe1 digitando.\u2217"}),"\n",(0,o.jsx)(n.h3,{id:"-programa\xe7\xe3o-com-estados",children:"\u2022 Programa\xe7\xe3o com estados"}),"\n",(0,o.jsx)(n.p,{children:"Em um programa dirigido a eventos, cada evento chega isoladamente e recebe uma resposta isolada. \xc0s vezes, por\xe9m, um evento faz parte de um fluxo sequencial que deve ser tratado na ordem correta. Protocolos de transfer\xeancia de dados em linhas seriais s\xe3o um exemplo: cada evento pode carregar um comando, um peda\xe7o de arquivo, um reconhecimento ou outro sinal do protocolo."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h6,{id:"-as-this-script-makes-no-attempt-to-separate-received-messages-from-typed-messages-for-example-in-two-different-scrollable-regions-the-terminalconsole-will-look-confusing-when-this-happens-with-an-improved-user-interface-this-simple-script-could-indeed-be-a-nice-message-base-chat-program",children:"\u2217 As this script makes no attempt to separate received messages from typed messages (for example, in two different scrollable regions), the terminal/console will look confusing when this happens. With an improved user-interface, this simple script could indeed be a nice message-base chat program"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Para que esse fluxo fa\xe7a sentido, o programa precisa seguir um protocolo rigoroso de \u201Chandshake\u201D. Isso significa que ele deve reagir a cada evento considerando o hist\xf3rico recente de eventos anteriores e as respostas enviadas. Ou seja, o tratamento de um evento pode definir a \u201Ccondi\xe7\xe3o\u201D ou \u201Ccontexto\u201D em que os pr\xf3ximos ser\xe3o processados."}),"\n",(0,o.jsx)(n.p,{children:"Uma abstra\xe7\xe3o simples e eficaz para construir sistemas reativos que seguem protocolos parcialmente sequenciais \xe9 o aut\xf4mato ou m\xe1quina de estados. Como o n\xfamero de estados costuma ser finito, falamos em M\xe1quinas de Estados Finitos (MEF). No aut\xf4mato, o contexto do evento \xe9 o estado atual. Um mesmo evento pode ser tratado de maneiras diferentes dependendo desse estado e, em resposta, o aut\xf4mato pode mudar para outro estado \u2014essa mudan\xe7a \xe9 chamada transi\xe7\xe3o."}),"\n",(0,o.jsx)(n.p,{children:"Aut\xf4matos s\xe3o comuns tanto em software quanto em dispositivos mec\xe2nicos (o tear de Jacquard \xe9 um exemplo cl\xe1ssico). Com um n\xfamero finito de estados, s\xe3o determin\xedsticos (comportamento previs\xedvel) e f\xe1ceis de implementar a partir de um diagrama de estados."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://i.ibb.co/k3kWVvy/image.png",alt:"State diagram"})}),"\n",(0,o.jsxs)(n.p,{children:["In a state diagram, the states are usually represented as circles or",(0,o.jsx)(n.br,{}),"\n","rounded rectangles and the arrows represent the transitions. As transitions are\nthe response of the automaton to events, an arrow may also be seen as an event \u201Cthat does something\u201D."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"An event/transition that is not defined in a particular\nstate is assumed to have no effect \u2014it is silently ignored. A filled dot\nrepresents the entry state, which your program (or the host application) must set in start-\nup. It is common to omit in a state diagram all event arrows that drop back\ninto the same state, but here I have chosen to make the response to all events explicit."}),"\n",(0,o.jsxs)(n.p,{children:["O diagrama acima corresponde \xe0 an\xe1lise de coment\xe1rios iniciados por ",(0,o.jsx)(n.code,{children:"/*"})," e terminados em ",(0,o.jsx)(n.code,{children:"*/"}),". H\xe1 estados para texto normal, para texto dentro do coment\xe1rio e dois estados intermedi\xe1rios para entrada e sa\xedda. O aut\xf4mato foi pensado para processar caracteres digitados pelo usu\xe1rio, ent\xe3o reage apenas a eventos de tecla. Na pr\xe1tica h\xe1 um \xfanico evento (\u201Ctecla pressionada\u201D); as transi\xe7\xf5es dependem do par\xe2metro (a pr\xf3pria tecla)."]}),"\n",(0,o.jsx)(n.p,{children:"Pawn oferece suporte nativo a aut\xf4matos e estados. Cada fun\xe7\xe3o\u2217 pode ter um ou mais estados associados. A linguagem tamb\xe9m permite m\xfaltiplos aut\xf4matos, e cada estado pertence a um aut\xf4mato espec\xedfico."}),"\n",(0,o.jsx)(n.p,{children:"O script abaixo implementa o diagrama descrito (usando um aut\xf4mato an\xf4nimo). Para destacar o texto normal dos coment\xe1rios, cada tipo recebe uma cor diferente."}),"\n",(0,o.jsx)(n.p,{children:"Listing: comment.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/* parse C comments interactively, using events and a state machine */\n\nmain()\n    state plain\n\n@keypressed(key) <plain>\n{\n    state (key == \u2019/\u2019) slash\n    if (key != \u2019/\u2019)\n        echo key\n}\n\n@keypressed(key) <slash>\n{\n    state (key != \u2019/\u2019) plain\n    state (key == \u2019/*\u2019) comment\n    echo \u2019/\u2019    /* print \u2019/\u2019 held back from previous state */\n    if (key != \u2019/\u2019)\n        echo key\n}\n\n@keypressed(key) <comment>\n{\n    echo key\n    state (key == \u2019/*\u2019) star\n}\n\n@keypressed(key) <star>\n{\n    echo key\n    state (key != \u2019/*\u2019) comment\n    state (key == \u2019/\u2019) plain\n}\n\necho(key) <plain, slash>\n    printchar key, yellow\n\necho(key) <comment, star>\n    printchar key, green\n\nprintchar(ch, colour)\n{\n    setattr .foreground = colour\n    printf "%c", ch\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h6,{id:"-with-the-exception-of-native-functions-and-user-defined-operators",children:"\u2217 With the exception of \u201Cnative functions\u201D and user-defined operators."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"main"})," define o estado inicial como ",(0,o.jsx)(n.code,{children:"plain"})," e termina; toda a l\xf3gica \xe9 dirigida a eventos. Quando uma tecla chega no estado ",(0,o.jsx)(n.code,{children:"plain"}),", verificamos se \xe9 uma barra e, dependendo disso, imprimimos ou n\xe3o o caractere. A intera\xe7\xe3o entre os estados ",(0,o.jsx)(n.code,{children:"plain"})," e ",(0,o.jsx)(n.code,{children:"slash"})," mostra uma caracter\xedstica t\xedpica dos aut\xf4matos: \xe9 preciso decidir como reagir no momento em que o evento acontece, sem \u201Colhar \xe0 frente\u201D nem desfazer respostas anteriores. Em sistemas dirigidos a eventos, geralmente n\xe3o sabemos qual ser\xe1 o pr\xf3ximo evento nem quando vir\xe1, e o que fizermos agora dificilmente poder\xe1 ser anulado depois."]}),"\n",(0,o.jsxs)(n.p,{children:["Neste caso, quando uma barra chega, ela ",(0,o.jsx)(n.strong,{children:"pode"})," indicar o in\xedcio de um coment\xe1rio (",(0,o.jsx)(n.code,{children:"/*"}),"), mas n\xe3o necessariamente. N\xe3o d\xe1 para decidir de imediato em que cor imprimir o caractere, ent\xe3o o mantemos \u201Cem espera\u201D. Note que n\xe3o declaramos nenhuma vari\xe1vel global para isso; na verdade, al\xe9m dos par\xe2metros, n\xe3o h\xe1 vari\xe1veis declaradas. A informa\xe7\xe3o de que h\xe1 um caractere pendente est\xe1 impl\xedcita no estado do aut\xf4mato."]}),"\n",(0,o.jsxs)(n.p,{children:["Como mostra o script, mudan\xe7as de estado podem ser condicionais. A condi\xe7\xe3o \xe9 opcional, e tamb\xe9m podemos usar ",(0,o.jsx)(n.code,{children:"if/else"})," tradicionais para alter\xe1-los."]}),"\n",(0,o.jsxs)(n.p,{children:["A depend\xeancia de estado n\xe3o se restringe \xe0s fun\xe7\xf5es de evento. Outras fun\xe7\xf5es podem declarar estados, como ",(0,o.jsx)(n.code,{children:"echo"})," faz. Quando v\xe1rias situa\xe7\xf5es compartilham a mesma implementa\xe7\xe3o, basta escrever uma fun\xe7\xe3o e listar todos os estados aplic\xe1veis. Em ",(0,o.jsx)(n.code,{children:"echo"})," existem duas vers\xf5es para cobrir os quatro estados.\u2020"]}),"\n",(0,o.jsxs)(n.p,{children:["Um aut\xf4mato deve estar preparado para tratar todos os eventos em qualquer estado. Normalmente ele n\xe3o controla quais eventos chegam nem quando, portanto ignor\xe1-los em certo estado pode levar a falhas. Muitas vezes alguns eventos fazem sentido somente em poucos estados e, nos demais, deveriam disparar erros ou uma rotina de \u201Creset\u201D. Para evitar listar manualmente todos os estados inv\xe1lidos, podemos omitir o conte\xfado entre os colchetes angulares: assim, a fun\xe7\xe3o atende a todos os estados que n\xe3o t\xeam implementa\xe7\xe3o espec\xedfica. Por exemplo, poder\xedamos declarar ",(0,o.jsx)(n.code,{children:"echo(key) <>"})," em vez de listar explicitamente cada estado (mas apenas em uma das implementa\xe7\xf5es)."]}),"\n",(0,o.jsxs)(n.p,{children:["Existe um aut\xf4mato an\xf4nimo predefinido. Se o programa contiver mais de um, precisamos mencionar seu nome tanto no qualificador quanto no comando ",(0,o.jsx)(n.code,{children:"state"}),". Basta colocar o nome do aut\xf4mato antes do estado, separados por ",(0,o.jsx)(n.code,{children:":"})," \u2014por exemplo, ",(0,o.jsx)(n.code,{children:"parser:slash"})," refere-se ao estado ",(0,o.jsx)(n.code,{children:"slash"})," do aut\xf4mato ",(0,o.jsx)(n.code,{children:"parser"}),". Uma fun\xe7\xe3o s\xf3 pode pertencer a um aut\xf4mato; podemos reutilizar a mesma implementa\xe7\xe3o em v\xe1rios estados desse aut\xf4mato, mas n\xe3o em estados de aut\xf4matos diferentes."]}),"\n",(0,o.jsxs)(n.h3,{id:"-fun\xe7\xf5es-entry-e-teoria-de-aut\xf4matos",children:["\u2022 Fun\xe7\xf5es ",(0,o.jsx)(n.code,{children:"entry"})," e teoria de aut\xf4matos"]}),"\n",(0,o.jsx)(n.p,{children:"As m\xe1quinas de estados e a pr\xf3pria teoria dos aut\xf4matos t\xeam origem no design mec\xe2nico e em circuitos el\xe9tricos/pneum\xe1ticos de comuta\xe7\xe3o (com rel\xe9s, n\xe3o transistores). Exemplos t\xedpicos s\xe3o aceitadores de moedas, sem\xe1foros e centrais de comunica\xe7\xe3o. Nesses sistemas, robustez e previsibilidade s\xe3o fundamentais, e descobriu-se que esses objetivos s\xe3o alcan\xe7ados com mais facilidade quando as a\xe7\xf5es (sa\xeddas) est\xe3o ligadas aos estados em vez dos eventos (entradas)."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h6,{id:"-a-function-that-has-the-same-implementation-for-all-states-does-not-need-a-state-classifierat-all-see-printchar",children:"* A function that has the same implementation for all states, does not need a state classifierat all \u2014see printchar."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://i.ibb.co/PYnBGS9/image.png",alt:"pcl"})}),"\n",(0,o.jsx)(n.h6,{id:"figure-1-pedestrian-crossing-lights",children:"Figure 1: Pedestrian crossing lights"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Ao entrar em um estado, opcionalmente realizamos alguma a\xe7\xe3o; os eventos apenas provocam a mudan\xe7a de estado, mas n\xe3o executam opera\xe7\xf5es por conta pr\xf3pria."}),"\n",(0,o.jsx)(n.p,{children:"Em um sem\xe1foro para pedestres, as luzes dos ve\xedculos e dos pedestres precisam ficar sincronizadas. Certamente, exibir verde para os carros e \u201Candar\u201D para os pedestres seria desastroso \u2014o mesmo vale para amarelo/andar. Restam quatro combina\xe7\xf5es poss\xedveis. O diagrama a seguir descreve o processo: tudo come\xe7a com um bot\xe3o e \xe9 controlado por temporizadores."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://i.ibb.co/9wNR3ry/image.png",alt:"pcl"})}),"\n",(0,o.jsxs)(n.p,{children:["When the state red/walk times out, the state cannot immediately go back to\ngreen/wait, because the pedestrians that are busy crossing the road at",(0,o.jsx)(n.br,{}),"\n","that moment need some time to clear the road \u2014the state red/wait\nallows for this."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Para fins de demonstra\xe7\xe3o, este sem\xe1foro tem um extra: se o pedestre aperta o bot\xe3o enquanto a luz j\xe1 est\xe1 vermelha para os carros, o tempo de travessia \xe9 prolongado. Ou seja, se estamos em ",(0,o.jsx)(n.code,{children:"red/wait"})," e algu\xe9m pressiona o bot\xe3o, voltamos para ",(0,o.jsx)(n.code,{children:"red/walk"}),". A caixa que envolve esses estados no diagrama \xe9 apenas uma conven\xe7\xe3o visual; poder\xedamos ter desenhado duas setas voltando a ",(0,o.jsx)(n.code,{children:"red/walk"}),". O c\xf3digo abaixo segue a mesma conven\xe7\xe3o."]}),"\n",(0,o.jsx)(n.p,{children:"Na implementa\xe7\xe3o em pawn, as fun\xe7\xf5es de evento sempre t\xeam uma \xfanica instru\xe7\xe3o: ou mudam de estado ou n\xe3o fazem nada. Os eventos que n\xe3o provocam mudan\xe7as n\xe3o aparecem no diagrama, mas precisam ser tratados no script \u2014da\xed as fun\xe7\xf5es \u201Cfallback\u201D vazias."}),"\n",(0,o.jsxs)(n.p,{children:["A sa\xedda (neste caso, apenas mensagens no console) \xe9 feita nas fun\xe7\xf5es especiais ",(0,o.jsx)(n.code,{children:"entry"}),". Podemos v\xea-las como \u201Cmain\u201D de cada estado: s\xe3o chamadas automaticamente quando o estado correspondente \xe9 ativado. Note que elas tamb\xe9m s\xe3o executadas em reentradas, ou seja, quando mudamos para o mesmo estado em que j\xe1 est\xe1vamos."]}),"\n",(0,o.jsx)(n.p,{children:"Listing: traffic.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/* traffic light synchronizer, using states in an event-driven model */\n#include <time>\n\nmain()                     state green_wait\n\n@keypressed(key) <green_wait>         state yellow_wait\n@keypressed(key) <red_walk, red_wait>     state red_walk\n@keypressed(key) <>             {} /* fallback */\n\n@timer() <yellow_wait>            state red_walk\n@timer() <red_walk>             state red_wait\n@timer() <red_wait>             state green_wait\n@timer() <>                 {} /* fallback */\n\nentry() <green_wait>\n    print "Green / Don\u2019t walk\\n"\n\nentry() <yellow_wait>\n{\n    print "Yellow / Don\u2019t walk\\n"\n    settimer 2000\n}\n\nentry() <red_walk>\n{\n    print "Red / Walk\\n"\n    settimer 5000\n}\n\nentry() <red_wait>\n{\n    print "Red / Don\u2019t walk\\n"\n    settimer 2000\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Este exemplo depende de mais um recurso da aplica\xe7\xe3o hospedeira: al\xe9m de ",(0,o.jsx)(n.code,{children:"@keypressed"}),", precisamos de um evento ",(0,o.jsx)(n.code,{children:"@timer"})," configur\xe1vel. Por isso o script inclui o arquivo ",(0,o.jsx)(n.code,{children:"time.inc"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["As fun\xe7\xf5es de evento com mudan\xe7as de estado est\xe3o no topo do arquivo, uma por linha, lembrando uma tabela. Neste caso s\xe3o todas incondicionais, mas poder\xedamos adicionar condi\xe7\xf5es. As fun\xe7\xf5es ",(0,o.jsx)(n.code,{children:"entry"})," v\xeam depois."]}),"\n",(0,o.jsxs)(n.p,{children:["Existem duas transi\xe7\xf5es para ",(0,o.jsx)(n.code,{children:"red_walk"})," (ou tr\xeas, se considerarmos que uma fun\xe7\xe3o atende mais de um estado): provenientes de ",(0,o.jsx)(n.code,{children:"yellow_wait"})," e da combina\xe7\xe3o ",(0,o.jsx)(n.code,{children:"red_walk/red_wait"}),". Todas passam pela mesma fun\xe7\xe3o ",(0,o.jsx)(n.code,{children:"entry"}),", reduzindo c\xf3digo."]}),"\n",(0,o.jsx)(n.p,{children:"Na teoria, um aut\xf4mato que associa sa\xeddas \xe0s entradas nos estados (como este sem\xe1foro) \xe9 um aut\xf4mato de Moore; quando a sa\xedda est\xe1 ligada aos eventos/transi\xe7\xf5es dependentes de estado, falamos em aut\xf4mato de Mealy. O analisador de coment\xe1rios mostrado antes \xe9 t\xedpico Mealy. Os dois modelos s\xe3o equivalentes: podemos converter um Mealy em Moore e vice-versa, embora o Moore, \xe0s vezes, precise de mais estados para o mesmo comportamento. Na pr\xe1tica, costuma-se misturar: um design geral no estilo Moore com alguns estados Mealy quando isso economiza estados."}),"\n",(0,o.jsx)(n.p,{children:"\u2022 State variables"}),"\n",(0,o.jsxs)(n.p,{children:["The previous example was crafted to demonstrate a few properties of",(0,o.jsx)(n.br,{}),"\n","state programming with pawn, but its model of a pedestrian crossing light is not"]}),"\n",(0,o.jsx)(n.p,{children:"very realistic. The first thing that is lacking is a degree of fairness : pedestrians\nshould not be able to block car traffic indefinitly. The car traffic should\nsee a green light for a period of some minimum duration after pedestrians have had\ntheir time slot for crossing the road. Secondly, many traffic lights have a kind\nof remote control ability, so that emergency traffic (ambulance, firetruck, . . . )\ncan force green lights on their path. A well-known example of such remote"}),"\n",(0,o.jsx)(n.p,{children:"control is the mirt system (Mobile Infra-Red Transmitter) but not de facto\nstandard exists \u2014the Netherlands use a radiographic system called vetag for\ninstance."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"The new state diagram for the pedestrian crossing light has two more states,\nbut more importantly: it needs to save data across events and share it between\nstates. When the pedestrian presses the button while the state is red_wait, we\nneither want to react on the button immediately (this was our \u201Cfairness rule\u201D),\nnor the button to be ignored or \u201Cforgotten\u201D. In other words, we move to the\nstate green_wait_interim regardless of the button press, but memorize the\npress for a decision made at the point of leaving state green_wait_interim."}),"\n",(0,o.jsxs)(n.p,{children:["Automatons excel in modelling control flow in reactive/interactive\nsystems, but data flow has traditionally been a weak point. To see why, consider that\neach event is handled individually by a function and that the local variables in\nthat function disappear when the function returns. Local variables can, hence,\nnot be used to pass data from one event to the next. Global variables, while\nproviding a work-around, have drawbacks: global scope and and",(0,o.jsx)(n.br,{}),"\n","\u201Ceternal\u201D lifespan. If a variable is used only in the event handlers of a single state,\nit is desirable to hide it from the other states, in order to protect it from\naccidental modification. Likewise, shortening the lifespan to the state(s) that the\nvariable is active in, reduces the memory footprint. \u201CState variables\u201D provide\nthis mix of variable scope and variable lifespan that are tied to a series of states,\nrather than to functions or modules."]}),"\n",(0,o.jsxs)(n.p,{children:["pawn enriches the standard finite state machine (or automaton) with variables\nthat are declared with a state classifier. These variables are only\naccessible from the listed states and the memory these variable hold may be",(0,o.jsx)(n.br,{}),"\n","reused by other purposes while the automaton is in a different state (different than\nthe ones listed). Apart from the state classifier, the declaration of a state"]}),"\n",(0,o.jsx)(n.p,{children:"variable is similar to that of a global variable. The declaration of the\nvariable button_memo in the next listing illustrates the concept."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Listing: traffic2.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/* a more realistic traffic light synchronizer, including an\n * "override" for emergency vehicles\n */\n\n#include <time>\n\nmain()\n    state green_wait_interim\n\nnew bool: button_memo <red_wait, green_wait_interim, yellow_wait>\n\n@keypressed(key)\n{\n    switch (key)\n    {\n        case \u2019 \u2019: button_press\n        case \u2019/*\u2019: mirt_detect\n    }\n}\n\nbutton_press() <green_wait>\n    state yellow_wait\n\nbutton_press() <red_wait, green_wait_interim>\n    button_memo = true\n\nbutton_press() <>         /* fallback */\n    {}\n\nmirt_detect()\n    state mirt_override\n\n@timer() <yellow_wait>\n    state red_walk\n\n@timer() <red_walk>\n    state red_wait\n\n@timer() <red_wait>\n    state green_wait_interim\n\n@timer() <green_wait_interim>\n{\n    state (!button_memo) green_wait\n    state (button_memo) yellow_wait\n}\n\n@timer() <mirt_override>\n    state green_wait\n\n@timer() <>             /* fallback */\n    {}\n\nentry() <green_wait_interim>\n{\n    print "Green / Don\u2019t walk\\n"\n    settimer 5000\n}\n\nentry() <yellow_wait>\n{\n    print "Yellow / Don\u2019t walk\\n"\n    button_memo = false\n    settimer 2000\n}\n\nentry() <red_walk>\n{\n    print "Red / Walk\\n"\n    settimer 5000\n}\n\nentry() <red_wait>\n{\n    print "Red / Don\u2019t walk\\n"\n    settimer 2000\n}\n\nentry() <mirt_override>\n{\n    print "Green / Don\u2019t walk\\n"\n    settimer 5000\n}\n\n'})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["If a pedestrian pushes the button during mirt activity, that button press\nis\nforgotten. Unless emergencies are a frequent occurence, this is",(0,o.jsx)(n.br,{}),"\n","probably a\nminor nuisance; and it is easy to fix, too."]}),"\n",(0,o.jsx)(n.p,{children:"\u2022 State programming wrap-up"}),"\n",(0,o.jsx)(n.p,{children:"States are ubiquitous, even if we do not always recognize them as such. The\nconcept of finite state machines has traditionally been applied mostly to pro-"}),"\n",(0,o.jsx)(n.p,{children:"grams mimicking mechanical apparatus and software that implements commu-\nnication protocols. With the appearance of event-driven windowing systems,\nstate machines now also appear in the GUI design of desktop programs. States\nEsses casos abundam em aplica\xe7\xf5es web, porque o navegador e o host de scripts t\xeam pouca integra\xe7\xe3o; ainda assim, a m\xe1quina de estados nesses contextos costuma ser implementada \u201Cno improviso\u201D."}),"\n",(0,o.jsx)(n.p,{children:"Tamb\xe9m \xe9 poss\xedvel enxergar estados em problemas e charadas conhecidas. No enigma do homem que precisa atravessar um rio levando um repolho, uma ovelha e um lobo\u2217, os estados s\xe3o \xf3bvios \u2014o desafio \xe9 evitar os proibidos. Mas, agora que estamos identificando estados em todo lugar, o cuidado \xe9 n\xe3o exagerar."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["No segundo exemplo do sem\xe1foro para pedestres (p\xe1gina 47), usei uma vari\xe1vel (",(0,o.jsx)(n.code,{children:"button_memo"}),") para guardar um crit\xe9rio que seria usado mais tarde. Seria poss\xedvel eliminar essa vari\xe1vel criando dois estados extras, como \u201Cred-wait & bot\xe3o pressionado\u201D e \u201Cgreen-wait-interim & bot\xe3o pressionado\u201D. Por\xe9m, isso deixaria o diagrama e a implementa\xe7\xe3o mais complexos. Em geral, o n\xfamero de estados deve ser mantido pequeno."]}),"\n",(0,o.jsx)(n.p,{children:"Embora aut\xf4matos sejam uma boa abstra\xe7\xe3o para sistemas reativos, construir o diagrama correto n\xe3o \xe9 trivial. Com frequ\xeancia desenhamos primeiro o \u201Ccen\xe1rio perfeito\u201D e vamos adicionando exce\xe7\xf5es conforme aparecem, o que aumenta o risco de esquecer combina\xe7\xf5es de estado + evento. J\xe1 vi dois diagramas de analisador de coment\xe1rios (como o da p\xe1gina 40) em livros diferentes que falhavam exatamente por isso. Minha sugest\xe3o \xe9 focar nos eventos e nas respostas individuais: para cada estado, avalie todos os eventos. N\xe3o empurre casos demais para um \u201Cfallback\u201D gen\xe9rico."}),"\n",(0,o.jsxs)(n.p,{children:["Infelizmente, virou pr\xe1tica apresentar a teoria de aut\xf4matos com exemplos em que h\xe1 solu\xe7\xf5es melhores. O cl\xe1ssico \xe9 o aut\xf4mato que soma o valor de moedas ou calcula o resto da divis\xe3o por 3 de um n\xfamero bin\xe1rio. Esses casos at\xe9 faziam sentido em designs mec\xe2nicos/pneum\xe1ticos, onde o \u201Cestado\u201D era a \xfanica mem\xf3ria. Em software, vari\xe1veis e opera\xe7\xf5es aritm\xe9ticas resolvem melhor. Outro exemplo \xe9 usar uma m\xe1quina de estados para casar palavras ou padr\xf5es, mudando de estado a cada letra. Scanners l\xe9xicos de compiladores at\xe9 podem usar a t\xe9cnica, mas para um conjunto razo\xe1vel de palavras reservadas o aut\xf4mato fica impratic\xe1vel \u2014ningu\xe9m o desenharia \xe0 m\xe3o. Al\xe9m disso, nada impede que um analisador l\xe9xico olhe adiante no texto ou retorne a um marcador, um dos motivos de usar aut\xf4matos. Sem contar que estruturas como ",(0,o.jsx)(n.code,{children:"tries"})," costumam ser mais simples e t\xe3o r\xe1pidas quanto."]}),"\n",(0,o.jsxs)(n.p,{children:["N\xe3o entrei nos detalhes formais da nota\xe7\xe3o dos diagramas, at\xe9 porque ela segue o padr\xe3o usual: o ret\xe2ngulo arredondado traz o nome do estado e, se necess\xe1rio, um resumo do que a ",(0,o.jsx)(n.code,{children:"entry"})," faz; cada transi\xe7\xe3o \xe9 uma seta com o nome do evento, uma condi\xe7\xe3o opcional entre colchetes e uma a\xe7\xe3o opcional ap\xf3s uma barra."]}),"\n",(0,o.jsx)(n.h3,{id:"-verifica\xe7\xe3o-de-programas",children:"\u2022 Verifica\xe7\xe3o de programas"}),"\n",(0,o.jsx)(n.p,{children:"\u201CO compilador n\xe3o deveria pegar todos os bugs?\u201D Essa pergunta ret\xf3rica tem lados t\xe9cnicos e filos\xf3ficos. Deixando a filosofia de lado, existe um equil\xedbrio entre a expressividade de uma linguagem e o n\xedvel de corre\xe7\xe3o \u201Cfor\xe7ada\u201D (ou prov\xe1vel) dos programas escritos nela. Restringir demais o idioma n\xe3o \xe9 solu\xe7\xe3o quando o trabalho extrapola o tamanho de um exerc\xedcio simples: o programador passa a lutar contra a linguagem, quando o foco deveria ser o problema."}),"\n",(0,o.jsx)(n.p,{children:"O objetivo do pawn \xe9 oferecer um mecanismo informal e pr\xe1tico para testar se o programa se comporta como o esperado. Esse mecanismo s\xe3o as \u201Cassertions\u201D. Embora anteriores ao \u201Cdesign by contract\u201D, elas s\xe3o mais f\xe1ceis de explicar com base nessa ideia."}),"\n",(0,o.jsx)(n.p,{children:"No paradigma de design por contrato, cada fun\xe7\xe3o declara as condi\xe7\xf5es que devem ser verdadeiras antes de ser executada (pr\xe9-condi\xe7\xf5es), e aquelas que devem ser verdadeirase ao terminar (p\xf3s-condi\xe7\xf5es). Isso forma o \u201Ccontrato\u201D da fun\xe7\xe3o. Parte-se do princ\xedpio de que o programador conhece o problema, o ambiente e os requisitos."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Bertrand Meyer cunhou o termo \u201Cdesign by contract\u201D, inspirado na l\xf3gica de predicados e na an\xe1lise de algoritmos. Em resumo:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Pr\xe9-condi\xe7\xf5es"})," definem valores v\xe1lidos para par\xe2metros de entrada e atributos do ambiente;"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"P\xf3s-condi\xe7\xf5es"})," descrevem a sa\xedda (e o ambiente) ap\xf3s a execu\xe7\xe3o;"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Invariantes"})," s\xe3o condi\xe7\xf5es que devem ser verdadeiras em pontos-chave da fun\xe7\xe3o, independentemente do caminho percorrido."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Por exemplo, uma fun\xe7\xe3o que calcula ra\xedzes quadradas pode exigir que o par\xe2metro seja n\xe3o negativo \u2014pr\xe9-condi\xe7\xe3o. Pode ainda afirmar que o resultado, ao ser elevado ao quadrado, difere da entrada em no m\xe1ximo 0,01% \u2014p\xf3s-condi\xe7\xe3o. Se calculada via \u201Cbisse\xe7\xe3o\u201D, cada itera\xe7\xe3o garante ao menos um bit adicional de precis\xe3o, o que seria um invariante (embora dif\xedcil de verificar)."}),"\n",(0,o.jsxs)(n.p,{children:["Pr\xe9-condi\xe7\xf5es, p\xf3s-condi\xe7\xf5es e invariantes s\xe3o testes cujo fracasso indica erro na implementa\xe7\xe3o. Em pawn, todos podem ser expressos com ",(0,o.jsx)(n.code,{children:"assert"}),". Coloque as pr\xe9-condi\xe7\xf5es no in\xedcio da fun\xe7\xe3o; invariantes nos pontos relevantes; p\xf3s-condi\xe7\xf5es antes de cada ",(0,o.jsx)(n.code,{children:"return"})," ou no final."]}),"\n",(0,o.jsxs)(n.p,{children:["A instru\xe7\xe3o ",(0,o.jsx)(n.code,{children:"assert"})," avalia uma express\xe3o: se o resultado for verdadeiro, nada acontece; se for falso, o programa termina exibindo detalhes sobre a asser\xe7\xe3o que falhou."]}),"\n",(0,o.jsxs)(n.p,{children:["Asser\xe7\xf5es s\xe3o verifica\xe7\xf5es que n\xe3o deveriam falhar. Erros genu\xednos (como entrada inv\xe1lida do usu\xe1rio) merecem testes expl\xedcitos, n\xe3o ",(0,o.jsx)(n.code,{children:"assert"}),". Em geral, mantenha as express\xf5es em ",(0,o.jsx)(n.code,{children:"assert"})," sem efeitos colaterais \u2014n\xe3o escreva ali c\xf3digo essencial ao funcionamento."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Example square root funczion (usin bisection): 79"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["Claro que, em um programa sem bugs, as asser\xe7\xf5es nunca ser\xe3o disparadas \u2014o que aumenta o c\xf3digo sem um benef\xedcio direto. Para contornar, o compilador permite desativar as ",(0,o.jsx)(n.code,{children:"assert"}),"s via flag. A recomenda\xe7\xe3o \xe9 deix\xe1-las ativadas durante o desenvolvimento e gerar a vers\xe3o final sem elas. Assim, basta recompilar para recuper\xe1-las em futuros ajustes."]}),"\n",(0,o.jsxs)(n.p,{children:["Durante manuten\xe7\xe3o (ou at\xe9 no desenvolvimento inicial), se encontrar um defeito n\xe3o detectado por uma ",(0,o.jsx)(n.code,{children:"assert"}),", primeiro pense em qual asser\xe7\xe3o teria flagrado o erro. Adicione-a e verifique se realmente acusa o problema antes de corrigi-lo. Aos poucos, o c\xf3digo fica mais robusto."]}),"\n",(0,o.jsx)(n.h3,{id:"-coment\xe1rios-de-documenta\xe7\xe3o",children:"\u2022 Coment\xe1rios de documenta\xe7\xe3o"}),"\n",(0,o.jsx)(n.p,{children:"\xc0 medida que o programa cresce, documentar fun\xe7\xf5es e m\xf3dulos fica essencial, especialmente em equipes. As ferramentas do pawn ajudam a gerar documenta\xe7\xe3o a partir dos coment\xe1rios do c\xf3digo. Isso mant\xe9m o texto sincronizado com o programa, reaproveita os coment\xe1rios como documenta\xe7\xe3o e permite que o parser gere descri\xe7\xf5es e refer\xeancias cruzadas."}),"\n",(0,o.jsxs)(n.p,{children:["Coment\xe1rios que come\xe7am com tr\xeas barras (",(0,o.jsx)(n.code,{children:"///"}),") seguidas de espa\xe7o, ou com ",(0,o.jsx)(n.code,{children:"/**"})," seguidos de espa\xe7o, s\xe3o tratados como documenta\xe7\xe3o. O compilador pode extrair esses coment\xe1rios e grav\xe1-los em um arquivo de relat\xf3rio (veja o ap\xeandice B para habilitar)."]}),"\n",(0,o.jsxs)(n.p,{children:["Observa\xe7\xe3o: coment\xe1rios iniciados por ",(0,o.jsx)(n.code,{children:"/*"})," continuam precisando de ",(0,o.jsx)(n.code,{children:"*/"}),". Coment\xe1rios de linha (",(0,o.jsx)(n.code,{children:"///"}),") terminam no fim da linha."]}),"\n",(0,o.jsxs)(n.p,{children:["O relat\xf3rio \xe9 um arquivo XML que pode ser transformado em HTML via XSL/XSLT ou processado por outras ferramentas. O formato \xe9 compat\xedvel com o dos produtos .NET, mas o compilador pawn armazena informa\xe7\xf5es adicionais. O arquivo j\xe1 referencia a folha de estilos ",(0,o.jsx)(n.code,{children:"smalldoc.xsl"}),"."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"Comment syntax: 97"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["The example below illustrates documentation comments in a simple script that\nhas a few functions. You may write documentation comments for a function\nabove its declaration or in its body. All documentation comments that appear\nbefore the end of the function are attributed to the function. You can",(0,o.jsx)(n.br,{}),"\n","also\nadd documentation comments to global variables and global constants \u2014these\ncomments must appear above the declaration of the variable or constant. Fig-\nure 2 shows part of the output for this (rather long) example. The style\nof the\noutput is adjustable in the cascading style sheet (CSS-file) associated with the\nXSLT transformation file."]}),"\n",(0,o.jsx)(n.p,{children:"Listing: weekday.p"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-c",children:'\n/**\n\n- This program illustrates Zeller\u2019s congruence algorithm to calculate\n\n- the day of the week given a date.\n\n*/\n\n/**\n\n- <summary>\n\n-        The  main  program:  asks  the  user  to  input  a  date  and  prints\n\n  on\n\n-        what  day  of  the  week  that  date  falls.\n\n- </summary>\n\n*/\nmain()\n{\n    new day, month, year\n    if (readdate(day, month, year))\n    {\n        new wkday = weekday(day, month, year)\n        printf "The date %d-%d-%d falls on a ", day, month, year\n        switch (wkday)\n        {\n            case 0:\n            print "Saturday"\n            case 1:\n            print "Sunday"\n            case 2:\n            print "Monday"\n            case 3:\n            print "Tuesday"\n            case 4:\n            print "Wednesday"\n            case 5:\n            print "Thursday"\n            case 6:\n            print "Friday"\n        }\n    }\n    else\n        print "Invalid date"\n    print "\\n"\n}\n\n/**\n\n- <summary>\n\n-      The  core  function  of  Zeller\u2019s  congruence  algorithm.  The  function\n\n-      works  for  the  Gregorian  calender.\n\n- </summary>\n\n-\n\n- <param  name="day">\n\n-      The  day  in  the  month,  a  value  between  1  and  31.\n\n- </param>\n\n- <param  name="month">\n\n-      The  month:  a  value  between  1  and  12.\n\n- </param>\n\n- <param  name="year">\n\n-      The  year  in  four  digits.\n\n- </param>\n\n-\n\n- <returns>\n\n-      The  day  of  the  week,  where  0  is  Saturday  and  6  is  Friday.\n\n- </returns>\n\n-\n\n- <remarks>\n\n-      This  function  does  not  check  the  validity  of  the  date;  when\n\n  the\n\n-      date  in  the  parameters  is  invalid,  the  returned  "day  of  the\n\n  week"\n\n-      will  hold  an  incorrect  value.\n\n-      <p/>\n\n-      This  equation  fails  in  many  programming  languages,  notably  most\n\n-      implementations  of  C,  C++  and  Pascal,  because  these  languages\n\n  have\n\n-      a  loosely  defined  "remainder"  operator.  Pawn,  on  the  other\n\n  hand,\n\n-      provides  the  true  modulus  operator,  as  defined  in  mathematical\n\n-      theory  and  as  was  intended  by  Zeller.\n\n- </remarks>\n\n*/\n\nweekday(day, month, year)\n{\n/**\n\n- <remarks>\n\n-      For  Zeller\u2019s  congruence  algorithm,  the  months  January  and\n\n-      February  are  the  13th  and  14th  month  of  the  <em>preceding</em>\n\n-      year.  The  idea  is  that  the  "difficult  month"  February  (which\n\n-      has  either  28  or  29  days)  is  moved  to  the  end  of  the  year.\n\n- </remarks>\n\n*/\n\n    if (month <= 2)\n        month += 12, --year\n\n    new j = year % 100\n    new e = year / 100\n    return (day + (month+1)*26/10 + j + j/4 + e/4 - 2*e) % 7\n}\n\n/**\n\n- <summary>\n\n-      Reads  a  date  and  stores  it  in  three  separate  fields.  tata\n\n- </summary>\n\n-\n\n- <param  name="day">\n\n-      Will  hold  the  day  number  upon  return.\n\n- </param>\n\n- <param  name="month">\n\n-      Will  hold  the  month  number  upon  return.\n\n- </param>\n\n- <param  name="year">\n\n-      Will  hold  the  year  number  upon  return.\n\n- </param>\n\n-\n\n- <returns>\n\n-      <em>true</em>  if  the  date  is  valid,  <em>false</em>  otherwise;\n\n-      if  the  function  returns  <em>false</em>,  the  values  of\n\n-      <paramref  name="day"/>,  <paramref  name="month"/>  and\n\n-      <paramref  name="year"/>  cannot  be  relied  upon.\n\n- </returns>\n\n*/\n\nbool: readdate(&day, &month, &year)\n{\n    print "Give a date (dd-mm-yyyy): "\n    day = getvalue(\\_,\u2019-\u2019,\u2019/\u2019)\n    month = getvalue(\\_,\u2019-\u2019,\u2019/\u2019)\n    year = getvalue()\n    return 1 <= month <= 12 && 1 <= day <= daysinmonth(month,year)\n}\n\n/**\n\n- <summary>\n\n-      Returns  whether  a  year  is  a  leap  year.\n\n- </summary>\n\n-\n\n- <param  name="year">\n\n-      The  year  in  4  digits.\n\n- </param>\n\n-\n\n- <remarks>\n\n-      A  year  is  a  leap  year:\n\n-      <ul>\n\n-          <li>  if  it  is  divisable  by  4,  </li>\n\n-          <li>  but  <strong>not</strong>  if  it  is  divisable  by  100,\n\n</li>\n\n-          <li>  but  it  <strong>is</strong>  it  is  divisable  by  400.\n\n</li>\n\n-      </ul>\n\n- </remarks>\n\n*/\n\nbool: isleapyear(year)\n\nreturn year % 400 == 0 || year % 100 != 0 && year % 4 == 0\n\n/**\n\n- <summary>\n\n-      Returns  the  number  of  days  in  a  month  (the  month  is  an\n\n  integer\n\n-      in  the  range  1  ..  12).  One  needs  to  pass  in  the  year  as\n\n  well,\n\n-      because  the  function  takes  leap  years  into  account.\n\n- </summary>\n\n-\n\n- <param  name="month">\n\n-      The  month  number,  a  value  between  1  and  12.\n\n- </param>\n\n- <param  name="year">\n\n-      The  year  in  4  digits.\n\n- </param>\n\n*/\n\ndaysinmonth(month, year)\n{\n    static daylist[] = { 31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31 }\n    assert 1 <= month <= 12\n    return daylist[month-1] + \\_:(month == 2 && isleapyear(year))\n}\n\n'})}),"\n",(0,o.jsxs)(n.p,{children:["The format of the XML file created by \u201C.Net\u201D developer products is",(0,o.jsx)(n.br,{}),"\n","documented in the Microsoft documentation. The pawn parser creates a mini-\nmal description of each function or global variable or constant that is used",(0,o.jsx)(n.br,{}),"\n","in a project, regardless of whether you used documentation comments on that\nfunction/variable/constant. The parser also generates few tags of its own:"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"name"}),(0,o.jsx)(n.th,{children:"info"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"attribute"}),(0,o.jsx)(n.td,{children:"Attributes for a function, such as \u201Cnative\u201D or \u201Cstock\u201D."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"automaton"}),(0,o.jsx)(n.td,{children:"The automaton that the function belongs to (if any)."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"dependency"}),(0,o.jsx)(n.td,{children:"The names of the symbols (other functions, global variables and/global constants) that the function requires. If desired, a call tree can be constructed from the dependencies."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"param"}),(0,o.jsx)(n.td,{children:"Function parameters. When you add a parameter description in a documentation comment, this description is combined with the auto-generated content for the parameter."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"paraminfo"}),(0,o.jsx)(n.td,{children:"Tags and array or reference information on a parameter."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"referrer"}),(0,o.jsx)(n.td,{children:"All functions that refer to this symbol; i.e., all functions that use or call this variable/function. This information is sufficient to serve as a \u201Ccross-reference\u201D \u2014the \u201Creferrer\u201D tree is the inverse of the \u201Cdependency\u201D tree."})]})]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://i.ibb.co/VmQS0fL/image.png",alt:"fig2"})}),"\n",(0,o.jsx)(n.h6,{id:"figure-2-documentation-generated-from-the-source-code",children:"Figure 2: Documentation generated from the source code"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"name"}),(0,o.jsx)(n.th,{children:"info"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"stacksize"}),(0,o.jsx)(n.td,{children:"The estimated number of cells that the function will allocate on the stack and heap. This stack usage estimate excludes the stack requirements of any functions that are \u201Ccalled\u201D from the function to which the documentation applies. For example, function readdate is documented as taking 6 cells on the stack, but it also calls daysinmonth which takes 4 additional cells \u2014and in turn calls isleapyear. To calculate the total stack requirements for function readdate, the call tree should be considered. In addition to the local variables and function parameters, the compiler also uses the stack for storing intermediate results in complex expressions. The stack space needed for these intermediate results are also excluded from this report. In general, the required overhead for the intermediate results is not cumulative (over all functions), which is why it would be inaccurate to add a \u201Csafety margin\u201D to every function. For the program as a whole, a safety margin would be highly advised. See appendix B (page 168. for the -v option which can tell you the maximum estimate stack usage, based on the call tree."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"tagname"}),(0,o.jsx)(n.td,{children:"The tag of the constant, variable, function result or function parameter(s)."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"transition"}),(0,o.jsx)(n.td,{children:"The transitions that the function provokes and their conditions \u2014see the section of automatons on page 38."})]})]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["All text in the documentation comment(s) is also copied to each",(0,o.jsx)(n.br,{}),"\n","function,\nvariable or constant to which it is attached. The text in the documentation\ncomment is copied without further processing \u2014with one exception, see below.\nComo o restante do relat\xf3rio est\xe1 em XML (e a forma mais comum de gerar documenta\xe7\xe3o online \xe9 via XSLT), voc\xea pode formatar o texto usando tags HTML nos coment\xe1rios. Apenas lembre-se de fechar as tags explicitamente; embora HTML seja permissivo, os processadores XML/XSLT n\xe3o s\xe3o. O toolkit do pawn inclui um exemplo de XSLT (com sua folha de estilos) que suporta as tags abaixo:"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"name"}),(0,o.jsx)(n.th,{children:"info"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<code> </code>"})}),(0,o.jsx)(n.td,{children:"Preformatted source code in a monospaced font; although the \u201C&\u201D, \u201C<\u201D and \u201C>\u201D must be typed as \u201C&\u201D, \u201C<\u201D and \u201C&rt;\u201D respectively."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<example> </example>"})}),(0,o.jsx)(n.td,{children:"Text set under the sub-header \u201CExample\u201D."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'<param name="..."> </param>'})}),(0,o.jsx)(n.td,{children:"A parameter description, with the parameter name appearing inside the opening tag (the \u201Cname=\u201D option) and the parameter description following it."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:'<paramref name="..." />'})}),(0,o.jsx)(n.td,{children:"A reference to a parameter, with the parameter name appearing inside the opening tag (the \u201Cname=\u201D option)."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<remarks> </remarks>"})}),(0,o.jsx)(n.td,{children:'Text set under the sub-header "Remarks\u201D.'})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<returns> </returns>"})}),(0,o.jsx)(n.td,{children:"Text set under the sub-header \u201CReturns\u201D."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<seealso> </seealso>"})}),(0,o.jsx)(n.td,{children:"Text set under the sub-header \u201CSee also\u201D."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<summary> </summary>"})}),(0,o.jsx)(n.td,{children:"Text set immediately below the header of the symbol."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<section> </section>"})}),(0,o.jsx)(n.td,{children:"Sets the text in a header. This should only be used in documentation that is not attached to a function or a variable."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<subsection> </subsection>"})}),(0,o.jsx)(n.td,{children:"Sets the text in a sub-header. This should only be used in documentation that is not attached to a function or a variable."})]})]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"The following additional HTML tags are supported for general purpose formatting text inside any of the above sections:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"name"}),(0,o.jsx)(n.th,{children:"info"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<c> </c>"})}),(0,o.jsx)(n.td,{children:"Text set in a monospaced font."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<em> </em>"})}),(0,o.jsx)(n.td,{children:"Text set emphasized, usually in italics."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<p> </p>"})}),(0,o.jsxs)(n.td,{children:["Text set in a new paragraph. Instead of wrapping ",(0,o.jsx)("p",{children:" and "})," around every paragraph, inserting ",(0,o.jsx)("p",{})," as a separator between two paragraphs produces the same effect."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<para> </para>"})}),(0,o.jsxs)(n.td,{children:["An alternative for ",(0,o.jsx)("p",{children:" "}),"."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<ul> </ul>"})}),(0,o.jsx)(n.td,{children:"An unordered (bulleted) list."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<ol> </ol>"})}),(0,o.jsx)(n.td,{children:"An ordered (numbered) list."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"<li> </li>"})}),(0,o.jsx)(n.td,{children:"An item in an ordered or unordered list."})]})]})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["H\xe1 uma exce\xe7\xe3o: se o coment\xe1rio contiver ",(0,o.jsx)(n.code,{children:"<param ...>"})," e ",(0,o.jsx)(n.code,{children:"</param>"}),", o parser combina a descri\xe7\xe3o que voc\xea escreveu com a informa\xe7\xe3o que ele pr\xf3prio gera para o par\xe2metro."]}),"\n",(0,o.jsx)(n.h3,{id:"-avisos-e-erros",children:"\u2022 Avisos e erros"}),"\n",(0,o.jsxs)(n.p,{children:["N\xe3o descrevi como compilar os exemplos porque o procedimento varia conforme o ambiente: alguns t\xeam bot\xe3o/menu \u201CCompile script\u201D ou \u201CMake\u201D, outros exigem rodar ",(0,o.jsx)(n.code,{children:"sc script.p"})," no terminal. Se estiver usando o conjunto padr\xe3o de ferramentas, consulte o livreto \u201CThe pawn booklet \u2014 Implementor\u2019s Guide\u201D."]}),"\n",(0,o.jsx)(n.p,{children:"Independentemente da forma de compilar, os resultados costumam ser:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"a compila\xe7\xe3o funciona e gera um execut\xe1vel (que pode ou n\xe3o ser executado automaticamente); ou"}),"\n",(0,o.jsx)(n.li,{children:"a compila\xe7\xe3o acusa avisos/erros."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Naturalmente erros acontecem, e o parser tenta detect\xe1-los. \xc0s vezes \xe9 dif\xedcil entender por que ele reclamou de determinado trecho; alguns lembretes podem ajudar:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Cada erro/aviso tem um n\xfamero. Procure-o no ap\xeandice A para ver a descri\xe7\xe3o detalhada."}),"\n",(0,o.jsx)(n.li,{children:"Se houver v\xe1rios erros, o primeiro realmente indica o problema original; os seguintes podem ser apenas reflexos. Ap\xf3s detectar um erro, o parser tenta continuar, mas pode \u201Cse perder\u201D e marcar trechos v\xe1lidos como inv\xe1lidos. Quando em d\xfavida, corrija o primeiro e recompile."}),"\n",(0,o.jsx)(n.li,{children:"O parser verifica apenas sintaxe (gram\xe1tica), n\xe3o sem\xe2ntica. Um mesmo trecho errado pode ser \u201Ccorrigido\u201D de v\xe1rias maneiras, mesmo que o resultado n\xe3o fa\xe7a sentido. Por isso o compilador \xe0s vezes n\xe3o consegue apontar exatamente onde est\xe1 o erro e fornece um intervalo de linhas."}),"\n",(0,o.jsxs)(n.li,{children:["Um programa sem erros sint\xe1ticos ainda pode conter falhas l\xf3gicas \u2014para essas, use ",(0,o.jsx)(n.code,{children:"assert"})," (p\xe1gina 112)."]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"-concluindo",children:"\u2022 Concluindo"}),"\n",(0,o.jsx)(n.p,{children:"Se voc\xea j\xe1 conhece C, viu muitos conceitos familiares e alguns novos. Se n\xe3o conhece, o ritmo talvez tenha sido acelerado. Em ambos os casos, leia as pr\xf3ximas p\xe1ginas com aten\xe7\xe3o; e, para quem j\xe1 domina C ou linguagens similares, o cap\xedtulo \u201CArmadilhas\u201D (p\xe1gina 134) pode ser um bom pr\xf3ximo passo."}),"\n",(0,o.jsx)(n.p,{children:"Este livreto tenta ser ao mesmo tempo uma introdu\xe7\xe3o informal e uma especifica\xe7\xe3o formal \u2014talvez n\xe3o cumpra perfeitamente nenhum dos dois pap\xe9is. Como \xe9 o livro de refer\xeancia padr\xe3o do pawn\u2217, privilegia a precis\xe3o e a completude, mesmo que isso o torne mais denso."}),"\n",(0,o.jsx)(n.p,{children:"Essa dualidade aparece na ordem dos assuntos: come\xe7amos com os blocos conceituais (vari\xe1veis e fun\xe7\xf5es) e s\xf3 depois tratamos de operadores, instru\xe7\xf5es e regras gerais de sintaxe \u2014n\xe3o porque sejam menos importantes, mas porque s\xe3o mais f\xe1ceis de aprender ou consultar."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h6,{id:"-hoje-existem-outras-publica\xe7\xf5es-sobre-pawn",children:"\u2217 Hoje existem outras publica\xe7\xf5es sobre Pawn."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"00-Contents",children:"Voltar ao sum\xe1rio"})})]})}function m(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},50065:function(e,n,a){a.d(n,{Z:()=>i,a:()=>t});var s=a(67294);let o={},r=s.createContext(o);function t(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);
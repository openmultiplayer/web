"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["48766"],{84757:function(e,n,o){o.r(n),o.d(n,{frontMatter:()=>r,toc:()=>d,default:()=>p,metadata:()=>a,assets:()=>l,contentTitle:()=>t});var a=JSON.parse('{"id":"scripting/callbacks/OnDialogResponse","title":"OnDialogResponse","description":"Esta callback \xe9 chamada quando um jogador responde a um dialog mostrado usando ShowPlayerDialog ao clicar em um bot\xe3o, pressionar ENTER/ESC ou dar clique duplo em um item da lista. (se estiver usando o formato lista).","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/scripting/callbacks/OnDialogResponse.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnDialogResponse","permalink":"/pt-BR/docs/scripting/callbacks/OnDialogResponse","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/scripting/callbacks/OnDialogResponse.md","tags":[],"version":"current","frontMatter":{"title":"OnDialogResponse","sidebar_label":"OnDialogResponse","description":"Esta callback \xe9 chamada quando um jogador responde a um dialog mostrado usando ShowPlayerDialog ao clicar em um bot\xe3o, pressionar ENTER/ESC ou dar clique duplo em um item da lista. (se estiver usando o formato lista).","tags":[]},"sidebar":"docsSidebar","previous":{"title":"OnClientMessage","permalink":"/pt-BR/docs/scripting/callbacks/OnClientMessage"},"next":{"title":"OnEnterExitModShop","permalink":"/pt-BR/docs/scripting/callbacks/OnEnterExitModShop"}}'),i=o(85893),s=o(50065);let r={title:"OnDialogResponse",sidebar_label:"OnDialogResponse",description:"Esta callback \xe9 chamada quando um jogador responde a um dialog mostrado usando ShowPlayerDialog ao clicar em um bot\xe3o, pressionar ENTER/ESC ou dar clique duplo em um item da lista. (se estiver usando o formato lista).",tags:[]},t=void 0,l={},d=[{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:2},{value:"Retorno",id:"retorno",level:2},{value:"Exemplos",id:"exemplos",level:2},{value:"Notes",id:"notes",level:2},{value:"Fun\xe7\xf5es Relacionadas",id:"fun\xe7\xf5es-relacionadas",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,i.jsx)(n.p,{children:"Esta callback \xe9 chamada quando um jogador responde a um dialog mostrado usando ShowPlayerDialog ao clicar em um bot\xe3o, pressionar ENTER/ESC ou dar clique duplo em um item da lista. (se estiver usando o formato lista)."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Par\xe2metro"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"playerid"}),(0,i.jsx)(n.td,{children:"O ID do jogador que respondeu ao dialog."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"dialogid"}),(0,i.jsx)(n.td,{children:"O ID do dialog que foi respondido, conforme definido no ShowPlayerDialog."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"response"}),(0,i.jsx)(n.td,{children:"1 para o bot\xe3o esquerdo e 0 para o bot\xe3o direito (se for apenas um bot\xe3o, sempre ser\xe1 1)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"listitem"}),(0,i.jsx)(n.td,{children:"O ID do item da lista selecionado pelo jogador (inicia 0) (apenas se estiver usando dialog no estilo de lista, caso contr\xe1rio, ser\xe1 -1)."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"inputtext[]"}),(0,i.jsx)(n.td,{children:"O texto inserido no campo pelo jogador ou texto do item da lista que foi selecionado."})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"retorno",children:"Retorno"}),"\n",(0,i.jsx)(n.p,{children:"\xc9 sempre chamado primeiro nas filterscripts, por isso, retornar 1 impede que as outras filterscripts o vejam."}),"\n",(0,i.jsx)(n.h2,{id:"exemplos",children:"Exemplos"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:'// Define the dialog ID so we can handle responses\n#define DIALOG_RULES 1\n\n// In some command\nShowPlayerDialog(playerid, DIALOG_RULES, DIALOG_STYLE_MSGBOX, "Server Rules", "- No Cheating\\n- No Spamming\\n- Respect Admins\\n\\nDo you agree to these rules?", "Yes", "No");\n\npublic OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])\n{\n    if (dialogid == DIALOG_RULES)\n    {\n        if (response) // Se clicarem em \'Yes\' ou pressionarem ENTER\n        {\n            SendClientMessage(playerid, COLOR_GREEN, "Thank you for agreeing to the server rules!");\n        }\n        else // ESC pressionado ou Cancel clicado\n        {\n            Kick(playerid);\n        }\n        return 1; // Encontrando o dialog, retorna-se 1 para que os outros n\xe3o sejam processados, Assim como OnPlayerCommandText.\n    }\n\n    return 0; // DEVE-SE retornar 0 aqui! Como em OnPlayerCommandText.\n}\n#define DIALOG_LOGIN 2\n\n// Em algum comando\nShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_INPUT, "Login", "Please enter your password:", "Login", "Cancel");\n\npublic OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])\n{\n    if (dialogid == DIALOG_LOGIN)\n    {\n        if (!response) // ESC pressionado ou Cancel clicado\n        {\n            Kick(playerid);\n        }\n        else // Pressionando ENTER ou clicando no bot\xe3o \'Login\'\n        {\n            if (CheckPassword(playerid, inputtext))\n            {\n                SendClientMessage(playerid, COLOR_RED, "You are now logged in!");\n            }\n            else\n            {\n                SendClientMessage(playerid, COLOR_RED, "LOGIN FAILED.");\n\n                // Reapresenta o dialog de Login\n                ShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_INPUT, "Login", "Please enter your password:", "Login", "Cancel");\n            }\n        }\n        return 1; // Encontrando o dialog, retorna-se 1 para que os outros n\xe3o sejam processados, Assim como OnPlayerCommandText.\n    }\n\n    return 0; // DEVE-SE retornar 0 aqui! Como em OnPlayerCommandText.\n}\n#define DIALOG_WEAPONS 3\n\n// Em um comando\nShowPlayerDialog(playerid, DIALOG_WEAPONS, DIALOG_STYLE_LIST, "Weapons", "Desert Eagle\\nAK-47\\nCombat Shotgun", "Select", "Close");\n\npublic OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])\n{\n    if (dialogid == DIALOG_WEAPONS)\n    {\n        if (response) // Se clicar em \'Select\' ou dar clique duplo na arma\n        {\n            // Give them the weapon\n            switch(listitem)\n            {\n                case 0: GivePlayerWeapon(playerid, WEAPON_DEAGLE, 14); // Entrega uma Deagle\n                case 1: GivePlayerWeapon(playerid, WEAPON_AK47, 120); // Entra uma AK-47\n                case 2: GivePlayerWeapon(playerid, WEAPON_SHOTGSPA, 28); // Entrega uma Combat Shotgun\n            }\n        }\n        return 1; // Encontrando o dialog, retorna-se 1 para que os outros n\xe3o sejam processados, Assim como OnPlayerCommandText.\n    }\n\n    return 0; // DEVE-SE retornar 0 aqui! Como em OnPlayerCommandText.\n}\n#define DIALOG_WEAPONS 3\n\n// Em um comando\nShowPlayerDialog(playerid, DIALOG_WEAPONS, DIALOG_STYLE_LIST, "Weapons",\n"Weapon\\tAmmo\\tPrice\\n\\\nM4\\t120\\t500\\n\\\nMP5\\t90\\t350\\n\\\nAK-47\\t120\\t400",\n"Select", "Close");\n\npublic OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])\n{\n    if (dialogid == DIALOG_WEAPONS)\n    {\n        if (response) // Se clicar em \'Select\' ou usar clique duplo na arma\n        {\n            // Devolve uma arma\n            switch(listitem)\n            {\n                case 0: GivePlayerWeapon(playerid, WEAPON_M4, 120); // Entrega uma M4\n                case 1: GivePlayerWeapon(playerid, WEAPON_MP5, 90); // Entrega uma MP5\n                case 2: GivePlayerWeapon(playerid, WEAPON_AK47, 120); // Entrega uma AK-47\n            }\n        }\n        return 1; // Encontrando o dialog, retorna-se 1 para que os outros n\xe3o sejam processados, Assim como OnPlayerCommandText.\n    }\n\n    return 0; // DEVE-SE retornar 0 aqui! Como em OnPlayerCommandText.\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.p,{children:["Par\xe2metros podem conter diferentes valores, baseados no estilo do dialog (",(0,i.jsx)(n.a,{href:"/pt-BR/docs/scripting/resources/dialogstyles",children:"clique para mais exemplos"}),")."]})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"\xc9 apropriado usar diferentes dialogids, se voc\xea tiver muitos."})}),"\n",(0,i.jsx)(n.admonition,{type:"warning",children:(0,i.jsx)(n.p,{children:'Um dialog de jogador n\xe3o \xe9 escondido ao reiniciar o gamemode, ocasionando em uma mensagem "Warning: PlayerDialogResponse PlayerId: 0 dialog ID doesn\'t match last sent dialog ID" se um jogador responder ao dialog ap\xf3s o rein\xedcio.'})}),"\n",(0,i.jsx)(n.h2,{id:"fun\xe7\xf5es-relacionadas",children:"Fun\xe7\xf5es Relacionadas"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/pt-BR/docs/scripting/functions/ShowPlayerDialog",children:"ShowPlayerDialog"}),": Show a dialog to a player."]}),"\n"]})]})}function p(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},50065:function(e,n,o){o.d(n,{Z:()=>t,a:()=>r});var a=o(67294);let i={},s=a.createContext(i);function r(e){let n=a.useContext(s);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["18064"],{49613:function(e,n,i){i.r(n),i.d(n,{frontMatter:()=>o,toc:()=>l,default:()=>h,metadata:()=>d,assets:()=>a,contentTitle:()=>c});var d=JSON.parse('{"id":"scripting/language/Directives","title":"Palavras-chave: diretivas","description":"Diretivas s\xe3o instru\xe7\xf5es passadas ao compilador para controlar como ele interpreta o c\xf3digo-fonte.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/scripting/language/Directives.md","sourceDirName":"scripting/language","slug":"/scripting/language/Directives","permalink":"/pt-BR/docs/scripting/language/Directives","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/i18n/pt-BR/docusaurus-plugin-content-docs/current/scripting/language/Directives.md","tags":[],"version":"current","frontMatter":{"title":"Palavras-chave: diretivas","sidebar_label":"Palavras-chave: diretivas"},"sidebar":"docsSidebar","previous":{"title":"Estruturas de Controle","permalink":"/pt-BR/docs/scripting/language/ControlStructures"},"next":{"title":"Palavras-chave: inicializadores","permalink":"/pt-BR/docs/scripting/language/Initialisers"}}'),r=i(85893),s=i(50065);let o={title:"Palavras-chave: diretivas",sidebar_label:"Palavras-chave: diretivas"},c=void 0,a={},l=[{value:"<code>#assert</code>",id:"assert",level:2},{value:"<code>#define</code>",id:"define",level:2},{value:"<code>#else</code>",id:"else",level:2},{value:"<code>#elseif</code>",id:"elseif",level:2},{value:"<code>#emit</code>",id:"emit",level:2},{value:"<code>#endif</code>",id:"endif",level:2},{value:"<code>#endinput</code>, <code>#endscript</code>",id:"endinput-endscript",level:2},{value:"<code>#error</code>",id:"error",level:2},{value:"<code>#if</code>",id:"if",level:2},{value:"<code>#include</code>",id:"include",level:2},{value:"<code>#pragma</code>",id:"pragma",level:2},{value:"Depreciado",id:"depreciado",level:3},{value:"<code>#tryinclude</code>",id:"tryinclude",level:2},{value:"<code>#undef</code>",id:"undef",level:2}];function t(e){let n={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Diretivas s\xe3o instru\xe7\xf5es passadas ao compilador para controlar como ele interpreta o c\xf3digo-fonte."}),"\n",(0,r.jsx)(n.h2,{id:"assert",children:(0,r.jsx)(n.code,{children:"#assert"})}),"\n",(0,r.jsx)(n.p,{children:"Verifica se uma express\xe3o constante \xe9 verdadeira; caso contr\xe1rio interrompe a compila\xe7\xe3o."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:"#define MOO 10\n#assert MOO > 5\n"})}),"\n",(0,r.jsx)(n.p,{children:"Compila normalmente."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:"#define MOO 1\n#assert MOO > 5\n"})}),"\n",(0,r.jsx)(n.p,{children:"Provoca um erro fatal. \xc9 semelhante a:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:"#define MOO 1\n#if MOO <= 5\n    #error MOO check failed\n#endif\n"})}),"\n",(0,r.jsxs)(n.p,{children:["A diferen\xe7a \xe9 que ",(0,r.jsx)(n.code,{children:"#assert"})," mostra a mensagem:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Assertation failed: 1 > 5\n"})}),"\n",(0,r.jsx)(n.p,{children:"enquanto o segundo exibe:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"User error: Moo check failed\n"})}),"\n",(0,r.jsx)(n.h2,{id:"define",children:(0,r.jsx)(n.code,{children:"#define"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"#define"})," substitui texto: onde o s\xedmbolo declarado aparece, ele \xe9 trocado pelo conte\xfado definido."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#define MOO 7\nprintf("%d", MOO);\n'})}),"\n",(0,r.jsx)(n.p,{children:"Vira:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'printf("%d", 7);\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Por isso ",(0,r.jsx)(n.code,{children:"#define"}),"s n\xe3o existem no c\xf3digo compilado; o pr\xe9-processador resolve tudo antes. Eles n\xe3o precisam conter n\xfameros:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#define PL new i = 0; i < MAX_PLAYERS; i++) if (IsPlayerConnected(i)\n\nfor (PL) printf("%d connected", i);\n'})}),"\n",(0,r.jsxs)(n.p,{children:["O c\xf3digo acima gera o cl\xe1ssico player loop. Note como parte dos par\xeanteses vem do ",(0,r.jsx)(n.code,{children:"for"})," e parte do macro."]}),"\n",(0,r.jsx)(n.p,{children:"Pouca gente sabe que voc\xea pode criar defini\xe7\xf5es multilinha escapando a quebra de linha:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:"#define PL \\\n        new i = 0; i < MAX_PLAYERS; i++) \\\n                if (IsPlayerConnected(i)\n"})}),"\n",(0,r.jsx)(n.p,{children:"Macros tamb\xe9m podem receber par\xe2metros:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#define MOO(%0) \\\n        ((%0) * 7)\n\nprintf("%d", MOO(6));      // imprime 42\nprintf("%d", MOO(5 + 6));  // imprime 77\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Os par\xeanteses extras s\xe3o importantes. Sem eles ",(0,r.jsx)(n.code,{children:"MOO(5 + 6)"})," se expandiria para ",(0,r.jsx)(n.code,{children:"5 + 6 * 7"}),", que resulta em 47 devido \xe0 ordem das opera\xe7\xf5es."]}),"\n",(0,r.jsx)(n.p,{children:"Se o n\xfamero de argumentos fornecido for maior que o declarado, o \xfaltimo par\xe2metro recebe todos os valores restantes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#define PP(%0,%1) \\\n        printf(%0, %1)\n\nPP(%s %s %s, "hi", "hello", "hi"); // imprime "hi hello hi"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["O operador ",(0,r.jsx)(n.code,{children:"#"})," transforma um literal em string; esse recurso \xe9 espec\xedfico do SA-MP."]}),"\n",(0,r.jsx)(n.h2,{id:"else",children:(0,r.jsx)(n.code,{children:"#else"})}),"\n",(0,r.jsxs)(n.p,{children:["Equivalente a ",(0,r.jsx)(n.code,{children:"else"}),", mas usado em blocos condicionais do pr\xe9-processador (",(0,r.jsx)(n.code,{children:"#if"}),")."]}),"\n",(0,r.jsx)(n.h2,{id:"elseif",children:(0,r.jsx)(n.code,{children:"#elseif"})}),"\n",(0,r.jsxs)(n.p,{children:["Vers\xe3o de ",(0,r.jsx)(n.code,{children:"else if"})," para ",(0,r.jsx)(n.code,{children:"#if"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#define MOO 10\n\n#if MOO == 9\n    printf("if");\n#elseif MOO == 8\n    printf("else if");\n#else\n    printf("else");\n#endif\n'})}),"\n",(0,r.jsx)(n.h2,{id:"emit",children:(0,r.jsx)(n.code,{children:"#emit"})}),"\n",(0,r.jsxs)(n.p,{children:["N\xe3o aparece na tabela do ",(0,r.jsx)(n.code,{children:"pawn-lang.pdf"}),", mas existe. \xc9 basicamente um compilador inline: se voc\xea conhece AMX, pode inserir opcodes diretamente no c\xf3digo. Sintaxe: ",(0,r.jsx)(n.code,{children:"#emit <opcode> <argumento>"}),". O argumento pode ser um n\xfamero (inteiro ou racional) ou um s\xedmbolo local/global (vari\xe1veis, fun\xe7\xf5es ou r\xf3tulos). Consulte o Pawn Toolkit v3664 para a lista de opcodes."]}),"\n",(0,r.jsx)(n.h2,{id:"endif",children:(0,r.jsx)(n.code,{children:"#endif"})}),"\n",(0,r.jsxs)(n.p,{children:["Funciona como a chave de fechamento de um ",(0,r.jsx)(n.code,{children:"if"}),". Tudo o que estiver entre ",(0,r.jsx)(n.code,{children:"#if"})," e ",(0,r.jsx)(n.code,{children:"#endif"})," \xe9 inclu\xeddo condicionalmente."]}),"\n",(0,r.jsxs)(n.h2,{id:"endinput-endscript",children:[(0,r.jsx)(n.code,{children:"#endinput"}),", ",(0,r.jsx)(n.code,{children:"#endscript"})]}),"\n",(0,r.jsx)(n.p,{children:"Interrompem a inclus\xe3o do arquivo atual."}),"\n",(0,r.jsx)(n.h2,{id:"error",children:(0,r.jsx)(n.code,{children:"#error"})}),"\n",(0,r.jsxs)(n.p,{children:["Interrompe a compila\xe7\xe3o imediatamente exibindo uma mensagem customizada. Veja ",(0,r.jsx)(n.code,{children:"#assert"})," para um exemplo."]}),"\n",(0,r.jsx)(n.h2,{id:"if",children:(0,r.jsx)(n.code,{children:"#if"})}),"\n",(0,r.jsxs)(n.p,{children:["Faz para o pr\xe9-processador o que ",(0,r.jsx)(n.code,{children:"if"})," faz para o c\xf3digo: permite escolher o que ser\xe1 compilado. Considere:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#define LIMIT 10\n\nif (LIMIT < 10)\n{\n    printf("Limit too low");\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Isso vira:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'if (10 < 10)\n{\n    printf("Limit too low");\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["O compilador sabe que a condi\xe7\xe3o \xe9 constante e avisa. Se o resultado nunca muda, por que manter o c\xf3digo? Remover o trecho impediria valida\xe7\xf5es futuras caso ",(0,r.jsx)(n.code,{children:"LIMIT"})," fosse alterado. \xc9 a\xed que ",(0,r.jsx)(n.code,{children:"#if"})," ajuda: diferente de ",(0,r.jsx)(n.code,{children:"if"}),", ele ",(0,r.jsx)(n.em,{children:"espera"})," express\xf5es constantes."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:"#define LIMIT 10\n\n#if LIMIT < 10\n    #error Limit too low\n#endif\n"})}),"\n",(0,r.jsx)(n.p,{children:"Assim a checagem ocorre na compila\xe7\xe3o e evita c\xf3digo morto. Note que os par\xeanteses s\xe3o opcionais."}),"\n",(0,r.jsx)(n.p,{children:"Outro exemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#define LIMIT 10\n\n#if LIMIT < 10\n    printf("Limit less than 10");\n#else\n    printf("Limit equal to or above 10");\n#endif\n'})}),"\n",(0,r.jsx)(n.p,{children:"Somente o ramo v\xe1lido \xe9 compilado, mas o c\xf3digo redundante permanece no arquivo para futuras mudan\xe7as."}),"\n",(0,r.jsx)(n.h2,{id:"include",children:(0,r.jsx)(n.code,{children:"#include"})}),"\n",(0,r.jsx)(n.p,{children:"Insere o conte\xfado de outro arquivo no ponto onde a diretiva aparece. Existem dois formatos:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Relativo"})," (",(0,r.jsx)(n.code,{children:'"arquivo.pwn"'}),"): o caminho \xe9 resolvido relativo ao arquivo atual."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Sistema"})," (",(0,r.jsx)(n.code,{children:"<arquivo>"}),"): o arquivo \xe9 buscado no diret\xf3rio ",(0,r.jsx)(n.code,{children:"include"})," ao lado (ou um n\xedvel acima) do compilador Pawn, como ",(0,r.jsx)(n.code,{children:"pawno/include"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Ambos aceitam subpastas:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#include "folder/me.pwn"\n#include <folder/me>\n'})}),"\n",(0,r.jsx)(n.p,{children:"Se o arquivo n\xe3o existir, a compila\xe7\xe3o falha."}),"\n",(0,r.jsx)(n.h2,{id:"pragma",children:(0,r.jsx)(n.code,{children:"#pragma"})}),"\n",(0,r.jsx)(n.p,{children:"Diretiva para ajustar o comportamento do compilador. Exemplo:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:"#pragma ctrlchar '$'\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Isso altera o caractere de escape de ",(0,r.jsx)(n.code,{children:"\\"})," para ",(0,r.jsx)(n.code,{children:"$"}),". Algumas op\xe7\xf5es \xfateis no contexto SA:MP:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome"}),(0,r.jsx)(n.th,{children:"Valores"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"codepage"})}),(0,r.jsx)(n.td,{children:"nome/valor"}),(0,r.jsx)(n.td,{children:"Define a p\xe1gina de c\xf3digo Unicode usada para strings."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"compress"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"1"}),"/",(0,r.jsx)(n.code,{children:"0"})]}),(0,r.jsx)(n.td,{children:"N\xe3o suportado no SA-MP."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"deprecated"})}),(0,r.jsx)(n.td,{children:"s\xedmbolo"}),(0,r.jsx)(n.td,{children:"Gera um aviso ao usar o s\xedmbolo indicado, sinalizando que existe vers\xe3o melhor."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"dynamic"})}),(0,r.jsx)(n.td,{children:"valor (geralmente pot\xeancia de 2)"}),(0,r.jsx)(n.td,{children:"Define o tamanho (em c\xe9lulas) da pilha e do heap; use ao receber avisos de mem\xf3ria insuficiente."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"library"})}),(0,r.jsx)(n.td,{children:"nome da DLL"}),(0,r.jsx)(n.td,{children:"Indica a DLL da qual fun\xe7\xf5es nativas ser\xe3o importadas; n\xe3o transforma o arquivo atual em biblioteca."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pack"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"1"}),"/",(0,r.jsx)(n.code,{children:"0"})]}),(0,r.jsxs)(n.td,{children:["Inverte o significado de ",(0,r.jsx)(n.code,{children:'!""'})," e ",(0,r.jsx)(n.code,{children:'""'}),". Veja ",(0,r.jsx)(n.code,{children:"pawn-lang.pdf"})," para detalhes sobre strings compactadas."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tabsize"})}),(0,r.jsx)(n.td,{children:"valor"}),(0,r.jsxs)(n.td,{children:["Define o tamanho do tab para evitar avisos errados de indenta\xe7\xe3o; em SA",":MP"," o padr\xe3o \xe9 4. N\xe3o use 0, pois oculta avisos \xfateis."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"unused"})}),(0,r.jsx)(n.td,{children:"s\xedmbolo"}),(0,r.jsxs)(n.td,{children:["Suprime o aviso \u201Csymbol is never used\u201D para o s\xedmbolo indicado. \xdatil quando ",(0,r.jsx)(n.code,{children:"stock"})," n\xe3o se aplica (por exemplo, par\xe2metros)."]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"depreciado",children:"Depreciado"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'new\n    gOldVariable = 5;\n\n#pragma deprecated gOldVariable\n\nmain() { printf("%d", gOldVariable); }\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Gera um aviso indicando que ",(0,r.jsx)(n.code,{children:"gOldVariable"})," n\xe3o deve mais ser usada. \xdatil para manter compatibilidade enquanto a API evolui."]}),"\n",(0,r.jsx)(n.h2,{id:"tryinclude",children:(0,r.jsx)(n.code,{children:"#tryinclude"})}),"\n",(0,r.jsxs)(n.p,{children:["Semelhante a ",(0,r.jsx)(n.code,{children:"#include"}),", mas n\xe3o falha se o arquivo n\xe3o existir. Serve para incluir recursos opcionais quando o desenvolvedor possui o plugin apropriado."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"myinc.inc"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#if defined _MY_INC_INC\n    #endinput\n#endif\n#define _MY_INC_INC\n\nstock MyIncFunc() { printf("Hello"); }\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Gamemode"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:"#tryinclude <myinc>\n\nmain()\n{\n    #if defined _MY_INC_INC\n        MyIncFunc();\n    #endif\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"MyIncFunc"})," s\xf3 ser\xe1 chamada se ",(0,r.jsx)(n.code,{children:"myinc.inc"})," estiver dispon\xedvel e compilar sem erros."]}),"\n",(0,r.jsx)(n.h2,{id:"undef",children:(0,r.jsx)(n.code,{children:"#undef"})}),"\n",(0,r.jsx)(n.p,{children:"Remove um macro ou s\xedmbolo constante previamente definido."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'#define MOO 10\nprintf("%d", MOO);\n#undef MOO\nprintf("%d", MOO); // erro: MOO n\xe3o existe mais\n'})}),"\n",(0,r.jsx)(n.p,{children:"Tamb\xe9m funciona com enumeradores:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:'enum {\n    E_EXAMPLE = 300\n};\n\nprintf("%d", E_EXAMPLE);\n#undef E_EXAMPLE\nprintf("%d", E_EXAMPLE); // erro fatal\n'})})]})}function h(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},50065:function(e,n,i){i.d(n,{Z:()=>c,a:()=>o});var d=i(67294);let r={},s=d.createContext(r);function o(e){let n=d.useContext(s);return d.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),d.createElement(s.Provider,{value:n},e.children)}}}]);
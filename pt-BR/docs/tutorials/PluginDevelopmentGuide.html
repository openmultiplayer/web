<!doctype html><html lang=pt-BR dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/PluginDevelopmentGuide" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Guia de desenvolvimento de Plugins | open.mp</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://open.mp/pt-BR/images/assets/wordmark-coloured-bg.png><meta data-rh=true name=twitter:image content=https://open.mp/pt-BR/images/assets/wordmark-coloured-bg.png><meta data-rh=true property=og:url content=https://open.mp/pt-BR/docs/tutorials/PluginDevelopmentGuide><meta data-rh=true property=og:locale content=pt_BR><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ru><meta data-rh=true property=og:locale:alternate content=ar><meta data-rh=true property=og:locale:alternate content=bs><meta data-rh=true property=og:locale:alternate content=de><meta data-rh=true property=og:locale:alternate content=fil><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=fa><meta data-rh=true property=og:locale:alternate content=hu><meta data-rh=true property=og:locale:alternate content=id><meta data-rh=true property=og:locale:alternate content=it><meta data-rh=true property=og:locale:alternate content=nl><meta data-rh=true property=og:locale:alternate content=pl><meta data-rh=true property=og:locale:alternate content=ro><meta data-rh=true property=og:locale:alternate content=sl><meta data-rh=true property=og:locale:alternate content=sr><meta data-rh=true property=og:locale:alternate content=ta><meta data-rh=true property=og:locale:alternate content=th><meta data-rh=true property=og:locale:alternate content=tr><meta data-rh=true property=og:locale:alternate content=vi><meta data-rh=true property=og:locale:alternate content=zh_CN><meta data-rh=true property=og:locale:alternate content=zh_TW><meta data-rh=true name=docusaurus_locale content=pt-BR><meta data-rh=true name=docsearch:language content=pt-BR><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Guia de desenvolvimento de Plugins | open.mp"><meta data-rh=true name=description content="Um guia simples para desenvolvolver plugins ( Tradução de um post do sampforum )"><meta data-rh=true property=og:description content="Um guia simples para desenvolvolver plugins ( Tradução de um post do sampforum )"><link data-rh=true rel=icon href=/pt-BR/favicon.ico><link data-rh=true rel=canonical href=https://open.mp/pt-BR/docs/tutorials/PluginDevelopmentGuide><link data-rh=true rel=alternate href=https://open.mp/docs/tutorials/PluginDevelopmentGuide hreflang=en><link data-rh=true rel=alternate href=https://open.mp/es/docs/tutorials/PluginDevelopmentGuide hreflang=es><link data-rh=true rel=alternate href=https://open.mp/ru/docs/tutorials/PluginDevelopmentGuide hreflang=ru><link data-rh=true rel=alternate href=https://open.mp/ar/docs/tutorials/PluginDevelopmentGuide hreflang=ar><link data-rh=true rel=alternate href=https://open.mp/bs/docs/tutorials/PluginDevelopmentGuide hreflang=bs><link data-rh=true rel=alternate href=https://open.mp/de/docs/tutorials/PluginDevelopmentGuide hreflang=de><link data-rh=true rel=alternate href=https://open.mp/fil/docs/tutorials/PluginDevelopmentGuide hreflang=fil><link data-rh=true rel=alternate href=https://open.mp/fr/docs/tutorials/PluginDevelopmentGuide hreflang=fr><link data-rh=true rel=alternate href=https://open.mp/fa/docs/tutorials/PluginDevelopmentGuide hreflang=fa><link data-rh=true rel=alternate href=https://open.mp/hu/docs/tutorials/PluginDevelopmentGuide hreflang=hu><link data-rh=true rel=alternate href=https://open.mp/id/docs/tutorials/PluginDevelopmentGuide hreflang=id><link data-rh=true rel=alternate href=https://open.mp/it/docs/tutorials/PluginDevelopmentGuide hreflang=it><link data-rh=true rel=alternate href=https://open.mp/nl/docs/tutorials/PluginDevelopmentGuide hreflang=nl><link data-rh=true rel=alternate href=https://open.mp/pl/docs/tutorials/PluginDevelopmentGuide hreflang=pl><link data-rh=true rel=alternate href=https://open.mp/pt-BR/docs/tutorials/PluginDevelopmentGuide hreflang=pt-BR><link data-rh=true rel=alternate href=https://open.mp/ro/docs/tutorials/PluginDevelopmentGuide hreflang=ro><link data-rh=true rel=alternate href=https://open.mp/sl/docs/tutorials/PluginDevelopmentGuide hreflang=sl><link data-rh=true rel=alternate href=https://open.mp/sr/docs/tutorials/PluginDevelopmentGuide hreflang=sr><link data-rh=true rel=alternate href=https://open.mp/ta/docs/tutorials/PluginDevelopmentGuide hreflang=ta><link data-rh=true rel=alternate href=https://open.mp/th/docs/tutorials/PluginDevelopmentGuide hreflang=th><link data-rh=true rel=alternate href=https://open.mp/tr/docs/tutorials/PluginDevelopmentGuide hreflang=tr><link data-rh=true rel=alternate href=https://open.mp/vi/docs/tutorials/PluginDevelopmentGuide hreflang=vi><link data-rh=true rel=alternate href=https://open.mp/zh-CN/docs/tutorials/PluginDevelopmentGuide hreflang=zh-CN><link data-rh=true rel=alternate href=https://open.mp/zh-TW/docs/tutorials/PluginDevelopmentGuide hreflang=zh-TW><link data-rh=true rel=alternate href=https://open.mp/docs/tutorials/PluginDevelopmentGuide hreflang=x-default><link data-rh=true rel=preconnect href=https://AOKXGK39Z7-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://open.mp/pt-BR/docs/tutorials/PluginDevelopmentGuide","name":"Guia de desenvolvimento de Plugins","position":1}]}</script><link rel=alternate type=application/rss+xml href=/pt-BR/blog/rss.xml title="open.mp RSS Feed"><link rel=alternate type=application/atom+xml href=/pt-BR/blog/atom.xml title="open.mp Atom Feed"><link rel=search type=application/opensearchdescription+xml title=open.mp href=/pt-BR/opensearch.xml><link rel=stylesheet href=/pt-BR/assets/css/styles.5e0d197a.css><script src=/pt-BR/assets/js/runtime~main.c653c8d8.js defer></script><script src=/pt-BR/assets/js/main.e5ad2d16.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/pt-BR/images/assets/logo-light-trans.svg><link rel=preload as=image href=/pt-BR/images/assets/logo.svg><div role=region aria-label="Pular para o conteúdo principal"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Pular para o conteúdo principal</a></div><nav aria-label=Main class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Alternar a barra de navegação" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/pt-BR/><div class=navbar__logo><img src=/pt-BR/images/assets/logo-light-trans.svg alt="open.mp logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/pt-BR/images/assets/logo-light-trans.svg alt="open.mp logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Open Multiplayer</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/pt-BR/docs/scripting/callbacks/OnActorStreamIn>Documentação</a><a class="navbar__item navbar__link" href=/pt-BR/blog>Blog</a><a href=https://forum.open.mp/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Fóruns</a><a class="navbar__item navbar__link" href=/pt-BR/servers>Servidores</a><a class="navbar__item navbar__link" href=/pt-BR/partners>Parceiros</a><a href=https://opencollective.com/openmultiplayer target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Doar<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Português (Brasil)</a><ul class=dropdown__menu><li><a href=/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/es/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/ru/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=ru>Русский</a><li><a href=/ar/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=ar>العربية</a><li><a href=/bs/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=bs>Bosanski</a><li><a href=/de/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=de>Deutsch</a><li><a href=/fil/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=fil>Filipino</a><li><a href=/fr/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/fa/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=fa>فارسی</a><li><a href=/hu/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=hu>Magyar</a><li><a href=/id/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=id>Indonesia</a><li><a href=/it/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=it>Italiano</a><li><a href=/nl/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=nl>Nederlands</a><li><a href=/pl/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=pl>Polski</a><li><a href=/pt-BR/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=pt-BR>Português (Brasil)</a><li><a href=/ro/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=ro>Română</a><li><a href=/sl/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=sl>Slovenščina</a><li><a href=/sr/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=sr>Српски</a><li><a href=/ta/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=ta>தமிழ்</a><li><a href=/th/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=th>ไทย</a><li><a href=/tr/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=tr>Türkçe</a><li><a href=/vi/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=vi>Tiếng Việt</a><li><a href=/zh-CN/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-CN>简体中文</a><li><a href=/zh-TW/docs/tutorials/PluginDevelopmentGuide target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-TW>繁體中文</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Alterar entre os modos claro e escuro (modo system mode ativado)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Buscar (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Buscar</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Voltar ao topo" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/pt-BR/docs/scripting/callbacks/OnActorStreamIn>Scripting</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/pt-BR/docs/server/CommonServerIssues>Server</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/pt-BR/docs/client/ClientCommands>Client</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/pt-BR/docs/tutorials/AdvancedStructures>Tutorials</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/AdvancedStructures>Estruturas Avançadas</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/Binary>Binário</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/MenuGuide>Menu Guide</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/PickupGuide>Pickup Guide</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/pt-BR/docs/tutorials/PluginDevelopmentGuide>Guia de desenvolvimento de Plugins</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/PortForwarding>Port Forwarding</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/QueryMechanism>SA:MP Query Mechanism</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/colorfix>Correção de Cores</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/cooldowns>Cooldowns</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/servervariablesystem>Server variable system</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/pt-BR/docs/tutorials/stringmanipulation>String Manipulation</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/pt-BR/docs/awesome>Espetacular</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/pt-BR/docs/changelog>Changelog</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/pt-BR/docs>Bem-vindo</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/pt-BR/docs/meta/Contributing>meta</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Página Inicial" class=breadcrumbs__link href=/pt-BR/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Tutorials</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Guia de desenvolvimento de Plugins</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Nessa página</button></div><div class="theme-doc-markdown markdown"><header><h1>Guia de desenvolvimento de Plugins</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id=introdução>Introdução<a href=#introdução class=hash-link aria-label="Link direto para Introdução" title="Link direto para Introdução">​</a></h2>
<p>Eu decidi criar esse topico para direcionar problemas e questões frequentes em relação ao desenvolvimento de Plugins.
Eu de longe sou um especialista de C/C++ ou sobre a SDK de plugins, apenas estou compartilhando o que aprendi nesse tempo desenvolvendo plugins.</p>
<p>Tenho esperança de que este topico pode se tornar um projeto em grupo quando vir a tona e outras pessoas poderão compartilhar informações que eu possa não saber agora.</p>
<blockquote>
<p>Nota do tradutor: Eu conhecido como Louzindev na comunidade, estou tentando reviver este topico para reforçar o conhecimento na comunidade local.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=este-não-é-um-forum-de-ajuda-de-c>Este <strong>Não</strong> é um forum de ajuda de C/++<a href=#este-não-é-um-forum-de-ajuda-de-c class=hash-link aria-label="Link direto para este-não-é-um-forum-de-ajuda-de-c" title="Link direto para este-não-é-um-forum-de-ajuda-de-c">​</a></h2>
<p>Algumas pessoas parecem estar bem confusas quando vêem este post.</p>
<p>Eu vejo muitas pessoas perguntarem questões completamente validas e terminarem com multiplas respostas como: "Este não é um forum de ajuda para C/++". Apenas porque é esperado que alguem conheça a linguagem, não significa que eles não podem fazer perguntas sobre a atual SDK. Existe uma grande diferença entre perguntar o que um ponteiro é, para algo como: "Como criar callbacks"</p>
<p>Dito isso, separei alguns sites ótimos para perguntas frequentes e tutorias além da documentação oficial do C/++.</p>
<p>cprogramming.com</p>
<p>cplusplus.com</p>
<p>learncpp.com</p>
<p>Se você precisar de assistencia com C/++, você pode perguntar nesses foruns:</p>
<p>dreamincode.net</p>
<p>stackoverflow.com</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=faq>FAQ<a href=#faq class=hash-link aria-label="Link direto para FAQ" title="Link direto para FAQ">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=duvidas-rapidas>Duvidas rapidas<a href=#duvidas-rapidas class=hash-link aria-label="Link direto para Duvidas rapidas" title="Link direto para Duvidas rapidas">​</a></h3>
<p><strong>Duvida:</strong> Como os plugins são feitos?</p>
<ul>
<li><strong>Resposta:</strong> Plugins são feitos usando a plugin SDK do AMX, este topico presume que você já sabe C/++, e vai providenciar informação sobre a SDK neste artigo.</li>
</ul>
<p><strong>Duvida:</strong> Eu Posso criar um plugin em outra linguagem sem ser C/++?</p>
<ul>
<li><strong>Resposta:</strong> É possivel na teoria. Existem varias tentativas de portar a Plugin SDK do SA-MP para a linguagem D, que suporta a interface de programação C. Por enquanto, eu nunca vi nenhum plugin funcionando em linguagem D, mas é possivel na teoria.</li>
</ul>
<blockquote>
<p>Nota do tradutor: é possivel 'bindar' a Plugin SDK para outras linguagens. Como no repositorio de exemplo: <a href=https://github.com/AmyrAhmady/samp-node target=_blank rel="noopener noreferrer">https://github.com/AmyrAhmady/samp-node</a></p>
</blockquote>
<p><strong>Pergunta:</strong> Como posso fazer meu plugin ser multiplataforma (disponível no Linux e Windows)?</p>
<ul>
<li><strong>Resposta:</strong> Linux e Windows são dois sistemas operacionais diferentes, cada um com suas próprias APIs e implementações distintas. Fazer seu código funcionar em ambas as plataformas significa que você deve usar código independente de plataforma ou algum tipo de framework que lide com as diferenças de plataforma para você. Depois de garantir que seu código não depende de uma API específica, basta compilá-lo no ambiente desejado (novamente, este guia assume que você sabe como fazer isso).</li>
</ul>
<p><strong>Resposta:</strong> Meu plugin pode usar memory hacking?</p>
<p><strong>Resposta:</strong> Para ser honesto, isso é uma área meio cinzenta. Usar hacking de memória para fazer <em>hook</em> em callbacks ou chamar funções parece ser totalmente aceitável. Qualquer coisa que modifique a memória do servidor parece ser proibida (veja isso). Se você planeja criar um plugin que precise usar hacking de memória para qualquer coisa além de fazer <em>hook</em> de callbacks ou chamadas de funções, peça permissão antes e obtenha aprovação antes de postar; essa é, honestamente, a melhor forma de descobrir!</p>
<p><strong>Pergunta:</strong> É possível fazer um plugin que <strong>______</strong>?</p>
<ul>
<li><strong>Resposta:</strong> Na maioria dos casos, qualquer ideia é completamente possível de implementar. Pode ser necessário um aplicativo independente que se comunique com o plugin, mas provavelmente é viável. Perguntas como essa <strong>não</strong> devem ser postadas. Você ouviu a resposta, então siga em frente! Esta não é uma seção para pedidos de plugins. Espero que um dia haja criadores de plugins suficientes para uma seção ou um tópico fixo para solicitações (este guia foi criado para apresentar e ajudar novos desenvolvedores de plugins, então vamos torcer).</li>
</ul>
<p><strong>Pergunta:</strong> Qual IDE/Compilador devo usar para <strong>______</strong>?</p>
<ul>
<li><strong>Resposta:</strong> Isso é completamente com você! Eu pessoalmente usarei o VC++ 2010 Express como minha IDE e compilador para Windows, e planejo usar o g++ como meu compilador para Linux. Experimente diferentes opções e veja qual você gosta mais!</li>
</ul>
<p><strong>Pergunta:</strong> O que é um arquivo de definição de módulo (.def)?</p>
<ul>
<li><strong>Resposta:</strong> Um arquivo de definição de módulo é um arquivo especial no IDE Visual Studio que fornece ao <em>linker</em> informações sobre o programa que está sendo vinculado. Quando se trata de escrever plugins para SA-MP, geralmente usamos apenas a declaração "EXPORTS", que fornece informações sobre as funções exportadas. Vamos abordar essa declaração mais adiante no artigo.</li>
</ul>
<p><strong>Pergunta:</strong> Quando eu lançar um plugin, ele precisa ter o código-fonte junto?</p>
<ul>
<li><strong>Resposta:</strong> Se você está lançando algo neste fórum, <strong>sempre</strong> deve incluir o código-fonte. Plugins não são exceção (a menos que o plugin seja aprovado por um desenvolvedor para ser postado sem o código-fonte — talvez um anti-cheat?).</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=introdução-1>Introdução<a href=#introdução-1 class=hash-link aria-label="Link direto para Introdução" title="Link direto para Introdução">​</a></h2>
<p>Você ficaria surpreso com a frequência que me perguntam: "Como eu começo com o desenvolvimento de plugins?". Decidi adicionar esta seção inteira para responder a essa pergunta! Só porque você conhece a linguagem não significa que sabe lidar com a IDE, afinal de contas; acho que isso é especialmente verdadeiro para o VC++ 2010. O Visual Studio pode ser um lugar muito intimidador para novos usuários. Acho que não é justo simplesmente entregar o SDK do plugin sem antes orientá-lo! Mexer com as páginas de propriedades/o linker pode facilmente assustar as pessoas, então vou guiá-lo por isso.</p>
<p><strong>Nota:</strong> Se você escolheu usar uma IDE/compilador diferente que tenha como alvo o Windows, você pode ter dificuldades! Parece que a única maneira de exportar funções com sucesso é usar um arquivo de definição de módulo (.DEF). Tentei incluir um método alternativo neste artigo usando __declspec(dllexport), mas isso simplesmente não funcionou devido à convenção de chamada __stdcall modificar os nomes das funções exportadas (Veja: <a href=https://pastebin.com/y3xkVY70 target=_blank rel="noopener noreferrer">Aqui</a>).</p>
<p>Aqui estão os downloads necessários para esta seção:</p>
<p><strong>Visual Studio Atualizado:</strong> <a href=https://visualstudio.microsoft.com/pt-br/downloads/ target=_blank rel="noopener noreferrer">Download</a></p>
<p><strong>Visual C++ 2010 Express:</strong> <a href=https://visualstudio.microsoft.com/vs/express/ target=_blank rel="noopener noreferrer">Download grátis</a></p>
<p><strong>Plugin SDK (Atualizado):</strong> <a href=https://github.com/maddinat0r/samp-plugin-sdk target=_blank rel="noopener noreferrer">Download</a></p>
<ul>
<li>
<p>A primeira coisa que queremos fazer é criar um novo projeto. Selecione <em>File -> New -> Project</em> para fazer isso.</p>
</li>
<li>
<p>Depois de criar um novo projeto, será solicitado o tipo de projeto que você está criando. Selecione <em>Win32 Project</em>, insira um nome para o projeto e pressione <em>OK</em> para continuar.</p>
</li>
<li>
<p>Depois de definir as configurações do seu projeto, este diálogo deve aparecer. Pressione <em>Next</em> para continuar.</p>
</li>
<li>
<p>Após clicar em continuar, deve aparecer uma caixa de diálogo solicitando o tipo e as configurações da aplicação. Para o tipo, selecione <em>DLL (Dynamic-link library)</em> e para as configurações, selecione <em>Empty project</em>. Depois disso, pressione o botão <em>Finish</em> na parte inferior.</p>
</li>
<li>
<p>O próximo passo é ir ao <em>Solution Explorer</em>. O <em>Solution Explorer</em> normalmente está no lado esquerdo da IDE. Se você o desativou acidentalmente, pode ativá-lo novamente pressionando <em>CTRL+ALT+L</em> ou selecionando <em>View -> Other Windows -> Solution Explorer</em>. No <em>Solution Explorer</em>, clique com o botão direito no nome do projeto (neste exemplo, é "Test") e selecione <em>Properties</em>.</p>
</li>
<li>
<p>Na janela de propriedades, navegue até <em>Configuration Properties -> Linker -> Input</em> no lado esquerdo. Quando estiver lá, adicione um arquivo de definição de módulo. Você pode nomear esse arquivo como preferir, desde que tenha a extensão ".def" no final; normalmente os arquivos <em>.def</em> são nomeados como o projeto. Depois de nomear seu arquivo de definição, pressione <em>OK</em>.</p>
</li>
<li>
<p>Agora, só precisamos adicionar nossos arquivos (incluindo o arquivo de definição!). Para adicionar um arquivo ao projeto, vá ao <em>Solution Explorer</em> novamente, clique com o botão direito no nome do projeto, clique em <em>Add</em> e selecione <em>New Item</em>. Neste exemplo, vamos adicionar nosso arquivo de definição. Como não há uma opção específica para arquivos de definição, escolha um arquivo-fonte (.cpp) e digite o nome do arquivo de definição do módulo que você escolheu (Nota: certifique-se de incluir a extensão ".def", caso contrário uma extensão ".cpp" será adicionada!). Depois disso, adicione um arquivo de origem para o projeto da mesma forma (exceto sem adicionar uma extensão). A maioria das pessoas usa o nome "Main" para seu arquivo principal de origem.</p>
</li>
<li>
<p>Antes de começar a adicionar qualquer coisa aos nossos dois arquivos atualmente vazios, precisamos realmente adicionar o SDK ao projeto. Se ainda não fez isso, baixe o SDK no link fornecido no início desta seção. Depois de baixá-lo, extraia a pasta do SDK para o diretório do projeto atual. Nota: esta parte é opcional: pessoalmente, gosto de criar filtros para organizar todos os nossos arquivos e códigos. Um filtro é uma ferramenta organizacional no Visual Studio que cria pastas no projeto, mas não cria pastas correspondentes no Windows (recomenda-se criar pastas correspondentes no Windows). Para criar um filtro, clique com o botão direito no projeto no <em>Solution Explorer</em> -> <em>Add</em> -> <em>New Filter</em> e selecione um nome para o filtro (neste caso, nomeie-o como SDK).</p>
</li>
<li>
<p>O próximo passo é adicionar todos os arquivos do SDK ao projeto atual. Para adicionar arquivos existentes ao projeto, clique com o botão direito na pasta ou no projeto onde deseja adicioná-los e selecione <em>Add -> Existing Item</em>. Você vai querer adicionar tudo o que está dentro da pasta do SDK no diretório do projeto (Nota: você pode selecionar vários arquivos segurando Ctrl enquanto clica nos arquivos para adicionar). Para manter a consistência das pastas, criaremos outro filtro dentro do filtro SDK e nomeá-lo-emos como <em>amx</em>. Claro, você vai querer adicionar todo o conteúdo da pasta SDK\amx\ dentro do filtro amx.</p>
</li>
</ul>
<p>Agora é hora de compilar o plugin! Se você seguiu as instruções corretamente, deve ter um arquivo de definição de módulo e um arquivo de origem abertos; se não, volte alguns passos e siga as instruções com atenção. Agora, copie e cole as informações a seguir em seus respectivos arquivos. Não se preocupe se não entender tudo, abordaremos isso na próxima seção.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=arquivo-de-origem-cpp>Arquivo de origem (*.cpp)<a href=#arquivo-de-origem-cpp class=hash-link aria-label="Link direto para Arquivo de origem (*.cpp)" title="Link direto para Arquivo de origem (*.cpp)">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>"SDK\amx\amx.h"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>"SDK\plugincommon.h"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>typedef</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>void</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>*</span><span class="token plain">logprintf_t</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>char</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> format</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">logprintf_t logprintf</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>extern</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>void</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">pAMXFunctions</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>HelloWorld</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"This was printed from the Test plugin! Yay!"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">PLUGIN_EXPORT </span><span class="token keyword" style=color:#00009f>unsigned</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> PLUGIN_CALL </span><span class="token function" style=color:#d73a49>Supports</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> SUPPORTS_VERSION </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> SUPPORTS_AMX_NATIVES</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">PLUGIN_EXPORT </span><span class="token keyword" style=color:#00009f>bool</span><span class="token plain"> PLUGIN_CALL </span><span class="token function" style=color:#d73a49>Load</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>void</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token operator" style=color:#393A34>*</span><span class="token plain">ppData</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    pAMXFunctions </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> ppData</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">PLUGIN_DATA_AMX_EXPORTS</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    logprintf </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">logprintf_t</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> ppData</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">PLUGIN_DATA_LOGPRINTF</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>" * Test plugin was loaded."</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">PLUGIN_EXPORT </span><span class="token keyword" style=color:#00009f>void</span><span class="token plain"> PLUGIN_CALL </span><span class="token function" style=color:#d73a49>Unload</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>" * Test plugin was unloaded."</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">AMX_NATIVE_INFO PluginNatives</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"HelloWorld"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> HelloWorld</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">PLUGIN_EXPORT </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> PLUGIN_CALL </span><span class="token function" style=color:#d73a49>AmxLoad</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_Register</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> PluginNatives</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>-</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">PLUGIN_EXPORT </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> PLUGIN_CALL </span><span class="token function" style=color:#d73a49>AmxUnload</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> AMX_ERR_NONE</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=arquivo-de-definição-de-módulo-def>Arquivo de definição de módulo (*.def)<a href=#arquivo-de-definição-de-módulo-def class=hash-link aria-label="Link direto para Arquivo de definição de módulo (*.def)" title="Link direto para Arquivo de definição de módulo (*.def)">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">EXPORTS</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      Supports</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      Load</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      Unload</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      AmxLoad</span><br></span><span class=token-line style=color:#393A34><span class="token plain">      AmxUnload</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=examinando-o-código>Examinando o código<a href=#examinando-o-código class=hash-link aria-label="Link direto para Examinando o código" title="Link direto para Examinando o código">​</a></h2>
<p>Nesta seção, vamos dar uma olhada em algumas das definições, estruturas e funções que o SDK de plugins do SA-MP oferece. Você deve ter uma compreensão confortável de C/C++ antes de prosseguir, pois a partir daqui <strong>só</strong> explicarei informações relacionadas ao SDK nos segmentos de código. A partir deste ponto, não haverá mais “mão na massa”!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=o-arquivo-de-definição-de-módulo>O arquivo de definição de módulo<a href=#o-arquivo-de-definição-de-módulo class=hash-link aria-label="Link direto para O arquivo de definição de módulo" title="Link direto para O arquivo de definição de módulo">​</a></h3>
<p>Antes de analisarmos o código, vamos verificar o arquivo de definição de módulo que criamos na seção anterior. Mas, antes de tudo, o que exatamente é um arquivo de definição de módulo? Sabemos que é um recurso exclusivo do Visual Studio, mas o que ele realmente faz? É simples! Um arquivo de definição de módulo fornece informações para o linker sobre o código que está sendo vinculado. Existem muitas regras e declarações que podem ser usadas nesses arquivos, mas vamos falar apenas de uma: a declaração EXPORTS.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=o-que-é-exports>O que é "<strong>EXPORTS</strong>"<a href=#o-que-é-exports class=hash-link aria-label="Link direto para o-que-é-exports" title="Link direto para o-que-é-exports">​</a></h4>
<p>Exports é uma declaração que nos permite… bem, exportar itens para a nossa aplicação! Por que fazemos isso? Porque é necessário, tão simples quanto isso. As funções que exportamos são pontos de entrada em nosso arquivo DLL. Aplicativos podem acessar apenas as funções em nossa DLL que exportamos; se não as exportarmos, elas permanecem privadas no arquivo DLL. E não queremos isso, certo? Então, exportamos tudo o que a aplicação irá acessar diretamente.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=funções-exportadas>Funções exportadas<a href=#funções-exportadas class=hash-link aria-label="Link direto para Funções exportadas" title="Link direto para Funções exportadas">​</a></h4>
<p>Atualmente, há 6 funções que precisam ser exportadas. Usamos 5 delas no projeto que estamos configurando. Não se preocupe com as definições <code>PLUGIN_EXPORT</code> e <code>PLUGIN_CALL</code> que você vê nas declarações de funções. Vamos abordá-las juntamente com outras definições importantes (marcadas em verde) mais adiante no artigo.</p>
<table><thead><tr><th>Funções<th>Descrição<tbody><tr><td><strong>Supports()</strong><td>Esta função informa ao servidor quais recursos nosso plugin terá com base no valor retornado. Geralmente, usamos apenas 3 flags de suporte em plugins: <strong>SUPPORTS_VERSION</strong>, <strong>SUPPORTS_AMX_NATIVES</strong> e <strong>SUPPORTS_PROCESS_TICK</strong>.<tr><td><strong>Load(void**)</strong><td>A função Load é bem simples. Ela é chamada quando o plugin é carregado e recebe um array de endereços que o plugin usará para funcionar. Os dois índices que normalmente usamos são <strong>PLUGIN_DATA_AMX_EXPORTS</strong> e <strong>PLUGIN_DATA_LOGPRINTF</strong>.<tr><td><strong>Unload()</strong><td>Unload é chamada quando o plugin é descarregado (quando o servidor é encerrado).<tr><td><strong>AmxLoad(AMX*)</strong><td>Esta função é chamada sempre que uma nova instância AMX é carregada no servidor. Isso acontece para cada filterscript/modo de jogo! Por isso, não é uma boa ideia armazenar uma única instância AMX para todo o plugin; em vez disso, use uma fila/lista/vetor. Nesta função, também registramos as funções nativas que queremos disponibilizar para o PAWN.<tr><td><strong>AmxUnload(AMX*)</strong><td>Esta função é chamada sempre que uma instância AMX é descarregada. Se você armazena instâncias AMX, certifique-se de removê-las. Caso contrário, terá instâncias para modos de jogo/filterscripts inexistentes.<tr><td><strong>ProcessTick()</strong><td>ProcessTick é uma função chamada a cada iteração do loop do servidor. As pessoas geralmente a usam para controlar o tempo, monitorando a quantidade de ticks que passaram. Dizem que o servidor SA-MP possui um tempo de espera de 5ms, então se passarem 50 ticks, você terá uma ideia do tempo decorrido (5 * 50 = 250ms). <strong>Nota:</strong> Quem usa threads em seus plugins e precisa interagir com o PAWN deve usar esta função para garantir que o PAWN não está ocupado com outra tarefa!</table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=definições-e-estruturas>Definições e estruturas<a href=#definições-e-estruturas class=hash-link aria-label="Link direto para Definições e estruturas" title="Link direto para Definições e estruturas">​</a></h3>
<p>Agora vem a parte divertida, onde analisamos o código! Você provavelmente notará desde o início que estamos usando uma série de definições e estruturas em nosso pequeno exemplo da seção anterior. Se você nunca desenvolveu um plugin SA-MP antes, isso pode parecer muito confuso e até intimidante. Vamos esclarecer essas definições e estruturas nesta seção.</p>
<table><thead><tr><th>Definições/Estruturas<th>Descrição<tbody><tr><td><strong>cell</strong><td>Um "cell" é um typedef utilizado para portabilidade. O PAWN oferece suporte para inteiros de 16, 32 e 64 bits. O typedef "cell" sempre terá o tamanho correto, enquanto "int" pode não ter. Geralmente, com plugins SA-MP, este typedef será sempre um inteiro de 32 bits. <strong>Nota:</strong> Existe também um typedef "ucell" para inteiros sem sinal, mas ele é pouco usado.<tr><td><strong>AMX_NATIVE_CALL</strong><td>Define a convenção de chamada que nossas funções nativas irão usar. Atualmente, está definida como nada, então o padrão será utilizado.<tr><td><strong>AMX</strong><td>O nome desta estrutura é autoexplicativo, é uma instância AMX. Esta estrutura contém diversas informações relacionadas aos segmentos de dados, juntamente com outras informações relevantes do amx. Esta estrutura deve estar presente em todas as declarações de funções nativas, juntamente com um ponteiro cell para os parâmetros passados; sem essas informações, não sabemos qual script está chamando nossa função nativa, nem o que foi passado.<tr><td><strong>PLUGIN_EXPORT</strong><td>Este é definido como "PLUGIN_EXTERN_C".<tr><td><strong>PLUGIN_EXTERN_C</strong><td>Se estiver usando um compilador C++, isto é definido como "extern "C"". Isso garante compatibilidade com C. O C++ oferece recursos como sobrecarga de funções, então informações adicionais como o número/tamanho dos argumentos são armazenadas no nome da função, o que é chamado de "name mangling". Este define informa ao C++ para usar a ligação no estilo C, evitando o name mangling do C++.<tr><td><strong>PLUGIN_CALL</strong><td>Esta definição informa ao C/C++ qual convenção de chamada usar para nossas funções exportadas. Se você usa um compilador para Windows, isto é definido como __stdcall. Caso contrário, é definido como nada, e a convenção padrão é usada.<tr><td><strong>SUPPORTS_VERSION</strong><td>Esta definição deve ser usada em uma máscara de bits que é retornada pela função "Supports()". Este flag é usado para verificar a compatibilidade com o servidor.<tr><td><strong>SUPPORTS_AMX_NATIVES</strong><td>Esta é outra definição que deve ser usada pela função "Supports()". Qualquer plugin que use funções AMX deve usar este flag! Sem ele, você terá um erro de execução 19 devido às suas nativas não se registrarem com o servidor (amx_Register).<tr><td><strong>SUPPORTS_PROCESS_TICK</strong><td>Nosso último flag para a função "Supports()". Se você for usar a função "ProcessTick()", é preciso adicioná-lo à máscara de bits retornada pela função "Supports()".<tr><td><strong>PLUGIN_DATA_AMX_EXPORTS</strong><td>Este é usado como um índice para o array multidimensional que é passado no Load. Este índice específico contém a tabela de funções AMX. Todos os plugins devem usar este índice para atribuir o endereço da tabela de funções a pAMXFunctions.<tr><td><strong>PLUGIN_DATA_LOGPRINTF</strong><td>Outro índice a ser usado com o array multidimensional passado no Load. Este índice contém o endereço da função logprintf, que imprime informações e as salva no arquivo de log do servidor. Se o seu plugin usar essa função, você deve usar esse índice para atribuir o endereço ao ponteiro de função logprintf.<tr><td><strong>AMX_NATIVE_INFO</strong><td>Esta struct é usada junto com amx_Register. Contém uma string com o nome da nova função nativa e um ponteiro para seu endereço.</table>
<p>Existem algumas outras definições importantes que estão relacionadas a erros de funções AMX, mas elas já estão documentadas no cabeçalho amx. Portanto, em vez de reinventar a roda, vou apenas postar o enum com todos os códigos de erro e seus comentários correspondentes. <strong>Nota:</strong> Todas as funções amx, com exceção de amx_NativeInfo, retornam um desses códigos de erro se um problema for encontrado.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=funções-amx>Funções Amx<a href=#funções-amx class=hash-link aria-label="Link direto para Funções Amx" title="Link direto para Funções Amx">​</a></h2>
<p>As funções <code>amx</code> estão muito bem documentadas no guia do implementador PAWN, que pode ser encontrado aqui. Em vez de reinventar a roda e explicar todas as funções com minhas próprias palavras, vou simplesmente copiá-las do guia do implementador e torná-las um pouco mais apresentáveis; acredito que isso tornará o conteúdo muito mais acessível. Com isso dito, esta seção será principalmente uma referência para a próxima seção, que foca em algo que o guia do implementador não abrange: exemplos de código. Nota: vou cobrir apenas as funções que considero vitais para plugins (por enquanto). Qualquer outra informação pode ser encontrada no guia do implementador; basta garantir que você use a versão que eu referenciei nesta seção!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=legenda>Legenda<a href=#legenda class=hash-link aria-label="Link direto para Legenda" title="Link direto para Legenda">​</a></h3>
<p>+ => Não disponível</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_allot>amx_Allot<a href=#amx_allot class=hash-link aria-label="Link direto para amx_Allot" title="Link direto para amx_Allot">​</a></h2>
<p>- Reserva espaço no heap da máquina abstrata</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe>Sintaxe<a href=#sintaxe class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_Allot</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> cells</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell </span><span class="token operator" style=color:#393A34>*</span><span class="token operator" style=color:#393A34>*</span><span class="token plain">phys_addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>amx</strong><td>A máquina abstrata.<tr><td><strong>cells</strong><td>O número de células a serem reservadas.<tr><td><strong>amx_addr</strong><td>O endereço da célula alocada para que o programa pawn (que executa na máquina abstrata) possa acessá-lo. <code>phys_addr</code> é o endereço da célula para acesso em C/C++.</table>
<p><strong>Notas:</strong> Em versões anteriores do PAWN, matrizes e strings tinham que ser passadas para um script após a alocação explícita de memória na pilha <code>amx</code>. Na versão atual, essa funcionalidade foi amplamente substituída pelas funções <code>amx_PushArray</code> e <code>amx_PushString</code>. Uma função PAWN pode acessar a memória apenas dentro de sua máquina abstrata. Se um parâmetro deve ser passado "por referência" para uma função PAWN, é necessário passar o endereço desse parâmetro para <code>amx_Exec</code>. Além disso, o próprio endereço deve estar dentro do intervalo de endereços da máquina abstrata. A <code>amx_Allot</code> aloca células de memória na máquina abstrata e retorna dois endereços: <code>amx_addr</code> é o endereço da variável relativo à “seção de dados” da máquina abstrata; este é o valor que você deve passar para <code>amx_Exec</code> (via <code>amx_Push</code>). O parâmetro <code>phys_addr</code> mantém o endereço relativo ao espaço de endereço do programa anfitrião, permitindo que um programa C/C++ use esse endereço e escreva na memória alocada. Após <code>amx_Exec</code> retornar, você pode inspecionar o bloco de memória (a função PAWN chamada por <code>amx_Exec</code> pode ter escrito nele) e finalmente liberá-lo chamando <code>amx_Release</code>.</p>
<p><strong>Veja também:</strong> <a href=#amx_exec>amx_Exec</a>, <a href=#amx_pusharray>amx_PushArray</a>, <a href=#amx_pushstring>amx_PushString</a>, <a href=#amx_release>amx_Release</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_ctof>amx_ctof<a href=#amx_ctof class=hash-link aria-label="Link direto para amx_ctof" title="Link direto para amx_ctof">​</a></h2>
<p>- Converte “cell” para “float”</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-1>Sintaxe<a href=#sintaxe-1 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token keyword" style=color:#00009f>float</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_ctof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">cell</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> c</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>c</strong><td>Valor a ser convertido do tipo “cell” para “float”.</table>
<p><strong>Retorna:</strong> O mesmo padrão de bits, agora como um tipo de ponto flutuante.</p>
<p><strong>Notas:</strong> Esta macro converte um tipo “cell” para um tipo “float” sem alterar o padrão de bits. Um cast normal em C/C++ altera a representação de memória da expressão para que seu valor numérico em formato IEEE 754 seja o mais próximo possível do valor inteiro original. O parser e a máquina abstrata PAWN armazenam valores de ponto flutuante em uma célula — ao recuperar um valor de ponto flutuante de uma célula, o padrão de bits não deve ser alterado.</p>
<p><strong>Veja também:</strong> <a href=#amx_ftoc>amx_ftoc</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_exec>amx_Exec<a href=#amx_exec class=hash-link aria-label="Link direto para amx_Exec" title="Link direto para amx_Exec">​</a></h2>
<p>- Executa o código</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-2>Sintaxe<a href=#sintaxe-2 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_Exec</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>long</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">retval</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> index</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>amx</strong><td>A máquina abstrata na qual chamar uma função.<tr><td><strong>retval</strong><td>Armazena o valor de retorno da função chamada ao retornar. Este parâmetro pode ser <code>NULL</code> se você não estiver interessado no valor de retorno.<tr><td><strong>index</strong><td>Índice na “tabela de funções públicas” que indica a função a ser executada. Use <code>AMX_EXEC_MAIN</code> para iniciar a execução da função principal e <code>AMX_EXEC_CONT</code> para continuar a partir de um “estado de espera”.</table>
<p><strong>Notas:</strong> Esta função executa o script, começando na função indicada. Ela chama a função de retorno de chamada para qualquer chamada de função nativa que o código em <code>amx</code> faz. <code>amx_Exec</code> assume que todas as funções nativas foram corretamente inicializadas com <code>amx_Register</code>.</p>
<p><strong>Veja também:</strong> <a href=#amx_findpublic>amx_FindPublic</a>, <a href=#amx_register>amx_Register</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_findpublic>amx_FindPublic<a href=#amx_findpublic class=hash-link aria-label="Link direto para amx_FindPublic" title="Link direto para amx_FindPublic">​</a></h2>
<p>- Retorna o índice de uma função pública</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-3>Sintaxe<a href=#sintaxe-3 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_FindPublic</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>char</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">funcname</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">index</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>amx</strong><td>A máquina abstrata.<tr><td><strong>funcname</strong><td>O nome da função pública a ser encontrada.<tr><td><strong>index</strong><td>Ao retornar, esse parâmetro mantém o índice da função pública solicitada.</table>
<p><strong>Veja também:</strong> <a href=#amx_exec>amx_Exec</a>, amx_FindNative+, amx_FindPubVar+, amx_GetPublic+, amx_NumPublics+</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_ftoc>amx_ftoc<a href=#amx_ftoc class=hash-link aria-label="Link direto para amx_ftoc" title="Link direto para amx_ftoc">​</a></h2>
<p>- Converte “float” para “cell”</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-4>Sintaxe<a href=#sintaxe-4 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">cell</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_ftoc</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>[</span><span class="token keyword" style=color:#00009f>float</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> f</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>f</strong><td>O valor a ser convertido do tipo “float” para “cell”.</table>
<p><strong>Retorna:</strong> O mesmo padrão de bits, agora como um tipo “cell”.</p>
<p><strong>Notas:</strong> Esta macro converte um tipo “float” para um tipo “cell” sem alterar o padrão de bits. Um cast normal em C/C++ altera a representação de memória da expressão para que seu valor numérico em formato inteiro seja o valor truncado do valor racional original. O parser e a máquina abstrata PAWN armazenam valores de ponto flutuante em uma célula — ao armazenar um valor de ponto flutuante em uma célula, o padrão de bits não deve ser alterado.</p>
<p><strong>Veja também:</strong> <a href=#amx_ctof>amx_ctof</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_getaddr>amx_GetAddr<a href=#amx_getaddr class=hash-link aria-label="Link direto para amx_GetAddr" title="Link direto para amx_GetAddr">​</a></h2>
<p>- Resolve um endereço AMX</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-5>Sintaxe<a href=#sintaxe-5 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell amx_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell </span><span class="token operator" style=color:#393A34>*</span><span class="token operator" style=color:#393A34>*</span><span class="token plain">phys_addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>amx</strong><td>A máquina abstrata.<tr><td><strong>amx_addr</strong><td>O endereço relativo à máquina abstrata.<tr><td><strong>phys_addr</strong><td>Ponteiro para a variável que conterá o endereço de memória da célula indicada. Se <code>amx_addr</code> não for válido, <code>phys_addr</code> será <code>NULL</code>.</table>
<p><strong>Notas:</strong> Esta função retorna o endereço de memória de um endereço na máquina abstrata. Tipicamente, usa-se essa função em um módulo de extensão, pois permite acessar variáveis dentro da máquina abstrata.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_getstring>amx_GetString<a href=#amx_getstring class=hash-link aria-label="Link direto para amx_GetString" title="Link direto para amx_GetString">​</a></h2>
<p>- Recupera uma string da máquina abstrata</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-6>Sintaxe<a href=#sintaxe-6 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_GetString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>char</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">dest</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">source</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> use_wchar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> size_t size</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>dest</strong><td>Ponteiro para um array de caracteres com tamanho suficiente para armazenar a string convertida de <code>source</code>.<tr><td><strong>source</strong><td>Ponteiro para a string de origem. Use <code>amx_GetAddr</code> para converter um endereço de string <code>amx</code> para um endereço físico.<tr><td><strong>use_wchar</strong><td>Um valor não-zero interpreta <code>dest</code> como um ponteiro para “caracteres largos” (<code>wchar_t</code>), permitindo Unicode.<tr><td><strong>size</strong><td>Número máximo de caracteres a serem armazenados em <code>dest</code>, incluindo o byte <code>NULL</code>.</table>
<p><strong>Notas:</strong> Esta função converte strings compactadas e não compactadas do formato PAWN para o formato C. Ao recuperar uma string não compactada com o parâmetro <code>use_wchar</code> definido como zero, a função pode truncar caracteres de 16 bits para ASCII/ANSI.</p>
<p><strong>Veja também:</strong> <a href=#amx_setstring>amx_SetString</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_push>amx_Push<a href=#amx_push class=hash-link aria-label="Link direto para amx_Push" title="Link direto para amx_Push">​</a></h2>
<p>- Passa um argumento numérico “por valor”</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-7>Sintaxe<a href=#sintaxe-7 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_Push</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell value</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>amx</strong><td>A máquina abstrata.</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_pushstring>amx_PushString<a href=#amx_pushstring class=hash-link aria-label="Link direto para amx_PushString" title="Link direto para amx_PushString">​</a></h2>
<p>- Passa uma string.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-8>Sintaxe<a href=#sintaxe-8 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_PushString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell </span><span class="token operator" style=color:#393A34>*</span><span class="token operator" style=color:#393A34>*</span><span class="token plain">phys_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>char</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">string</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> pack</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> use_wchar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>amx</strong><td>A máquina abstrata.<tr><td><strong>amx_addr</strong><td>O endereço da célula alocada que o programa Pawn (que roda na máquina abstrata) pode acessar; necessário para liberar o bloco de memória. Esse parâmetro pode ser NULL.<tr><td><strong>phys_addr</strong><td>O endereço da célula para que programas em C/C++ possam acessá-la. Esse parâmetro pode ser NULL.<tr><td><strong>string</strong><td>A string a ser passada para a função pública.<tr><td><strong>pack</strong><td>Valor não-zero para converter a string de origem em uma string compactada na máquina abstrata, ou zero para converter a string de origem em uma string de células.<tr><td><strong>use_wchar</strong><td>Um valor não-zero interpreta o argumento da string como um ponteiro para “caracteres largos”, ou seja, <code>wchar_t</code>, independente de seu tipo <code>char</code>. Isso permite strings Unicode.</table>
<p><strong>Notas:</strong> Quaisquer parâmetros para uma função pública devem ser empilhados na função antes de chamar <code>amx_Exec</code>. Se uma função pública possui múltiplos argumentos, estes devem ser empilhados na ordem inversa. A função aloca memória para o array dentro do "heap" da máquina abstrata. Esta memória deve ser liberada com <code>amx_Release</code>. Veja a função <code>amx_Allot</code> para mais detalhes sobre os parâmetros <code>amx_addr</code> e <code>phys_addr</code>. Ao passar uma string Unicode e solicitar um formato compactado na máquina abstrata (ou seja, <code>pack</code> e <code>use_wchar</code> são verdadeiros), os caracteres são truncados para 8 bits.</p>
<p><strong>Veja também:</strong> <a href=#amx_exec>amx_Exec</a>, <a href=#amx_push>amx_Push</a>, <a href=#amx_pusharray>amx_PushArray</a>, <a href=#amx_release>amx_Release</a>, <a href=#amx_setstring>amx_SetString</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_register>amx_Register<a href=#amx_register class=hash-link aria-label="Link direto para amx_Register" title="Link direto para amx_Register">​</a></h2>
<p>- Torna as funções nativas conhecidas</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-9>Sintaxe<a href=#sintaxe-9 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_Register</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> AMX_NATIVE_INFO </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">list</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> number</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>amx</strong><td>A máquina abstrata.<tr><td><strong>list</strong><td>Um array de estruturas onde cada estrutura mantém um ponteiro para o nome de uma função nativa e um ponteiro para a função. O array é opcionalmente finalizado com uma estrutura de ponteiros NULL.<tr><td><strong>number</strong><td>O número de estruturas no array <code>list</code>, ou -1 se o array termina com uma estrutura contendo dois ponteiros NULL.</table>
<p><strong>Notas:</strong> Em caso de sucesso, essa função retorna 0 (<code>AMX_ERR_NONE</code>). Se a função retornar o código de erro <code>AMX_ERR_NOTFOUND</code>, uma ou mais funções nativas usadas pelo programa Pawn não foram encontradas na lista fornecida. É possível chamar <code>amx_Register</code> novamente para registrar listas adicionais de funções.</p>
<p>Para verificar se todas as funções nativas usadas no script compilado foram registradas, chame <code>amx_Register</code> com o parâmetro <code>list</code> definido como NULL. Esta chamada não registrará novas funções nativas, mas ainda retornará <code>AMX_ERR_NOTFOUND</code> se alguma função nativa estiver desregistrada.</p>
<p><strong>Veja também:</strong> amx_NativeInfo+</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_release>amx_Release<a href=#amx_release class=hash-link aria-label="Link direto para amx_Release" title="Link direto para amx_Release">​</a></h2>
<p>- Libera espaço do heap na máquina abstrata</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-10>Sintaxe<a href=#sintaxe-10 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_Release</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell amx_addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>amx</strong><td>A máquina abstrata.<tr><td><strong>amx_addr</strong><td>O endereço da célula alocada que o programa Pawn (que roda na máquina abstrata) vê. Esse valor é retornado por <code>amx_Allot</code>, <code>amx_PushArray</code> e <code>amx_PushString</code>.</table>
<p><strong>Notas:</strong> <code>amx_Allot</code> aloca memória no heap em ordem ascendente (o heap cresce para cima). <code>amx_Release</code> libera toda a memória acima do valor do parâmetro de entrada <code>amx_addr</code>. Assim, uma única chamada para <code>amx_Release</code> pode liberar múltiplas chamadas para <code>amx_Allot</code> se você passar o valor <code>amx_addr</code> da primeira alocação. <code>amx_PushArray</code> e <code>amx_PushString</code> usam <code>amx_Allot</code> internamente, então o mesmo procedimento se aplica a essas funções também.</p>
<p><strong>Veja também:</strong> <a href=#amx_allot>amx_Allot</a>, <a href=#amx_pusharray>amx_PushArray</a>, <a href=#amx_pushstring>amx_PushString</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=amx_setstring>amx_SetString<a href=#amx_setstring class=hash-link aria-label="Link direto para amx_SetString" title="Link direto para amx_SetString">​</a></h2>
<p>- Armazena uma string na máquina abstrata</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=sintaxe-11>Sintaxe<a href=#sintaxe-11 class=hash-link aria-label="Link direto para Sintaxe" title="Link direto para Sintaxe">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_SetString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">cell </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">dest</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>char</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">source</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> pack</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> use_wchar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> size_t size</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<table><thead><tr><th>Parâmetro<th>Descrição<tbody><tr><td><strong>dest</strong><td>Um ponteiro para um array de caracteres no <code>amx</code> onde a string convertida é armazenada. Use <code>amx_GetAddr</code> para converter um endereço de string no <code>amx</code> para o endereço físico.<tr><td><strong>source</strong><td>Um ponteiro para a string de origem.<tr><td><strong>pack</strong><td>Valor não-zero para converter a string de origem em uma string compactada na máquina abstrata, zero para converter a string de origem em uma string de células.<tr><td><strong>string</strong><td>A string a ser passada para a função pública.<tr><td><strong>use_wchar</strong><td>Um valor não-zero interpreta o argumento da string como um ponteiro para “caracteres largos”, ou seja, <code>wchar_t</code>, independente de seu tipo <code>char</code>. Isso permite strings Unicode.<tr><td><strong>size</strong><td>O número máximo de células a serem armazenadas em <code>dest</code>, incluindo o caractere ou célula zero de terminação. Se a string em <code>source</code> for maior, ela será truncada.</table>
<p><strong>Notas:</strong> Ao passar uma string Unicode e solicitar um formato compactado na máquina abstrata (ou seja, <code>pack</code> e <code>use_wchar</code> são verdadeiros), os caracteres são truncados para 8 bits.</p>
<p><strong>Veja também:</strong> <a href=#amx_getstring>amx_GetString</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=exemplos-de-funções-amx>Exemplos de Funções AMX<a href=#exemplos-de-funções-amx class=hash-link aria-label="Link direto para Exemplos de Funções AMX" title="Link direto para Exemplos de Funções AMX">​</a></h2>
<p>Para evitar longos blocos de texto, adicionei comentários no código para explicar o que estou fazendo em vez de escrever na seção do tópico. É provavelmente uma boa ideia manter o artigo da wiki aberto como referência enquanto lê os exemplos.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=registrando-nativas>Registrando Nativas<a href=#registrando-nativas class=hash-link aria-label="Link direto para Registrando Nativas" title="Link direto para Registrando Nativas">​</a></h3>
<p>Cada função que fornecemos para PAWN deve ser registrada para que a máquina abstrata esteja ciente de sua existência. Vou reutilizar um exemplo de seção anterior, acrescentando comentários.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// Um array das funções que queremos registrar na máquina abstrata.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">AMX_NATIVE_INFO PluginNatives</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Especificamos informações da função nativa e terminamos o array com dois valores NULL.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"HelloWorld"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> HelloWorld</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">PLUGIN_EXPORT </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> PLUGIN_CALL </span><span class="token function" style=color:#d73a49>AmxLoad</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Registramos nossas nativas na máquina abstrata. Usamos -1 para especificar o número</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// de funções, pois terminamos o array com dois valores NULL.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_Register</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> PluginNatives</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>-</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<ul>
<li>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=obtendo-uma-string-e-seu-tamanho>Obtendo uma String e Seu Tamanho<a href=#obtendo-uma-string-e-seu-tamanho class=hash-link aria-label="Link direto para Obtendo uma String e Seu Tamanho" title="Link direto para Obtendo uma String e Seu Tamanho">​</a></h3>
</li>
</ul>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// Esta função demonstra como obter uma string (e seu tamanho) do PAWN.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// PAWN native: native PrintPawnString(const str[]);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>PrintPawnString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> len </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> ret </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    cell </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">addr  </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Obtemos o endereço do parâmetro string (str) e seu tamanho.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_StrLen</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">len</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">len</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Incrementamos len para acomodar o caractere nulo ao alocar memória.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        len</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>char</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> text </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>char</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"> len </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_GetString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">text</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> len</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">text</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>delete</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> text</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=método-alternativo-para-obter-uma-string>Método Alternativo para Obter uma String<a href=#método-alternativo-para-obter-uma-string class=hash-link aria-label="Link direto para Método Alternativo para Obter uma String" title="Link direto para Método Alternativo para Obter uma String">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// Demonstra uma forma alternativa de obter strings do Pawn, com os possíveis riscos.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// PAWN native: native PrintPawnString2(const str[]);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>PrintPawnString2</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>char</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> text </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_StrParam</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> text</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">text </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">text</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=como-definir-uma-string>Como Definir uma String<a href=#como-definir-uma-string class=hash-link aria-label="Link direto para Como Definir uma String" title="Link direto para Como Definir uma String">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// Demonstra como modificar uma string no PAWN.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// PAWN native: native SetPawnString(str[], len = sizeof(str));</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>SetPawnString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> string</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> str </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Texto do plugin"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> dest </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">dest</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_SetString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">dest</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> str</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>c_str</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<p>Esses exemplos cobrem o básico sobre strings</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=passando-parâmetros-por-referência>Passando parâmetros por referência<a href=#passando-parâmetros-por-referência class=hash-link aria-label="Link direto para Passando parâmetros por referência" title="Link direto para Passando parâmetros por referência">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//Esta função demonstra como passar parâmetros por referência.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//PAWN nativo: native SetPawnReferenceVars(&value1, &Float:value2);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>SetPawnReferenceVars</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> val </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>65</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>float</span><span class="token plain"> val2 </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>84.54f</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//Obtém os endereços de "value1" e "value2"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//Desreferencia os ponteiros e atribui valores. Lembre-se de SEMPRE usar a macro "amx_ftoc" para converter floats em</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//cells (o formato float adequado para PAWN)!</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> val</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_ftoc</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">val2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=obtendo-e-modificando-valores-de-array>Obtendo e modificando valores de array<a href=#obtendo-e-modificando-valores-de-array class=hash-link aria-label="Link direto para Obtendo e modificando valores de array" title="Link direto para Obtendo e modificando valores de array">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//Esta função demonstra como obter e modificar valores de um array.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//PAWN nativo: native PrintPawnArray(arr[], size = sizeof(arr));</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>PrintPawnArray</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//Certifique-se de que há algo para imprimir...</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>></span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> addr </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Obtém o endereço do primeiro valor no array PAWN.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>for</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> i </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> l </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> i </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain"> l</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"> i</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>//É simples: Desreferenciamos o ponteiro addr para obter o valor a ser impresso.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>//Arrays e ponteiros são quase iguais, então podemos usar aritmética de ponteiros para adicionar um deslocamento</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>//ou simplesmente o operador de índice (no final *(addr+1) e addr[1] são o mesmo).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"arr[%d] = %d"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> i</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">addr </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> i</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>//Se você quisesse modificar o array, basta mudar o valor desreferenciando addr e atribuindo um novo valor.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>//Aqui mudamos o primeiro valor do array para 5 (Nota: Como é o primeiro valor, sem deslocamento).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token comment" style=color:#999988;font-style:italic>// *(addr) = 5;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=chamando-um-callback>Chamando um callback<a href=#chamando-um-callback class=hash-link aria-label="Link direto para Chamando um callback" title="Link direto para Chamando um callback">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//Esta função demonstra como chamar um callback que está em um script PAWN.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//PAWN nativo: native EmitPawnCallback();</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>EmitPawnCallback</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> idx</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> cell var </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> cell arr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token number" style=color:#36acaa>100</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>4</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>33</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> string str </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Uma mensagem aleatória do C++."</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//Callback PAWN: forward OnPawnCallbackEmitted(var, arr[], str[]);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//Encontra nosso callback e armazena sua posição na tabela de funções públicas (índice) na variável idx.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>!</span><span class="token function" style=color:#d73a49>amx_FindPublic</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"OnPawnCallbackEmitted"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">idx</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        cell ret</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> addr</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Aqui empurramos os argumentos para nossa função. Note que, se a função tiver vários argumentos, você deve empurrá-los em ordem reversa! Por isso, primeiro a string, depois o array e, por último, o inteiro.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_PushString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> str</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>c_str</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//amx_PushArray(amx, NULL, NULL, arr, sizeof(arr) / sizeof(cell));</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        cell amx_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">phys_addr</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Por algum motivo, amx_PushArray está travando o servidor, e não faço ideia do porquê. A solução é alocar memória usando amx_Allot, copiar para phys_addr e empurrar manualmente.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Allot</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">arr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>/</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">cell</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">amx_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">phys_addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>memcpy</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">phys_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> arr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">arr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Push</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> amx_addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Empurra nosso valor inteiro</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Push</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> var</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Executa a função usando o índice previamente obtido.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Nota: O segundo parâmetro é o valor de retorno do callback (pode ser NULL se não precisar de retorno).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Exec</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">ret</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> idx</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Libera a memória alocada. Tanto amx_PushString quanto amx_PushArray usam amx_Allot, então devemos liberar a memória com amx_Release.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Release</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Imprime o valor de retorno (por completude).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"EmitPawnCallback: O callback OnPawnCallbackEmitted retornou %d!"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> ret</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=chamando-nativos-e-interceptando-callbacks>Chamando nativos e interceptando callbacks<a href=#chamando-nativos-e-interceptando-callbacks class=hash-link aria-label="Link direto para Chamando nativos e interceptando callbacks" title="Link direto para Chamando nativos e interceptando callbacks">​</a></h2>
<p>Antes de entrarmos na interceptação de callbacks ou chamadas de nativos SA-MP, é importante lembrar que plugins foram projetados para fornecer funcionalidades ao PAWN, não para substituí-lo. A decisão de criar um plugin em vez de um script PAWN deve ser cuidadosamente avaliada.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=invoke>Invoke<a href=#invoke class=hash-link aria-label="Link direto para Invoke" title="Link direto para Invoke">​</a></h3>
<p>Invoke é um método para chamar funções nativas do SA-MP criado por Incognito. <a href=https://github.com/Dystans/SA-MP_Invoke_2.0 target=_blank rel="noopener noreferrer">Encontre aqui</a>. Para o Invoke funcionar, você deve ter uma função pública PAWN que use todas as nativas que seu plugin requer.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=começando>Começando<a href=#começando class=hash-link aria-label="Link direto para Começando" title="Link direto para Começando">​</a></h4>
<ol>
<li>Inclua o cabeçalho do invoke.</li>
<li>Aloque memória para a instância do invoke em <code>Load</code>.</li>
<li>Adicione o membro <code>amx_list</code> toda vez que uma nova instância AMX é carregada em <code>AmxLoad</code>.</li>
<li>Remova a instância AMX ao descarregar o script em <code>AmxUnload</code>.</li>
<li>Crie uma nativa que chame a função <code>getAddresses</code> do invoke para PAWN quando um filterscript ou gamemode que usa o plugin for carregado.</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=adicionando-nativos-sa-mp>Adicionando nativos SA-MP<a href=#adicionando-nativos-sa-mp class=hash-link aria-label="Link direto para Adicionando nativos SA-MP" title="Link direto para Adicionando nativos SA-MP">​</a></h4>
<p>No cabeçalho do invoke, adicione o nome do nativo ao array de nomes e declare uma estrutura <code>Native</code> com as especificações de parâmetros, por exemplo:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">i </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> inteiro</span><br></span><span class=token-line style=color:#393A34><span class="token plain">f </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> valor </span><span class="token keyword" style=color:#00009f>float</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">s </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">v </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> variável de referê</span><span class="token function" style=color:#d73a49>ncia</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">GetPlayerPos</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> GetPlayerKeys</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> etc</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">p </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> variável </span><span class="token function" style=color:#d73a49>string</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">GetPlayerName etc</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p><strong>Atualize a função pública PAWN para chamar os novos nativos sempre que adicioná-los.</strong></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=chamando-nativos>Chamando nativos<a href=#chamando-nativos class=hash-link aria-label="Link direto para Chamando nativos" title="Link direto para Chamando nativos">​</a></h4>
<p>A função <code>callNative</code> do invoke usa como parâmetros um ponteiro para uma estrutura <code>Native</code> e os parâmetros para o nativo. Abaixo um exemplo:</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>//Esta função demonstra como usar o invoke para chamar nativos SA-MP.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//PAWN nativo: native WhereIsPlayer(playerid);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>WhereIsPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>float</span><span class="token plain"> x </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> y </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> z </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//Obtém a posição do jogador (verifica se ele está conectado).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">g_Invoke</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>callNative</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>&</span><span class="token plain">PAWN</span><span class="token double-colon punctuation" style=color:#393A34>::</span><span class="token plain">GetPlayerPos</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">y</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">z</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>char</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>24</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//Obtém o nome, interior e mundo virtual do jogador e imprime.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        g_Invoke</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>callNative</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>&</span><span class="token plain">PAWN</span><span class="token double-colon punctuation" style=color:#393A34>::</span><span class="token plain">GetPlayerName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> interior </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> g_Invoke</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>callNative</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>&</span><span class="token plain">PAWN</span><span class="token double-colon punctuation" style=color:#393A34>::</span><span class="token plain">GetPlayerInterior</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> virtualworld </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> g_Invoke</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>callNative</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>&</span><span class="token plain">PAWN</span><span class="token double-colon punctuation" style=color:#393A34>::</span><span class="token plain">GetPlayerVirtualWorld</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"%s está em X: %.2f, Y: %.2f, Z: %.2f (Mundo virtual: %d, Interior %d)."</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> y</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> z</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> virtualworld</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> interior</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=hooking-de-callbacks>Hooking de Callbacks<a href=#hooking-de-callbacks class=hash-link aria-label="Link direto para Hooking de Callbacks" title="Link direto para Hooking de Callbacks">​</a></h3>
<p>Usando o método <code>invoke</code>, não existe um método de hooking 100% transparente quando se trata de callbacks. Plugins que desejam hookear callbacks que usam <code>invoke</code> precisam passar pelo PAWN para fazê-lo. Você pode criar uma função nativa que pode ser chamada dentro do callback PAWN que deseja hookear, e usar essa nativa como uma espécie de pseudo callback. Você pode fazer isso de uma maneira que não exige trabalho do usuário final, usando o método de hooking ALS.</p>
<p>O primeiro passo é, obviamente, criar a nativa (lembre-se de adicioná-la à nossa lista de nativas a serem registradas e também adicioná-la em seu include posteriormente). O callback que decidi hookear é <code>OnPlayerConnect</code>, então vou escrever uma função nativa que tenha os mesmos argumentos que o callback, e então adicionar o código que requer o callback (neste caso, uma pequena piada).</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// Esta função demonstra: como escrever uma nativa para agir como um callback.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Nativa PAWN: native TEST_Hook_OnPlayerConnnect(playerid);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>TEST_Hook_OnPlayerConnnect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Obter o nome do jogador</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>char</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>24</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    g_Invoke</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>callNative</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>&</span><span class="token plain">PAWN</span><span class="token double-colon punctuation" style=color:#393A34>::</span><span class="token plain">GetPlayerName</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Verificar se o nome dele é "Mario".</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>string</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"Mario"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> name</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Se for, envie nossa mensagem engraçada e o expulse.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        g_Invoke</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>callNative</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>&</span><span class="token plain">PAWN</span><span class="token double-colon punctuation" style=color:#393A34>::</span><span class="token plain">SendClientMessage</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0xFFFFFFFF</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Desculpe {FF0000}Mario, {FFFFFF}mas sua princesa está em outro servidor."</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        g_Invoke</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>callNative</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>&</span><span class="token plain">PAWN</span><span class="token double-colon punctuation" style=color:#393A34>::</span><span class="token plain">Kick</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<p><code>TEST_Hook_OnPlayerConnnect</code> agora agirá como o callback <code>OnPlayerConnect</code> do nosso plugin. Como o nome do nosso plugin é "Test" e é bastante curto, decidi deixá-lo agir como nosso prefixo para hooking. Você geralmente quer algo único para seus prefixes para não colidir com outros plugins/includes. <strong>Nota:</strong> Ainda temos que chamar essa função do PAWN usando o método ALS que falamos anteriormente para conveniência do usuário. Como Y_Less faz um ótimo trabalho explicando o método ALS, não há necessidade de eu entrar em detalhes sobre isso, eu simplesmente fornecerei um exemplo de hooking para nosso callback <code>TEST_Hook_OnPlayerConnect</code>. Isso deve ser colocado no arquivo include do seu plugin.</p>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>OnPlayerConnect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TEST_Hook_OnPlayerConnnect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//..</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>funcidx</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"TEST_OnPlayerConnect"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>-</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>CallLocalFunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"TEST_OnPlayerConnect"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"d"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>if</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>defined _ALS_OnPlayerConnect</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>undef</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>OnPlayerConnect</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>else</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>_ALS_OnPlayerConnect</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>endif</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>OnPlayerConnect</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>TEST_OnPlayerConnect</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">forward </span><span class="token function" style=color:#d73a49>TEST_OnPlayerConnect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=fechamento>Fechamento<a href=#fechamento class=hash-link aria-label="Link direto para Fechamento" title="Link direto para Fechamento">​</a></h2>
<p>Alguns de vocês, desenvolvedores de plugins experientes, podem estar se perguntando por que não incluí o GDK na seção "Chamando nativas e hookeando callbacks". Decidi deixá-lo de fora por duas razões. A primeira é que simplesmente não tenho tanto tempo disponível mais, e não pude me dedicar a me familiarizar com esse novo sistema. A segunda razão é que o GDK é muito experimental e atualmente está enfrentando problemas como crashes, entre outros. Estou bem ciente das diferenças de velocidade entre <code>Invoke</code> e GDK, e definitivamente vou adicionar isso algum dia no futuro, se ninguém mais fizer (lembre-se, isso deve ser uma iniciativa comunitária). Acho que é melhor esperar que mais alguns problemas sejam resolvidos por enquanto (zeex é um codificador incrível e tenho certeza de que ele resolverá tudo).</p>
<p>Além disso, como prometi, aqui está o arquivo de include/atualização com comentários sobre tudo que esperamos ter aprendido:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=include-do-plugin>Include do Plugin<a href=#include-do-plugin class=hash-link aria-label="Link direto para Include do Plugin" title="Link direto para Include do Plugin">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// Qualquer coisa com o prefixo "TEST" deve ser alterada se você chamou seu plugin de forma diferente.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Isso também se aplica ao código do plugin (TEST_Hook_OnPlayerConnect especificamente).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>if</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>defined _TEST_INCLUDED</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>endinput</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>endif</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>_TEST_INCLUDED</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>pragma</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>library Test</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>&lt;a_samp></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Nativas de exemplo</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native </span><span class="token function" style=color:#d73a49>PrintPawnString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> str</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native </span><span class="token function" style=color:#d73a49>PrintPawnString2</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> str</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native </span><span class="token function" style=color:#d73a49>SetPawnString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">str</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> len </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">str</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native Float</span><span class="token operator" style=color:#393A34>:</span><span class="token function" style=color:#d73a49>ReturnPawnFloatVal</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native </span><span class="token function" style=color:#d73a49>SetPawnReferenceVars</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>&</span><span class="token plain">value1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">Float</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">value2</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native </span><span class="token function" style=color:#d73a49>PrintPawnArray</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">arr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> size </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">arr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native </span><span class="token function" style=color:#d73a49>EmitPawnCallback</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native </span><span class="token function" style=color:#d73a49>WhereIsPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native </span><span class="token function" style=color:#d73a49>TEST_Hook_OnPlayerConnnect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Nativa Invoke</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">native </span><span class="token function" style=color:#d73a49>Invoke_GetAddresses</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Hooks de callback</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>OnPlayerConnect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TEST_Hook_OnPlayerConnnect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//..</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>funcidx</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"TEST_OnPlayerConnect"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>-</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>CallLocalFunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"TEST_OnPlayerConnect"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"d"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>if</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>defined _ALS_OnPlayerConnect</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>undef</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>OnPlayerConnect</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>else</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>_ALS_OnPlayerConnect</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>endif</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>OnPlayerConnect</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>TEST_OnPlayerConnect</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">forward </span><span class="token function" style=color:#d73a49>TEST_OnPlayerConnect</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>OnGameModeInit</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>Invoke_GetAddresses</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//..</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>funcidx</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"TEST_OnGameModeInit"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>-</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>CallLocalFunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"TEST_OnGameModeInit"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>if</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>defined _ALS_OnGameModeInit</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>undef</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>OnGameModeInit</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>else</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>_ALS_OnGameModeInit</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>endif</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>OnGameModeInit</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>TEST_OnGameModeInit</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">forward </span><span class="token function" style=color:#d73a49>TEST_OnGameModeInit</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>OnFilterScriptInit</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>Invoke_GetAddresses</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//..</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>funcidx</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"TEST_OnFilterScriptInit"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>-</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>CallLocalFunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"TEST_OnFilterScriptInit"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>if</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>defined _ALS_OnFilterScriptInit</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>undef</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>OnFilterScriptInit</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>else</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>_ALS_OnFilterScriptInit</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>endif</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>OnFilterScriptInit</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression" style=color:#36acaa>TEST_OnFilterScriptInit</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">forward </span><span class="token function" style=color:#d73a49>TEST_OnFilterScriptInit</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//Public function for invoke</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">forward </span><span class="token function" style=color:#d73a49>InvokeFunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>public</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>InvokeFunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> Float</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> Var</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>256</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> iVar</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// a_samp.inc</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SendClientMessage</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SendClientMessageToAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SendDeathMessage</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GameTextForAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GameTextForPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetTickCount</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetMaxPlayers</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetGameModeText</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetTeamCount</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AddPlayerClass</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AddPlayerClassEx</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AddStaticVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AddStaticVehicleEx</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AddStaticPickup</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ShowNameTags</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ShowPlayerMarkers</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GameModeExit</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetWorldTime</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetWeaponName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Var</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> Var </span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>EnableTirePopping</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AllowInteriorWeapons</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetWeather</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetGravity</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AllowAdminTeleport</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetDeathDropAmount</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>CreateExplosion</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>//SetDisabledWeapons();</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>EnableZoneNames</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsPlayerAdmin</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>Kick</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>Ban</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SendRconCommand</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ShowPlayerDialog</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>"lol"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>"lol"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>"lol"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>"lol"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// a_players.inc</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetSpawnInfo</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SpawnPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerPos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>//  SetPlayerPosFindZ(0, 0.0, 0.0, 0.0);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerPos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerFacingAngle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerFacingAngle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerInterior</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerInterior</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerHealth</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerHealth</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerArmour</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerArmour</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerAmmo</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerAmmo</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerTeam</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerTeam</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerScore</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerScore</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerColor</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerColor</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerSkin</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GivePlayerWeapon</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ResetPlayerWeapons</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerWeaponData</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> iVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> iVar </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GivePlayerMoney</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ResetPlayerMoney</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerMoney</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerState</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerIp</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Var</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> Var </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerPing</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerWeapon</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerKeys</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerName</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Var</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> Var </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>PutPlayerInVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerVehicleID</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>RemovePlayerFromVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TogglePlayerControllable</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>PlayerPlaySound</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerCheckpoint</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>DisablePlayerCheckpoint</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerRaceCheckpoint</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>DisablePlayerRaceCheckpoint</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerWorldBounds</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerMarkerForPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ShowPlayerNameTagForPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerMapIcon</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>RemovePlayerMapIcon</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerCameraPos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerCameraLookAt</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetCameraBehindPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AllowPlayerTeleport</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsPlayerConnected</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsPlayerInVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsPlayerInAnyVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsPlayerInCheckpoint</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsPlayerInRaceCheckpoint</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerTime</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TogglePlayerClock</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerWeather</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerTime</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerVirtualWorld</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerVirtualWorld</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// a_vehicle.inc</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>CreateVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>DestroyVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetVehiclePos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetVehiclePos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetVehicleZAngle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetVehicleZAngle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetVehicleParamsForPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetVehicleToRespawn</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>LinkVehicleToInterior</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AddVehicleComponent</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ChangeVehicleColor</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ChangeVehiclePaintjob</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetVehicleHealth</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetVehicleHealth</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AttachTrailerToVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>DetachTrailerFromVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsTrailerAttachedToVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetVehicleModel</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetVehicleNumberPlate</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetVehicleVirtualWorld</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetVehicleVirtualWorld</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ApplyAnimation</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>1.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// a_objects.inc</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>CreateObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetObjectPos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetObjectPos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetObjectRot</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetObjectRot</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsValidObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>DestroyObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>MoveObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>StopObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>CreatePlayerObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerObjectPos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerObjectPos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>GetPlayerObjectRot</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">fVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetPlayerObjectRot</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsValidPlayerObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>DestroyPlayerObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>MovePlayerObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>StopPlayerObject</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Menu's</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>CreateMenu</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>DestroyMenu</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Menu</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>AddMenuItem</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Menu</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>SetMenuColumnHeader</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Menu</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>ShowMenuForPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Menu</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>HideMenuForPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Menu</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>IsValidMenu</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Menu</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>DisableMenu</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Menu</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>DisableMenuRow</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Menu</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Textdraw</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawCreate</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawDestroy</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawLetterSize</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawTextSize</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawAlignment</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawColor</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawUseBox</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawBoxColor</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawSetShadow</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawSetOutline</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawBackgroundColor</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawFont</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawSetProportional</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawShowForPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawHideForPlayer</span><span class="token punctuation" style=color:#393A34>(</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawShowForAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>TextDrawHideForAll</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">Text</span><span class="token operator" style=color:#393A34>:</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Others</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>funcidx</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>""</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>gettime</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>getdate</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>tickcount</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">iVar</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<p>Aqui está a tradução do seu código de plugin e dos agradecimentos especiais:</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=código-fonte-do-plugin>Código-fonte do plugin<a href=#código-fonte-do-plugin class=hash-link aria-label="Link direto para Código-fonte do plugin" title="Link direto para Código-fonte do plugin">​</a></h3>
<div class="language-cpp codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-cpp codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>"SDK\amx\amx.h"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>"SDK\plugincommon.h"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>"Invoke.h"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>&lt;string></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>&lt;vector></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>&lt;cstdlib></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>include</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property string" style=color:#e3116c>&lt;ctime></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>typedef</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>void</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>*</span><span class="token plain">logprintf_t</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>(</span><span class="token keyword" style=color:#00009f>char</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> format</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">logprintf_t logprintf</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>extern</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>void</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">pAMXFunctions</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>using</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>namespace</span><span class="token plain"> std</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Esta função demonstra: como obter uma string (e seu comprimento) do PAWN.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Nativo do PAWN: native PrintPawnString(const str[]);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>PrintPawnString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        len </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        ret </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    cell </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">addr  </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Obtém o endereço do nosso parâmetro de string (str) e, em seguida, obtém seu comprimento</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_StrLen</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">len</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Se o comprimento da entrada não for 0</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">len</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Aumentamos o len porque queremos fazer espaço para o caractere nulo terminador quando alocamos memória.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Além disso, como o parâmetro de tamanho do GetString conta o caractere nulo, precisamos especificar o comprimento</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// da string + 1; caso contrário, nossa string será truncada para dar espaço ao caractere nulo (perderíamos 1 caractere).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        len</span><span class="token operator" style=color:#393A34>++</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Aloca memória para segurar nossa string que estamos passando (str) e então "obtemos" a string usando nossa memória alocada para armazená-la.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>char</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> text </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>char</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"> len </span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_GetString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">text</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> len</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Usa logprintf para imprimir a string (text). Não usamos std::cout porque não escreve no log do servidor (apenas na janela).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">text</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Desaloca nossa memória...</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token keyword" style=color:#00009f>delete</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> text</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Esta função demonstra: como chamar um callback que está em um script PAWN.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Nativo do PAWN: native EmitPawnCallback();</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>EmitPawnCallback</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> idx</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> cell var </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>3</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> cell arr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token number" style=color:#36acaa>100</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>4</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>33</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> string str </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Alguma mensagem aleatória de C++."</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Callback do Pawn: forward OnPawnCallbackEmitted(var, arr[], str[]);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Encontra nosso callback e armazena seu lugar na tabela de funções públicas (é o índice) em nossa variável idx.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token operator" style=color:#393A34>!</span><span class="token function" style=color:#d73a49>amx_FindPublic</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"OnPawnCallbackEmitted"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">idx</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        cell</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            ret</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            addr</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Aqui empurramos nossos argumentos para nossa função. Note que se a função tem múltiplos argumentos, você tem que empurrar seus</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// valores na ordem inversa! Por isso estamos empurrando a string primeiro, depois o array, e finalmente nosso inteiro.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_PushString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> str</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>c_str</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>//amx_PushArray(amx, NULL, NULL, arr, sizeof(arr) / sizeof(cell));</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        cell</span><br></span><span class=token-line style=color:#393A34><span class="token plain">            amx_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">phys_addr</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Por alguma razão amx_PushArray parece estar travando o servidor, e não tenho ideia do porquê. Meu uso deve ser completamente</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// válido segundo o guia dos implementadores, e o código em si. Como a função não está funcionando, teremos que</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// usar o método antigo e alocar a memória, configurá-la e empurrá-la todos nós mesmos. Isso é bem direto. Nós</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// alocamos memória no heap usando amx_Allot (isso retorna 2 endereços - um da localização na máquina abstrata</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// (amx_addr), e um relativo ao espaço de endereçamento real do servidor (phsy_addr - que podemos usar em C++)). Depois de alocar</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// memória, usamos memcpy para copiar a memória do nosso array para a localização de endereço físico (phys_addr).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Allot</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">arr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>/</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">cell</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">amx_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">phys_addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>memcpy</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">phys_addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> arr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>sizeof</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">arr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Push</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> amx_addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Empurre nosso valor inteiro</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Push</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> var</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Execute nossa função usando nosso índice obtido anteriormente.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Nota: O segundo parâmetro desta função é o que o callback retornou (pode ser NULL se você não estiver interessado em valores de retorno).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Exec</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">ret</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> idx</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Libere a memória que alocamos. A função amx_Alloc aloca memória no heap na máquina abstrata.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// As funções amx_PushString e amx_PushArray usam essa função internamente, então você precisa liberar a memória toda vez que</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// usar uma dessas funções. NOTA: Usamos tanto amx_PushString quanto amx_PushArray, e ainda assim só temos UMA chamada de liberação.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Isso porque a memória no heap é alocada em ordem ascendente! amx_Release libera toda a memória acima de um determinado ponto</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// (o segundo parâmetro, amx_addr - que é nossa variável addr). Desde que fazemos isso, só armazenamos o endereço da chamada</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// amx_PushString, pois ele deletará tudo a partir desse ponto.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>amx_Release</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Imprime o valor de retorno (para completude).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"EmitPawnCallback NOTA: O callback OnPawnCallbackEmitted retornou %d!"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> ret</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Esta função demonstra: um método alternativo para obter strings do PAWN - e os riscos possíveis que vêm com isso.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Nativo do PAWN: native PrintPawnString2(const str[]);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>PrintPawnString2</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Este método NÃO é recomendado, pois o macro amx_StrParam usa a função alloca que NÃO é um padrão em C ou C++.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Usar este método traz riscos de sobrecarregar a pilha (se você alocar grandes quantidades de memória) e também</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// traz o risco de bugs (esta função é dependente da máquina e do compilador - algumas implementações são ditas</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// ser bugadas).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>char</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> text </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_StrParam</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> text</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Verifica se o texto é nulo</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>if</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">text </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token comment" style=color:#999988;font-style:italic>// Usa logprintf para imprimir a string (text). Não usamos std::cout porque não escreve no log do servidor (apenas na janela).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token function" style=color:#d73a49>logprintf</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">text</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Esta função demonstra: como modificar uma string do PAWN.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Nativo do PAWN: native SetPawnString(str[], len = sizeof(str));</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>SetPawnString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> string message </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Esta é uma string de C/++!!"</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> addr </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Obtém o endereço do nosso parâmetro de string (str) e armazena nossa mensagem</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_SetString</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> message</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>c_str</span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Esta função demonstra: como converter um float para um float do PAWN.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Nativo do PAWN: native Float:ReturnPawnFloatVal();</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>ReturnPawnFloatVal</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Como o PAWN é uma linguagem sem tipo, ele armazena tudo como um inteiro de 32 bits e depende de tags para lidar com dados especiais.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Um número de ponto flutuante não é exceção a isso; ainda é um inteiro de 32 bits, mas possui uma tag de float para mostrar que não deve</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// ser tratado como um inteiro comum! Então, como fazemos a conversão de um float para um inteiro de 32 bits (para PAWN) sem perder dados?</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// A resposta é o macro amx_ftoc!</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// O macro amx_ftoc converte um float em uma célula preservando seu padrão de bits (amx_ctof faz o inverso).</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>float</span><span class="token plain"> f </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>22.624f</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_ftoc</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">f</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Esta função demonstra: como passar parâmetros por referência.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Nativo do PAWN: native SetPawnReferenceVars(&value1, &Float:value2);</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cell AMX_NATIVE_CALL </span><span class="token function" style=color:#d73a49>SetPawnReferenceVars</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> val </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>65</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>const</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>float</span><span class="token plain"> val2 </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>84.54f</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    cell</span><span class="token operator" style=color:#393A34>*</span><span class="token plain"> addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Obtém os endereços de "value1" e "value2"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token function" style=color:#d73a49>amx_GetAddr</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> params</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Desreferencia nossos ponteiros e atribui nossos valores. Lembre-se de SEMPRE usar o macro "amx_ftoc" para converter floats em</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// células (o formato apropriado de float para PAWN)!</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>0</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> val</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">addr</span><span class="token punctuation" style=color:#393A34>[</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_ftoc</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">val2</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// Defina nossas funções nativas aqui, incluindo todas as funções que definimos acima.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">AMX_NATIVE_INFO Natives</span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"PrintPawnString"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> PrintPawnString</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"PrintPawnString2"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> PrintPawnString2</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"EmitPawnCallback"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> EmitPawnCallback</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"SetPawnString"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> SetPawnString</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"ReturnPawnFloatVal"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> ReturnPawnFloatVal</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token string" style=color:#e3116c>"SetPawnReferenceVars"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> SetPawnReferenceVars</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token constant" style=color:#36acaa>NULL</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>// A função de inicialização que define nosso logprintf e a estrutura nativa.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>extern</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"C"</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>int</span><span class="token plain"> AMXAPI</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token function" style=color:#d73a49>AMX_Load</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">AMX </span><span class="token operator" style=color:#393A34>*</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Define a função logprintf da SDK</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    pAMXFunctions </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> amx</span><span class="token operator" style=color:#393A34>-></span><span class="token plain">GetNative</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    logprintf </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">logprintf_t</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain">pAMXFunctions</span><span class="token operator" style=color:#393A34>-></span><span class="token function" style=color:#d73a49>GetFunction</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"logprintf"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token comment" style=color:#999988;font-style:italic>// Registre nossas funções nativas</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token function" style=color:#d73a49>amx_Register</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">amx</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> Natives</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>-</span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=agradecimentos-especiais>Agradecimentos Especiais<a href=#agradecimentos-especiais class=hash-link aria-label="Link direto para Agradecimentos Especiais" title="Link direto para Agradecimentos Especiais">​</a></h3>
<ul>
<li>Agradeço à comunidade de desenvolvedores que contribuíram para o desenvolvimento deste plugin e forneceram feedback valioso.</li>
<li>Um agradecimento especial à SAMP Forums e à equipe de desenvolvimento da SA-MP por suas contribuições e suporte contínuo.</li>
<li>Agradeço aos meus colegas desenvolvedores e amigos que sempre me apoiaram e incentivaram a continuar aprendendo e melhorando.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=special-thanks>Special thanks<a href=#special-thanks class=hash-link aria-label="Link direto para Special thanks" title="Link direto para Special thanks">​</a></h2>
<p><strong>RyDeR</strong> - For contributing the pictures from his plugin tutorial.</p>
<p><strong>Incognito</strong> - For Invoke, information about ProcessTick, and for all the help over my time learning C++.</p>
<p><strong>Zeex/0x5A656578</strong> - For GDK (will be included some time), and for volunteering to answer questions about GDK.</p>
<p><strong>Y_Less</strong> - For being generally awesome and constantly helping me when ever im completely baffled.</p>
<p><strong>Techboy123</strong> - For a ton of productive chats, help, and for listening to my complaints.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/openmultiplayer/web/edit/master/frontend/i18n/pt-BR/docusaurus-plugin-content-docs/current/tutorials/PluginDevelopmentGuide.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Editar essa página</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Páginas de documentação"><a class="pagination-nav__link pagination-nav__link--prev" href=/pt-BR/docs/tutorials/PickupGuide><div class=pagination-nav__sublabel>Anterior</div><div class=pagination-nav__label>Pickup Guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/pt-BR/docs/tutorials/PortForwarding><div class=pagination-nav__sublabel>Próxima</div><div class=pagination-nav__label>Port Forwarding</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#introdução class="table-of-contents__link toc-highlight">Introdução</a><li><a href=#este-não-é-um-forum-de-ajuda-de-c class="table-of-contents__link toc-highlight">Este <strong>Não</strong> é um forum de ajuda de C/++</a><li><a href=#faq class="table-of-contents__link toc-highlight">FAQ</a><ul><li><a href=#duvidas-rapidas class="table-of-contents__link toc-highlight">Duvidas rapidas</a></ul><li><a href=#introdução-1 class="table-of-contents__link toc-highlight">Introdução</a><ul><li><a href=#arquivo-de-origem-cpp class="table-of-contents__link toc-highlight">Arquivo de origem (*.cpp)</a><li><a href=#arquivo-de-definição-de-módulo-def class="table-of-contents__link toc-highlight">Arquivo de definição de módulo (*.def)</a></ul><li><a href=#examinando-o-código class="table-of-contents__link toc-highlight">Examinando o código</a><ul><li><a href=#o-arquivo-de-definição-de-módulo class="table-of-contents__link toc-highlight">O arquivo de definição de módulo</a><li><a href=#definições-e-estruturas class="table-of-contents__link toc-highlight">Definições e estruturas</a></ul><li><a href=#funções-amx class="table-of-contents__link toc-highlight">Funções Amx</a><ul><li><a href=#legenda class="table-of-contents__link toc-highlight">Legenda</a></ul><li><a href=#amx_allot class="table-of-contents__link toc-highlight">amx_Allot</a><ul><li><a href=#sintaxe class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_ctof class="table-of-contents__link toc-highlight">amx_ctof</a><ul><li><a href=#sintaxe-1 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_exec class="table-of-contents__link toc-highlight">amx_Exec</a><ul><li><a href=#sintaxe-2 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_findpublic class="table-of-contents__link toc-highlight">amx_FindPublic</a><ul><li><a href=#sintaxe-3 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_ftoc class="table-of-contents__link toc-highlight">amx_ftoc</a><ul><li><a href=#sintaxe-4 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_getaddr class="table-of-contents__link toc-highlight">amx_GetAddr</a><ul><li><a href=#sintaxe-5 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_getstring class="table-of-contents__link toc-highlight">amx_GetString</a><ul><li><a href=#sintaxe-6 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_push class="table-of-contents__link toc-highlight">amx_Push</a><ul><li><a href=#sintaxe-7 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_pushstring class="table-of-contents__link toc-highlight">amx_PushString</a><ul><li><a href=#sintaxe-8 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_register class="table-of-contents__link toc-highlight">amx_Register</a><ul><li><a href=#sintaxe-9 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_release class="table-of-contents__link toc-highlight">amx_Release</a><ul><li><a href=#sintaxe-10 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#amx_setstring class="table-of-contents__link toc-highlight">amx_SetString</a><ul><li><a href=#sintaxe-11 class="table-of-contents__link toc-highlight">Sintaxe</a></ul><li><a href=#exemplos-de-funções-amx class="table-of-contents__link toc-highlight">Exemplos de Funções AMX</a><ul><li><a href=#registrando-nativas class="table-of-contents__link toc-highlight">Registrando Nativas</a><li><a href=#obtendo-uma-string-e-seu-tamanho class="table-of-contents__link toc-highlight">Obtendo uma String e Seu Tamanho</a><li><a href=#método-alternativo-para-obter-uma-string class="table-of-contents__link toc-highlight">Método Alternativo para Obter uma String</a><li><a href=#como-definir-uma-string class="table-of-contents__link toc-highlight">Como Definir uma String</a><li><a href=#passando-parâmetros-por-referência class="table-of-contents__link toc-highlight">Passando parâmetros por referência</a><li><a href=#obtendo-e-modificando-valores-de-array class="table-of-contents__link toc-highlight">Obtendo e modificando valores de array</a><li><a href=#chamando-um-callback class="table-of-contents__link toc-highlight">Chamando um callback</a></ul><li><a href=#chamando-nativos-e-interceptando-callbacks class="table-of-contents__link toc-highlight">Chamando nativos e interceptando callbacks</a><ul><li><a href=#invoke class="table-of-contents__link toc-highlight">Invoke</a><li><a href=#hooking-de-callbacks class="table-of-contents__link toc-highlight">Hooking de Callbacks</a></ul><li><a href=#fechamento class="table-of-contents__link toc-highlight">Fechamento</a><ul><li><a href=#include-do-plugin class="table-of-contents__link toc-highlight">Include do Plugin</a><li><a href=#código-fonte-do-plugin class="table-of-contents__link toc-highlight">Código-fonte do plugin</a><li><a href=#agradecimentos-especiais class="table-of-contents__link toc-highlight">Agradecimentos Especiais</a></ul><li><a href=#special-thanks class="table-of-contents__link toc-highlight">Special thanks</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Documentação</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/pt-BR/docs>Introdução</a><li class=footer__item><a class=footer__link-item href=/pt-BR/docs>Migração para open.mp</a><li class=footer__item><a class=footer__link-item href=/pt-BR/docs/server/config.json>config.json</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Comunidade</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://discord.gg/samp target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/openmultiplayer/open.mp target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://opencollective.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>Doar<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://youtube.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>YouTube<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://x.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>X<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Mais</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/pt-BR/servers>Servidores</a><li class=footer__item><a class=footer__link-item href=/pt-BR/blog>Blog</a><li class=footer__item><a class=footer__link-item href=/pt-BR/animations>Animações</a><li class=footer__item><a class=footer__link-item href=/pt-BR/uid>Gerador de UID</a><li class=footer__item><a href=https://sa-mp.mp/ target=_blank rel="noopener noreferrer" class=footer__link-item>SA-MP<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/pt-BR/images/assets/logo.svg alt="open.mp logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src=/pt-BR/images/assets/logo.svg alt="open.mp logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class=footer__copyright>Copyright © 2025 open.mp. Feito com Docusaurus.</div></div></div></footer></div>
"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["23349"],{37875:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>i,toc:()=>c,default:()=>h,metadata:()=>r,assets:()=>d,contentTitle:()=>l});var r=JSON.parse('{"id":"scripting/callbacks/OnPlayerKeyStateChange","title":"OnPlayerKeyStateChange","description":"Deze callback wordt aangeroepen wanneer de status van een ondersteunde toets verandert (ingedrukt/losgelaten).","source":"@site/i18n/nl/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerKeyStateChange.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnPlayerKeyStateChange","permalink":"/nl/docs/scripting/callbacks/OnPlayerKeyStateChange","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/i18n/nl/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerKeyStateChange.md","tags":[{"inline":true,"label":"player","permalink":"/nl/docs/tags/player"}],"version":"current","frontMatter":{"title":"OnPlayerKeyStateChange","sidebar_label":"OnPlayerKeyStateChange","description":"Deze callback wordt aangeroepen wanneer de status van een ondersteunde toets verandert (ingedrukt/losgelaten).","tags":["player"]},"sidebar":"docsSidebar","previous":{"title":"OnPlayerInteriorChange","permalink":"/nl/docs/scripting/callbacks/OnPlayerInteriorChange"},"next":{"title":"OnPlayerLeaveCheckpoint","permalink":"/nl/docs/scripting/callbacks/OnPlayerLeaveCheckpoint"}}'),a=t(85893),s=t(50065);let i={title:"OnPlayerKeyStateChange",sidebar_label:"OnPlayerKeyStateChange",description:"Deze callback wordt aangeroepen wanneer de status van een ondersteunde toets verandert (ingedrukt/losgelaten).",tags:["player"]},l=void 0,d={},c=[{value:"Beschrijving",id:"beschrijving",level:2},{value:"Returns",id:"returns",level:2},{value:"Notities",id:"notities",level:2},{value:"Gerelateerde Functies",id:"gerelateerde-functies",level:2},{value:"Extra informatie",id:"extra-informatie",level:2},{value:"Introductie",id:"introductie",level:3},{value:"Parameters",id:"parameters",level:3},{value:"Hoe NIET te checken",id:"hoe-niet-te-checken",level:3},{value:"Correct checken (bitmask)",id:"correct-checken-bitmask",level:3},{value:"Meerdere toetsen",id:"meerdere-toetsen",level:3},{value:"Defines om te vereenvoudigen",id:"defines-om-te-vereenvoudigen",level:3}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"beschrijving",children:"Beschrijving"}),"\n",(0,a.jsxs)(n.p,{children:["Deze callback wordt aangeroepen wanneer de status van een ",(0,a.jsx)(n.a,{href:"../resources/keys",children:"ondersteunde"})," toets verandert (ingedrukt/losgelaten).",(0,a.jsx)("br",{}),"Richtingstoetsen triggeren OnPlayerKeyStateChange niet (omhoog/omlaag/links/rechts)."]}),"\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Naam"}),(0,a.jsx)(n.th,{children:"Beschrijving"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"playerid"}),(0,a.jsx)(n.td,{children:"Het ID van de speler die een toets indrukte of losliet."})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["KEY",":newkeys"]}),(0,a.jsxs)(n.td,{children:["Een bitmask van de toetsen die momenteel ingedrukt zijn - ",(0,a.jsx)(n.a,{href:"../resources/keys",children:"zie hier"})]})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsxs)(n.td,{children:["KEY",":oldkeys"]}),(0,a.jsxs)(n.td,{children:["Een bitmask van de toetsen die v\xf3\xf3r de verandering ingedrukt waren - ",(0,a.jsx)(n.a,{href:"../resources/keys",children:"zie hier"}),"."]})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"returns",children:"Returns"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Deze callback heeft geen returns."}),"\n",(0,a.jsx)(n.li,{children:"Wordt altijd als eerste aangeroepen in gamemode."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"notities",children:"Notities"}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsx)(n.p,{children:"Deze callback kan ook door NPC\u2019s worden aangeroepen."})}),"\n",(0,a.jsx)(n.admonition,{type:"tip",children:(0,a.jsxs)(n.p,{children:["Richtingstoetsen triggeren OnPlayerKeyStateChange niet (omhoog/omlaag/links/rechts).",(0,a.jsx)("br",{}),"Deze zijn alleen te detecteren met ",(0,a.jsx)(n.a,{href:"../functions/GetPlayerKeys",children:"GetPlayerKeys"})," (in ",(0,a.jsx)(n.a,{href:"../callbacks/OnPlayerUpdate",children:"OnPlayerUpdate"})," of een timer)."]})}),"\n",(0,a.jsx)(n.h2,{id:"gerelateerde-functies",children:"Gerelateerde Functies"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"../functions/GetPlayerKeys",children:"GetPlayerKeys"}),": Controleer welke toetsen een speler ingedrukt houdt."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"extra-informatie",children:"Extra informatie"}),"\n",(0,a.jsx)(n.h3,{id:"introductie",children:"Introductie"}),"\n",(0,a.jsxs)(n.p,{children:["Deze callback wordt aangeroepen wanneer een speler \xe9\xe9n van de ondersteunde toetsen indrukt of loslaat (zie ",(0,a.jsx)(n.a,{href:"../resources/keys",children:"Keys"}),").",(0,a.jsx)("br",{}),"De ondersteunde toetsen zijn geen echte toetsenbordtoetsen, maar San Andreas-functietoetsen. Je kunt bijvoorbeeld niet detecteren wanneer iemand de spatiebalk indrukt, maar wel wanneer de sprint-toets wordt ingedrukt (die standaard aan de spatiebalk is gekoppeld)."]}),"\n",(0,a.jsx)(n.h3,{id:"parameters",children:"Parameters"}),"\n",(0,a.jsx)(n.p,{children:"De parameters zijn een lijst van alle toetsen die momenteel ingedrukt zijn en alle toetsen die net ingedrukt waren. De callback wordt aangeroepen wanneer een toestsatus verandert en geeft de staten van alle toetsen v\xf3\xf3r en na de verandering door. Slechts \xe9\xe9n bit vertegenwoordigt een toets, dus direct vergelijken werkt niet altijd \u2013 gebruik bitmasking."}),"\n",(0,a.jsx)(n.h3,{id:"hoe-niet-te-checken",children:"Hoe NIET te checken"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-c",children:"if (newkeys == KEY_FIRE)\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Crouchen en schieten tegelijk laat dit stuk code falen, omdat ",(0,a.jsx)(n.code,{children:"newkeys"})," dan meerdere bits bevat."]}),"\n",(0,a.jsx)(n.h3,{id:"correct-checken-bitmask",children:"Correct checken (bitmask)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-c",children:"if (newkeys & KEY_FIRE)\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Gebruik ",(0,a.jsx)(n.code,{children:"oldkeys"})," om \u201Cnet ingedrukt\u201D/\u201Cnet losgelaten\u201D te detecteren:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-c",children:"if ((newkeys & KEY_FIRE) && !(oldkeys & KEY_FIRE)) // pressed\nif ((oldkeys & KEY_FIRE) && !(newkeys & KEY_FIRE)) // released\n"})}),"\n",(0,a.jsx)(n.h3,{id:"meerdere-toetsen",children:"Meerdere toetsen"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-c",children:"if ((newkeys & (KEY_FIRE | KEY_CROUCH)) == (KEY_FIRE | KEY_CROUCH)\n && (oldkeys & (KEY_FIRE | KEY_CROUCH)) != (KEY_FIRE | KEY_CROUCH))\n"})}),"\n",(0,a.jsx)(n.h3,{id:"defines-om-te-vereenvoudigen",children:"Defines om te vereenvoudigen"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-c",children:"#define HOLDING(%0) (((newkeys & (%0)) == (%0)))\n#define PRESSED(%0) ((((newkeys & (%0)) == (%0)) && ((oldkeys & (%0)) != (%0))))\n#define PRESSING(%0,%1) ((%0) & (%1))\n#define RELEASED(%0) ((((newkeys & (%0)) != (%0)) && ((oldkeys & (%0)) == (%0))))\n"})}),"\n",(0,a.jsx)(n.p,{children:"Voorbeelden met deze macros staan in het origineel en werken 1:1 in het Nederlands."})]})}function h(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},50065:function(e,n,t){t.d(n,{Z:()=>l,a:()=>i});var r=t(67294);let a={},s=r.createContext(a);function i(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);
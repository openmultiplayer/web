"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["63"],{4454:function(e,n,t){t.r(n),t.d(n,{frontMatter:()=>s,toc:()=>c,default:()=>u,metadata:()=>o,assets:()=>d,contentTitle:()=>l});var o=JSON.parse('{"id":"tutorials/cooldowns","title":"Cooldowns","description":"Cooldowns bouwen met tick counts in plaats van timers.","source":"@site/i18n/nl/docusaurus-plugin-content-docs/current/tutorials/cooldowns.md","sourceDirName":"tutorials","slug":"/tutorials/cooldowns","permalink":"/nl/docs/tutorials/cooldowns","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/i18n/nl/docusaurus-plugin-content-docs/current/tutorials/cooldowns.md","tags":[],"version":"current","frontMatter":{"title":"Cooldowns","sidebar_label":"Cooldowns","description":"Cooldowns bouwen met tick counts in plaats van timers."},"sidebar":"docsSidebar","previous":{"title":"Color Fix","permalink":"/nl/docs/tutorials/colorfix"},"next":{"title":"Servervariabelensysteem","permalink":"/nl/docs/tutorials/servervariablesystem"}}'),i=t(85893),r=t(50065);let s={title:"Cooldowns",sidebar_label:"Cooldowns",description:"Cooldowns bouwen met tick counts in plaats van timers."},l=void 0,d={},c=[{value:"Timers gebruiken",id:"timers-gebruiken",level:2},{value:"<code>GetTickCount()</code> en <code>gettime()</code>",id:"gettickcount-en-gettime",level:2},{value:"Een cooldown",id:"een-cooldown",level:3},{value:"Een stopwatch",id:"een-stopwatch",level:3},{value:"Samenvatting",id:"samenvatting",level:2}];function a(e){let n={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Deze tutorial behandelt een veelgebruikte gameplay-mechaniek: cooldowns. Een cooldown beperkt hoe vaak een speler iets mag doen (ability, chat, etc.) voor balans of antispam."}),"\n",(0,i.jsxs)(n.p,{children:["Eerst het ",(0,i.jsx)(n.em,{children:"minder goede"})," voorbeeld met ",(0,i.jsx)(n.code,{children:"SetTimer"})," en een public."]}),"\n",(0,i.jsx)(n.h2,{id:"timers-gebruiken",children:"Timers gebruiken"}),"\n",(0,i.jsxs)(n.p,{children:["Voorbeeld met toestaan/verbieden en later weer toestaan via ",(0,i.jsx)(n.code,{children:"SetTimerEx"})," (originele code ongewijzigd laten werkt prima)."]}),"\n",(0,i.jsxs)(n.p,{children:["Vervolgens een stopwatch met ",(0,i.jsx)(n.code,{children:"SetTimerEx"})," die elke seconde telt."]}),"\n",(0,i.jsx)(n.p,{children:"Beide werken, maar er is een betere manier: nauwkeuriger, en met milliseconden!"}),"\n",(0,i.jsxs)(n.h2,{id:"gettickcount-en-gettime",children:[(0,i.jsx)(n.code,{children:"GetTickCount()"})," en ",(0,i.jsx)(n.code,{children:"gettime()"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"GetTickCount()"})," geeft milliseconden sinds het serverproces startte. ",(0,i.jsx)(n.code,{children:"gettime()"})," geeft Unix-tijd (seconden sinds 1-1-1970). Neem twee meetmomenten en trek ze af: je hebt een interval."]}),"\n",(0,i.jsx)(n.h3,{id:"een-cooldown",children:"Een cooldown"}),"\n",(0,i.jsx)(n.p,{children:"Gebruik ticks om bij te houden wanneer een speler weer mag:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-pawn",children:'static PlayerAllowedTick[MAX_PLAYERS];\n\nOnPlayerInteractWithServer(playerid)\n{\n   if (GetTickCount() - PlayerAllowedTick[playerid] > 10000)\n   {\n       DoTheThingThePlayerRequested();\n       PlayerAllowedTick[playerid] = GetTickCount();\n       return 1;\n   }\n   else\n   {\n       SendClientMessage(playerid, -1, "You are not allowed to do that yet!");\n       return 0;\n   }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Of met seconden via ",(0,i.jsx)(n.code,{children:"gettime()"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Je kunt de resterende tijd tonen door het verschil uit te rekenen en in het bericht te zetten."}),"\n",(0,i.jsx)(n.h3,{id:"een-stopwatch",children:"Een stopwatch"}),"\n",(0,i.jsxs)(n.p,{children:["Meet de tijd tussen start en finish met twee ",(0,i.jsx)(n.code,{children:"GetTickCount()"}),"-calls en trek ze af. Formatteer desgewenst naar ",(0,i.jsx)(n.code,{children:"mm:ss.ms"})," voor spelers."]}),"\n",(0,i.jsx)(n.h2,{id:"samenvatting",children:"Samenvatting"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GetTickCount()"}),": milliseconden sinds start serverproces"]}),"\n",(0,i.jsx)(n.li,{children:"Neem twee timestamps en bereken nauwkeurig het interval zonder timers"}),"\n",(0,i.jsx)(n.li,{children:"Handig voor cooldowns \xe9n metingen (stopwatch)"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Zie het origineel voor volledige codevoorbeelden: de logica is 1:1 overgenomen, de uitleg hier is vereenvoudigd."})]})}function u(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},50065:function(e,n,t){t.d(n,{Z:()=>l,a:()=>s});var o=t(67294);let i={},r=o.createContext(i);function s(e){let n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);
"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["16279"],{56276:function(e,n,a){a.r(n),a.d(n,{frontMatter:()=>s,toc:()=>t,default:()=>u,metadata:()=>o,assets:()=>d,contentTitle:()=>r});var o=JSON.parse('{"id":"scripting/callbacks/OnDialogResponse","title":"OnDialogResponse","description":"Descripci\xf3n","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/scripting/callbacks/OnDialogResponse.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnDialogResponse","permalink":"/es/docs/scripting/callbacks/OnDialogResponse","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/scripting/callbacks/OnDialogResponse.md","tags":[],"version":"current","frontMatter":{"t\xedtulo":"OnDialogResponse","descripci\xf3n":"Este callback se llama cuando un jugador responde a un cuadro de di\xe1logo mostrado usando ShowPlayerDialog ya sea clickeando un bot\xf3n, presionando ENTER/ESC o haciendo doble click en un elemento de lista (si el di\xe1logo utiliza el estilo DIALOG_STYLE_LIST).","tags":[]},"sidebar":"docsSidebar","previous":{"title":"OnClientMessage","permalink":"/es/docs/scripting/callbacks/OnClientMessage"},"next":{"title":"OnEnterExitModShop","permalink":"/es/docs/scripting/callbacks/OnEnterExitModShop"}}'),l=a(85893),i=a(50065);let s={"t\xedtulo":"OnDialogResponse","descripci\xf3n":"Este callback se llama cuando un jugador responde a un cuadro de di\xe1logo mostrado usando ShowPlayerDialog ya sea clickeando un bot\xf3n, presionando ENTER/ESC o haciendo doble click en un elemento de lista (si el di\xe1logo utiliza el estilo DIALOG_STYLE_LIST).",tags:[]},r=void 0,d={},t=[{value:"Descripci\xf3n",id:"descripci\xf3n",level:2},{value:"Devoluciones",id:"devoluciones",level:2},{value:"Ejemplos",id:"ejemplos",level:2},{value:"Notas",id:"notas",level:2},{value:"Funciones Relacionadas",id:"funciones-relacionadas",level:2}];function c(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"descripci\xf3n",children:"Descripci\xf3n"}),"\n",(0,l.jsx)(n.p,{children:"Este callback se llama cuando un jugador responde a un cuadro de di\xe1logo mostrado usando ShowPlayerDialog ya sea clickeando un bot\xf3n, presionando ENTER/ESC o haciendo doble click en un elemento de lista (si el di\xe1logo utiliza el estilo DIALOG_STYLE_LIST)."}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Nombre"}),(0,l.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"playerid"}),(0,l.jsx)(n.td,{children:"El ID del jugador que respondi\xf3 el di\xe1logo."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"dialogid"}),(0,l.jsx)(n.td,{children:"El ID del di\xe1logo al que respondi\xf3 el jugador, asignado en ShowPlayerDialog."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"response"}),(0,l.jsx)(n.td,{children:"1 para bot\xf3n izquierdo y 0 para bot\xf3n derecho (si s\xf3lo hay un bot\xf3n, siempre 1)."})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"listitem"}),(0,l.jsx)(n.td,{children:"El ID del elemento de lista que seleccion\xf3 el jugador (empieza de 0) (si no se est\xe1 usando DIALOG_STYLE_LIST, ser\xe1 -1)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"inputtext[]"}),(0,l.jsx)(n.td,{children:"El texto ingresado en la caja de entrada por el jugador o el texto del elemento de lista seleccionado."})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"devoluciones",children:"Devoluciones"}),"\n",(0,l.jsx)(n.p,{children:"1 - Prevendr\xe1 a otros filterscripts de recibir este callback."}),"\n",(0,l.jsx)(n.p,{children:"0 - Indica que este callback ser\xe1 pasado al siguiente filterscript."}),"\n",(0,l.jsx)(n.p,{children:"Siempre se llama primero en filterscripts."}),"\n",(0,l.jsx)(n.h2,{id:"ejemplos",children:"Ejemplos"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-c",children:'// Definimos el ID del di\xe1logo para poder controlar las respuestas\n#define DIALOG_RULES 1\n\n// En alg\xfan comando\nShowPlayerDialog(playerid, DIALOG_RULES, DIALOG_STYLE_MSGBOX, "Reglas del servidor", "- No Cheating\\n- No Spamming\\n- Respect Admins\\n\\nAceptas las reglas?", "S\xed", "No");\n\npublic OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])\n{\n    if (dialogid == DIALOG_RULES)\n    {\n        if (response) // Si clicke\xf3 en "S\xed" o apret\xf3 enter\n        {\n            SendClientMessage(playerid, COLOR_GREEN, "Gracias por aceptar las reglas del servidor!");\n        }\n        else // Si apret\xf3 la tecla ESC o clicke\xf3 en "No".\n        {\n            Kick(playerid);\n        }\n        return 1; // Manejamos un di\xe1logo, as\xed que hay que devolver 1. Como en OnPlayerCommandText.\n    }\n\n    return 0; // TEN\xc9S que devolver 0 ac\xe1! Como en OnPlayerCommandText.\n}\n#define DIALOG_LOGIN 2\n\n// En alg\xfan comando\nShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_INPUT, "Login", "Ingres\xe1 tu contrase\xf1a:", "Login", "Cancelar");\n\npublic OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])\n{\n    if (dialogid == DIALOG_LOGIN)\n    {\n        if (!response) // Si clicke\xf3 \'Cancelar\' o apret\xf3 la tecla ESC\n        {\n            Kick(playerid);\n        }\n        else // Si apret\xf3 enter o clicke\xf3 en el bot\xf3n \'Login\'\n        {\n            if (CheckPassword(playerid, inputtext))\n            {\n                SendClientMessage(playerid, COLOR_RED, "Ahora est\xe1s logeado!");\n            }\n            else\n            {\n                SendClientMessage(playerid, COLOR_RED, "Contrase\xf1a incorrecta.");\n\n                // Mostrando de nuevo el di\xe1logo de login\n                ShowPlayerDialog(playerid, DIALOG_LOGIN, DIALOG_STYLE_INPUT, "Login", "Ingres\xe1 tu contrase\xf1a:", "Login", "Cancelar");\n            }\n        }\n        return 1; // Manejamos un di\xe1logo, as\xed que hay que devolver 1. Como en OnPlayerCommandText.\n    }\n\n    return 0; // TEN\xc9S que devolver 0 ac\xe1! Como en OnPlayerCommandText.\n}\n#define DIALOG_WEAPONS 3\n\n// En alg\xfan comando\nShowPlayerDialog(playerid, DIALOG_WEAPONS, DIALOG_STYLE_LIST, "Armas", "Desert Eagle\\nAK-47\\nCombat Shotgun", "Seleccionar", "Cerrar");\n\npublic OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])\n{\n    if (dialogid == DIALOG_WEAPONS)\n    {\n        if (response) // Si clicke\xf3 en \'Seleccionar\' o apret\xf3 enter.\n        {\n            // D\xe1ndole el arma al jugador\n            switch(listitem)\n            {\n                case 0: GivePlayerWeapon(playerid, WEAPON_DEAGLE, 14); // D\xe1ndole una Desert Eagle\n                case 1: GivePlayerWeapon(playerid, WEAPON_AK47, 120); // D\xe1ndole una AK-47\n                case 2: GivePlayerWeapon(playerid, WEAPON_SHOTGSPA, 28); // D\xe1ndole una Combat Shotgun\n            }\n        }\n        return 1; // Manejamos un di\xe1logo, as\xed que hay que devolver 1. Como en OnPlayerCommandText.\n    }\n\n    return 0; // TEN\xc9S que devolver 0 ac\xe1! Como en OnPlayerCommandText.\n}\n#define DIALOG_WEAPONS 3\n\n// En alg\xfan comando\nShowPlayerDialog(playerid, DIALOG_WEAPONS, DIALOG_STYLE_LIST, "Armas",\n"Arma\\tMunici\xf3n\\tPrecio\\n\\\nM4\\t120\\t500\\n\\\nMP5\\t90\\t350\\n\\\nAK-47\\t120\\t400",\n"Seleccionar", "Cerrar");\n\npublic OnDialogResponse(playerid, dialogid, response, listitem, inputtext[])\n{\n    if (dialogid == DIALOG_WEAPONS)\n    {\n        if (response) // Si clicke\xf3 en seleccionar o hizo doble click en alg\xfan arma\n        {\n            // D\xe1ndole el arma al jugador\n            switch(listitem)\n            {\n                case 0: GivePlayerWeapon(playerid, WEAPON_M4, 120); // D\xe1ndole una M4\n                case 1: GivePlayerWeapon(playerid, WEAPON_MP5, 90); // D\xe1ndole una MP5\n                case 2: GivePlayerWeapon(playerid, WEAPON_AK47, 120); // D\xe1ndole una AK-47\n            }\n        }\n        return 1; // Manejamos un di\xe1logo, as\xed que hay que devolver 1. Como en OnPlayerCommandText.\n    }\n\n    return 0; // TEN\xc9S que devolver 0 ac\xe1! Como en OnPlayerCommandText.\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"notas",children:"Notas"}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsxs)(n.p,{children:["Los par\xe1metros pueden contener diferentes valores, seg\xfan el estilo del di\xe1logo (",(0,l.jsx)(n.a,{href:"../resources/dialogstyles",children:"click para m\xe1s ejemplos"}),")."]})}),"\n",(0,l.jsx)(n.admonition,{type:"tip",children:(0,l.jsx)(n.p,{children:"Es apropiado usar la sentencia 'switch' para ir cambiando entre los diferentes ID's de di\xe1logos, si ten\xe9s muchos."})}),"\n",(0,l.jsx)(n.admonition,{type:"warning",children:(0,l.jsx)(n.p,{children:'El di\xe1logo de un jugador no se oculta cuando el gamemode se reinicia, causando que el server imprima en la consola "Warning: PlayerDialogResponse PlayerId: 0 dialog ID doesn\'t match last sent dialog ID" en caso de que alg\xfan jugador responda a este despu\xe9s del reinicio.'})}),"\n",(0,l.jsx)(n.h2,{id:"funciones-relacionadas",children:"Funciones Relacionadas"}),"\n",(0,l.jsx)(n.p,{children:"Los siguientes callbacks pueden ser \xfatiles, ya que est\xe1n relacionados de alguna forma u otra con OnDialogResponse:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"../functions/ShowPlayerDialog",children:"ShowPlayerDialog"}),": Muestra un di\xe1logo a un jugador."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"../functions/GetPlayerDialogID",children:"GetPlayerDialogID"}),": Obtiene la id del di\xe1logo el cual se le est\xe1 mostrando al jugador en ese momento."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"../functions/GetPlayerDialogData",children:"GetPlayerDialogData"}),": Obtiene la informaci\xf3n del di\xe1logo el cual se le est\xe1 mostrando al jugador en ese momento."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"../functions/HidePlayerDialog",children:"HidePlayerDialog"}),": Oculta el di\xe1logo el cual se le est\xe1 mostrando al jugador en ese momento."]}),"\n"]})]})}function u(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},50065:function(e,n,a){a.d(n,{Z:()=>r,a:()=>s});var o=a(67294);let l={},i=o.createContext(l);function s(e){let n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);
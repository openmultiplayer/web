<!doctype html><html lang=fa dir=rtl class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/cooldowns" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>Cooldowns | open.mp</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://open.mp/fa/images/assets/wordmark-coloured-bg.png><meta data-rh=true name=twitter:image content=https://open.mp/fa/images/assets/wordmark-coloured-bg.png><meta data-rh=true property=og:url content=https://open.mp/fa/docs/tutorials/cooldowns><meta data-rh=true property=og:locale content=fa><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ru><meta data-rh=true property=og:locale:alternate content=ar><meta data-rh=true property=og:locale:alternate content=bs><meta data-rh=true property=og:locale:alternate content=de><meta data-rh=true property=og:locale:alternate content=fil><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=hu><meta data-rh=true property=og:locale:alternate content=id><meta data-rh=true property=og:locale:alternate content=it><meta data-rh=true property=og:locale:alternate content=nl><meta data-rh=true property=og:locale:alternate content=pl><meta data-rh=true property=og:locale:alternate content=pt_BR><meta data-rh=true property=og:locale:alternate content=ro><meta data-rh=true property=og:locale:alternate content=sl><meta data-rh=true property=og:locale:alternate content=sr><meta data-rh=true property=og:locale:alternate content=ta><meta data-rh=true property=og:locale:alternate content=th><meta data-rh=true property=og:locale:alternate content=tr><meta data-rh=true property=og:locale:alternate content=vi><meta data-rh=true property=og:locale:alternate content=zh_CN><meta data-rh=true property=og:locale:alternate content=zh_TW><meta data-rh=true name=docusaurus_locale content=fa><meta data-rh=true name=docsearch:language content=fa><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Cooldowns | open.mp"><meta data-rh=true name=description content="آموزش نوشتن cooldown برای محدود کردن اعمال کاربر با استفاده از tick count و جلوگیری از استفاده timer."><meta data-rh=true property=og:description content="آموزش نوشتن cooldown برای محدود کردن اعمال کاربر با استفاده از tick count و جلوگیری از استفاده timer."><link data-rh=true rel=icon href=/fa/favicon.ico><link data-rh=true rel=canonical href=https://open.mp/fa/docs/tutorials/cooldowns><link data-rh=true rel=alternate href=https://open.mp/docs/tutorials/cooldowns hreflang=en><link data-rh=true rel=alternate href=https://open.mp/es/docs/tutorials/cooldowns hreflang=es><link data-rh=true rel=alternate href=https://open.mp/ru/docs/tutorials/cooldowns hreflang=ru><link data-rh=true rel=alternate href=https://open.mp/ar/docs/tutorials/cooldowns hreflang=ar><link data-rh=true rel=alternate href=https://open.mp/bs/docs/tutorials/cooldowns hreflang=bs><link data-rh=true rel=alternate href=https://open.mp/de/docs/tutorials/cooldowns hreflang=de><link data-rh=true rel=alternate href=https://open.mp/fil/docs/tutorials/cooldowns hreflang=fil><link data-rh=true rel=alternate href=https://open.mp/fr/docs/tutorials/cooldowns hreflang=fr><link data-rh=true rel=alternate href=https://open.mp/fa/docs/tutorials/cooldowns hreflang=fa><link data-rh=true rel=alternate href=https://open.mp/hu/docs/tutorials/cooldowns hreflang=hu><link data-rh=true rel=alternate href=https://open.mp/id/docs/tutorials/cooldowns hreflang=id><link data-rh=true rel=alternate href=https://open.mp/it/docs/tutorials/cooldowns hreflang=it><link data-rh=true rel=alternate href=https://open.mp/nl/docs/tutorials/cooldowns hreflang=nl><link data-rh=true rel=alternate href=https://open.mp/pl/docs/tutorials/cooldowns hreflang=pl><link data-rh=true rel=alternate href=https://open.mp/pt-BR/docs/tutorials/cooldowns hreflang=pt-BR><link data-rh=true rel=alternate href=https://open.mp/ro/docs/tutorials/cooldowns hreflang=ro><link data-rh=true rel=alternate href=https://open.mp/sl/docs/tutorials/cooldowns hreflang=sl><link data-rh=true rel=alternate href=https://open.mp/sr/docs/tutorials/cooldowns hreflang=sr><link data-rh=true rel=alternate href=https://open.mp/ta/docs/tutorials/cooldowns hreflang=ta><link data-rh=true rel=alternate href=https://open.mp/th/docs/tutorials/cooldowns hreflang=th><link data-rh=true rel=alternate href=https://open.mp/tr/docs/tutorials/cooldowns hreflang=tr><link data-rh=true rel=alternate href=https://open.mp/vi/docs/tutorials/cooldowns hreflang=vi><link data-rh=true rel=alternate href=https://open.mp/zh-CN/docs/tutorials/cooldowns hreflang=zh-CN><link data-rh=true rel=alternate href=https://open.mp/zh-TW/docs/tutorials/cooldowns hreflang=zh-TW><link data-rh=true rel=alternate href=https://open.mp/docs/tutorials/cooldowns hreflang=x-default><link data-rh=true rel=preconnect href=https://AOKXGK39Z7-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://open.mp/fa/docs/tutorials/cooldowns","name":"Cooldowns","position":1}]}</script><link rel=alternate type=application/rss+xml href=/fa/blog/rss.xml title="open.mp RSS Feed"><link rel=alternate type=application/atom+xml href=/fa/blog/atom.xml title="open.mp Atom Feed"><link rel=search type=application/opensearchdescription+xml title=open.mp href=/fa/opensearch.xml><link rel=stylesheet href=/fa/assets/css/styles.ba427f7f.css><script src=/fa/assets/js/runtime~main.14034a03.js defer></script><script src=/fa/assets/js/main.bb639fd9.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/fa/images/assets/logo-light-trans.svg><link rel=preload as=image href=/fa/images/assets/logo.svg><div role=region aria-label="پرش به مطلب اصلی"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>پرش به مطلب اصلی</a></div><nav aria-label="صفحه اصلی" class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="باز و بست منو" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/fa/><div class=navbar__logo><img src=/fa/images/assets/logo-light-trans.svg alt="open.mp logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/fa/images/assets/logo-light-trans.svg alt="open.mp logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Open Multiplayer</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/fa/docs>مستندات</a><a class="navbar__item navbar__link" href=/fa/blog>وبلاگ</a><a href=https://forum.open.mp/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">انجمن‌ها</a><a class="navbar__item navbar__link" href=/fa/servers>سرورها</a><a class="navbar__item navbar__link" href=/fa/partners>شرکاء</a><a href=https://opencollective.com/openmultiplayer target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">حمایت مالی<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>فارسی</a><ul class=dropdown__menu><li><a href=/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/es/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/ru/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=ru>Русский</a><li><a href=/ar/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=ar>العربية</a><li><a href=/bs/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=bs>Bosanski</a><li><a href=/de/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=de>Deutsch</a><li><a href=/fil/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=fil>Filipino</a><li><a href=/fr/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/fa/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=fa>فارسی</a><li><a href=/hu/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=hu>Magyar</a><li><a href=/id/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=id>Indonesia</a><li><a href=/it/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=it>Italiano</a><li><a href=/nl/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=nl>Nederlands</a><li><a href=/pl/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=pl>Polski</a><li><a href=/pt-BR/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=pt-BR>Português (Brasil)</a><li><a href=/ro/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=ro>Română</a><li><a href=/sl/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=sl>Slovenščina</a><li><a href=/sr/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=sr>Српски</a><li><a href=/ta/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=ta>தமிழ்</a><li><a href=/th/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=th>ไทย</a><li><a href=/tr/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=tr>Türkçe</a><li><a href=/vi/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=vi>Tiếng Việt</a><li><a href=/zh-CN/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-CN>简体中文</a><li><a href=/zh-TW/docs/tutorials/cooldowns target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-TW>繁體中文</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="بین حالت تاریک و روشن سوئیچ کنید (الان system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="جستجو (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>جستجو</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="بازگشت به بالا" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="نوار کناری مستندات" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/fa/docs>معرفی</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/fa/docs/scripting/callbacks/OnActorStreamIn>Scripting</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/fa/docs/server/CommonServerIssues>Server</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/fa/docs/client/ClientCommands>Client</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/fa/docs/tutorials/AdvancedStructures>Tutorials</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/AdvancedStructures>ساختارهای پیشرفته</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/Binary>باینری</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/MenuGuide>راهنمای منو</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/PickupGuide>راهنمای Pickup</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/PluginDevelopmentGuide>Plugin Development Guide</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/PortForwarding>Port Forward کردن</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/QueryMechanism>SA:MP Query Mechanism</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/colorfix>Color Fix</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/fa/docs/tutorials/cooldowns>Cooldowns</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/servervariablesystem>Server variable system</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/stringmanipulation>String Manipulation</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/fa/docs/awesome>منابع عالی</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/fa/docs/changelog>گزارش تغییرات</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/fa/docs/meta/Contributing>meta</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="نشانگر صفحات"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="صفحه اصلی" class=breadcrumbs__link href=/fa/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Tutorials</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>Cooldowns</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">مطالب این صفحه</button></div><div class="theme-doc-markdown markdown"><header><h1>Cooldowns</h1></header><p>این آموزش نوشتن مکانیک گیم‌پلی رایج در بازی‌های اکشن را پوشش می‌دهد: cooldown. Cooldown ابزاری برای محدود کردن فرکانس انجام کاری توسط بازیکن است. این ممکن است چیزی مثل استفاده از توانایی مانند healing یا نوشتن پیام‌های چت باشد. به شما امکان کم کردن سرعت انجام کارها توسط بازیکنان را می‌دهد یا برای اهداف تعادل گیم‌پلی یا جلوگیری از spam.</p>
<p>ابتدا روش <em>بد</em> انجام cooldown با استفاده از <code>SetTimer</code> برای به‌روزرسانی حالت را مثال می‌زنم.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=استفاده-از-timer-ها>استفاده از Timer ها<a href=#استفاده-از-timer-ها class=hash-link aria-label="لینک مستقیم به استفاده از Timer ها" title="لینک مستقیم به استفاده از Timer ها">​</a></h2>
<p>مثلاً فرض کنید اعمال خاصی دارید که فقط یک بار در هر چند ثانیه می‌تواند انجام شود، من افراد زیادی را می‌بینم (شامل Southclaws، سال‌ها پیش) که چیزی مثل این می‌کنند:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">static bool:IsPlayerAllowedToDoThing[MAX_PLAYERS];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">OnPlayerInteractWithServer(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">/* این می‌تواند هر نوع event ورودی بازیکن باشد مانند:</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> *  وارد کردن دستور</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> *  برداشتن pickup</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> *  ورود به checkpoint</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> *  فشار دادن دکمه</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> *  ورود به منطقه</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> *  استفاده از dialog</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> */</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // این فقط وقتی کار می‌کند که بازیکن اجازه داشته باشد</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (IsPlayerAllowedToDoThing[playerid])</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // کاری که بازیکن درخواست کرده را انجام بده</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        DoTheThingThePlayerRequested();</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // بازیکن را غیرمجاز کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        IsPlayerAllowedToDoThing[playerid] = false;</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // بعد از 10 ثانیه به بازیکن اجازه انجام دوباره بده</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        SetTimerEx("AllowPlayer", 10000, false, "d", playerid);</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        return 1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        SendClientMessage(playerid, -1, "You are not allowed to do that yet!");</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        return 0;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// 10 ثانیه بعد از انجام کار توسط بازیکن صدا زده می‌شود</span><br></span><span class=token-line style=color:#393A34><span class="token plain">public AllowPlayer(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    IsPlayerAllowedToDoThing[playerid] = true;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    SendClientMessage(playerid, -1, "You are allowed to do the thing again! :D");</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>حالا این همه خوب و مرتب است، کار می‌کند، بازیکن نمی‌تواند آن کار را دوباره به مدت 10 ثانیه بعد از استفاده انجام دهد.</p>
<p>مثال دیگری در اینجا بگیرید، این stopwatch است که اندازه‌گیری می‌کند طول می‌کشد بازیکن مسابقه ساده نقطه به نقطه انجام دهد:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">static</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    StopWatchTimerID[MAX_PLAYERS],</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    StopWatchTotalTime[MAX_PLAYERS];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">StartPlayerRace(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // هر ثانیه تابعی را صدا می‌زند</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    StopWatchTimerID[playerid] = SetTimerEx("StopWatch", 1000, true, "d", playerid);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">public StopWatch(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // شمارنده ثانیه را افزایش بده</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    StopWatchTotalTime[playerid]++;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">OnPlayerFinishRace(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    new str[128];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    format(str, 128, "You took %d seconds to do that", StopWatchTotalTime[playerid]);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    SendClientMessage(playerid, -1, str);</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    KillTimer(StopWatchTimerID[playerid]);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>این دو مثال رایج هستند و ممکن است خوب کار کنند. اما، راه بهتری برای دستیابی به هر دوی این نتایج وجود دارد، که دقیق‌تر است و می‌تواند زمان‌بندی stopwatch را تا میلی‌ثانیه بدهد!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=استفاده-از-gettickcount-و-gettime>استفاده از <code>GetTickCount()</code> و <code>gettime()</code><a href=#استفاده-از-gettickcount-و-gettime class=hash-link aria-label="لینک مستقیم به استفاده-از-gettickcount-و-gettime" title="لینک مستقیم به استفاده-از-gettickcount-و-gettime">​</a></h2>
<p><code>GetTickCount()</code> تابعی است که زمان را به میلی‌ثانیه از زمان باز شدن فرآیند سرور به شما می‌دهد. <code>gettime()</code> تعداد ثانیه‌ها از 1 ژانویه 1970 را برمی‌گرداند، که به عنوان Unix Timestamp هم شناخته می‌شود.</p>
<p>اگر هر یک از این توابع را در دو زمان مختلف صدا کنید، و زمان اول را از دوم کم کنید ناگهان فاصله بین آن دو رویداد را به میلی‌ثانیه یا ثانیه به ترتیب دارید! نگاهی به این مثال بیندازید:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=یک-cooldown>یک Cooldown<a href=#یک-cooldown class=hash-link aria-label="لینک مستقیم به یک Cooldown" title="لینک مستقیم به یک Cooldown">​</a></h3>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">static PlayerAllowedTick[MAX_PLAYERS];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">OnPlayerInteractWithServer(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   if (GetTickCount() - PlayerAllowedTick[playerid] > 10000)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   // این فقط وقتی کار می‌کند که tick فعلی منهای tick آخر بالای 10000 باشد.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   // به عبارت دیگر، فقط وقتی کار می‌کند که فاصله بین اعمال بیش از 10 ثانیه باشد.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       DoTheThingThePlayerRequested();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       PlayerAllowedTick[playerid] = GetTickCount(); // tick count را با آخرین زمان به‌روزرسانی کن.</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">       return 1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       SendClientMessage(playerid, -1, "You are not allowed to do that yet!");</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">       return 0;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>یا، به طور جایگزین نسخه <code>gettime()</code>:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">static PlayerAllowedSeconds[MAX_PLAYERS];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">OnPlayerInteractWithServer(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   if (gettime() - PlayerAllowedSeconds[playerid] > 10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   // این فقط وقتی کار می‌کند که ثانیه فعلی منهای ثانیه آخر بالای 10 باشد.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   // به عبارت دیگر، فقط وقتی کار می‌کند که فاصله بین اعمال بیش از 10 ثانیه باشد.</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       DoTheThingThePlayerRequested();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       PlayerAllowedSeconds[playerid] = gettime(); // شمارش ثانیه را با آخرین زمان به‌روزرسانی کن.</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">       return 1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       SendClientMessage(playerid, -1, "You are not allowed to do that yet!");</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">       return 0;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>کد بسیار کمتری آنجا هست، نیازی به تابع public یا timer نیست. اگر واقعاً می‌خواهید، می‌توانید زمان باقی‌مانده را در پیام خطا بگذارید:</p>
<p>(در این مثال از SendFormatMessage استفاده می‌کنم)</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">SendFormatMessage(</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    playerid,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    -1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    "You are not allowed to do that yet! You can again in %d ms",</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    10000 - (GetTickCount() - PlayerAllowedTick[playerid])</span><br></span><span class=token-line style=color:#393A34><span class="token plain">);</span><br></span></code></pre></div></div>
<p>این مثال بسیار ساده است، بهتر است آن مقدار MS را به رشته <code>minutes:seconds.milliseconds</code> تبدیل کنید اما کدش را در انتها پست خواهم کرد.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=یک-stopwatch>یک Stopwatch<a href=#یک-stopwatch class=hash-link aria-label="لینک مستقیم به یک Stopwatch" title="لینک مستقیم به یک Stopwatch">​</a></h3>
<p>امیدوارم ببینید چقدر قدرتمند است برای گرفتن فاصله‌ها بین رویدادها، بیایید مثال دیگری ببینیم</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">static Stopwatch[MAX_PLAYERS];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">StartPlayerRace(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Stopwatch[playerid] = GetTickCount();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">OnPlayerFinishRace(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        interval,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        str[128];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    interval = GetTickCount() - Stopwatch[playerid];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    format(str, 128, "You took %d milliseconds to do that", interval);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    SendClientMessage(playerid, -1, str);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>در این مثال، tick count وقتی مسابقه شروع می‌کند در متغیر بازیکن ذخیره می‌شود. وقتی تمام می‌کند، tick فعلی (وقت تمام کردن) آن tick اولیه (مقدار کوچکتر) از آن کم می‌شود و بنابراین مقدار میلی‌ثانیه‌ها بین شروع و پایان مسابقه را داریم.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=تفکیک>تفکیک<a href=#تفکیک class=hash-link aria-label="لینک مستقیم به تفکیک" title="لینک مستقیم به تفکیک">​</a></h4>
<p>حالا بیایید کد را کمی تفکیک کنیم.</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">new Stopwatch[MAX_PLAYERS];</span><br></span></code></pre></div></div>
<p>این متغیر سراسری است، نیاز داریم از این استفاده کنیم تا بتوانیم tick count را ذخیره کنیم و مقدار را در نقطه دیگری از زمان بازیابی کنیم (به عبارت دیگر، در تابع دیگر، بعداً استفاده کنیم)</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">StartPlayerRace(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    Stopwatch[playerid] = GetTickCount();</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>این وقتی است که بازیکن مسابقه را شروع می‌کند، tick count حالا ضبط می‌شود، اگر این 1 دقیقه بعد از شروع سرور اتفاق بیفتد، مقدار آن متغیر 60,000 خواهد بود زیرا 60 ثانیه است و هر ثانیه هزار میلی‌ثانیه دارد.</p>
<p>خوب، حالا متغیر آن بازیکن روی 60,000 تنظیم شده، حالا او 1 دقیقه 40 ثانیه بعد مسابقه را تمام می‌کند:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">OnPlayerFinishRace(playerid)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        interval,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        str[128];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    interval = GetTickCount() - Stopwatch[playerid];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    format(str, 128, "You took %d milliseconds to do that", interval);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    SendClientMessage(playerid, -1, str);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>اینجا جایی است که محاسبه فاصله اتفاق می‌افتد، خوب، من می‌گویم محاسبه، فقط کم کردن دو مقدار است!</p>
<p>GetTickCount() tick count فعلی را برمی‌گرداند، پس بزرگتر از tick count اولیه خواهد بود که یعنی tick count اولیه را از tick count فعلی کم می‌کنید تا فاصله بین دو اندازه‌گیری را بگیرید.</p>
<p>پس، همان طور که گفتیم بازیکن 1 دقیقه و 40 ثانیه بعد مسابقه را تمام می‌کند (100 ثانیه، یا 100,000 میلی‌ثانیه)، GetTickCount برابر 160,000 برمی‌گردد. مقدار اولیه (که 60,000 است) را از مقدار جدید (که 160,000 است) کم کنید و 100,000 میلی‌ثانیه می‌گیرید، که 1 دقیقه 40 ثانیه است، که زمانی است که بازیکن برای انجام مسابقه طول کشیده!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=خلاصه-و-نکات>خلاصه و نکات<a href=#خلاصه-و-نکات class=hash-link aria-label="لینک مستقیم به خلاصه و نکات" title="لینک مستقیم به خلاصه و نکات">​</a></h2>
<p>پس! یاد گرفتیم که:</p>
<ul>
<li>GetTickCount مقدار زمان را به میلی‌ثانیه از زمان شروع سیستم کامپیوتری که سرور روی آن اجرا می‌شود برمی‌گرداند.</li>
<li>و می‌توانیم با صدا زدن آن در دو فاصله، ذخیره اولی در متغیر و مقایسه دو مقدار فاصله دقیق به میلی‌ثانیه بین آن دو رویداد را بگیریم.</li>
</ul>
<p>آخر از همه، نمی‌خواهید به بازیکنانتان مقادیر زمان را به میلی‌ثانیه بگویید! چه اتفاقی می‌افتد اگر یک ساعت طول بکشد مسابقه تکمیل کنند؟</p>
<p>بهتر است از تابعی استفاده کنید که میلی‌ثانیه‌ها را می‌گیرد و به فرمت خوانا تبدیل می‌کند، مثلاً، در مثال قبلی بازیکن 100,000 میلی‌ثانیه طول کشیده مسابقه انجام دهد، اگر به بازیکن بگویید این مدت طول کشیده، خواندن آن 100,000 و فهمیدن معنی‌اش در زمان قابل خواندن برای انسان طول بیشتری می‌کشد.</p>
<p><a href=https://github.com/ScavengeSurvive/timeutil target=_blank rel="noopener noreferrer">این بسته</a> شامل تابعی برای فرمت کردن میلی‌ثانیه‌ها به رشته است.</p>
<p>امیدوارم کمک کرده باشد! آن را نوشتم زیرا اخیراً به چند نفر کمک کرده‌ام که نمی‌دانستند چگونه از <code>GetTickCount()</code> یا <code>gettime()</code> به عنوان جایگزین برای timer ها یا برای گرفتن فاصله‌ها و غیره استفاده کنند.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/openmultiplayer/web/edit/master/frontend/i18n/fa/docusaurus-plugin-content-docs/current/tutorials/cooldowns.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>ویرایش مطالب این صفحه</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="صفحات مستندات"><a class="pagination-nav__link pagination-nav__link--prev" href=/fa/docs/tutorials/colorfix><div class=pagination-nav__sublabel>قبلی</div><div class=pagination-nav__label>Color Fix</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/fa/docs/tutorials/servervariablesystem><div class=pagination-nav__sublabel>بعدی</div><div class=pagination-nav__label>Server variable system</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#استفاده-از-timer-ها class="table-of-contents__link toc-highlight">استفاده از Timer ها</a><li><a href=#استفاده-از-gettickcount-و-gettime class="table-of-contents__link toc-highlight">استفاده از <code>GetTickCount()</code> و <code>gettime()</code></a><ul><li><a href=#یک-cooldown class="table-of-contents__link toc-highlight">یک Cooldown</a><li><a href=#یک-stopwatch class="table-of-contents__link toc-highlight">یک Stopwatch</a></ul><li><a href=#خلاصه-و-نکات class="table-of-contents__link toc-highlight">خلاصه و نکات</a></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>مستندات</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/fa/docs>معرفی</a><li class=footer__item><a class=footer__link-item href=/fa/docs>مهاجرت به open.mp</a><li class=footer__item><a class=footer__link-item href=/fa/docs/server/config.json>config.json</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>جامعه</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://discord.gg/samp target=_blank rel="noopener noreferrer" class=footer__link-item>دیسکورد<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/openmultiplayer/open.mp target=_blank rel="noopener noreferrer" class=footer__link-item>گیت‌هاب<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://opencollective.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>حمایت مالی<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://youtube.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>یوتیوب<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://x.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>ایکس<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>بیشتر</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/fa/servers>سرورها</a><li class=footer__item><a class=footer__link-item href=/fa/blog>وبلاگ</a><li class=footer__item><a class=footer__link-item href=/fa/animations>انیمیشن‌ها</a><li class=footer__item><a class=footer__link-item href=/fa/uid>تولیدکننده UID</a><li class=footer__item><a href=https://sa-mp.mp/ target=_blank rel="noopener noreferrer" class=footer__link-item>SA-MP<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/fa/images/assets/logo.svg alt="open.mp logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src=/fa/images/assets/logo.svg alt="open.mp logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class=footer__copyright>حق نشر © 2025 open.mp. ساخته شده با Docusaurus.</div></div></div></footer></div>
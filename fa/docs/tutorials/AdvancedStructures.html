<!doctype html><html lang=fa dir=rtl class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/AdvancedStructures" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>ساختارهای پیشرفته | open.mp</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://open.mp/fa/images/assets/wordmark-coloured-bg.png><meta data-rh=true name=twitter:image content=https://open.mp/fa/images/assets/wordmark-coloured-bg.png><meta data-rh=true property=og:url content=https://open.mp/fa/docs/tutorials/AdvancedStructures><meta data-rh=true property=og:locale content=fa><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ru><meta data-rh=true property=og:locale:alternate content=ar><meta data-rh=true property=og:locale:alternate content=bs><meta data-rh=true property=og:locale:alternate content=de><meta data-rh=true property=og:locale:alternate content=fil><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=hu><meta data-rh=true property=og:locale:alternate content=id><meta data-rh=true property=og:locale:alternate content=it><meta data-rh=true property=og:locale:alternate content=pl><meta data-rh=true property=og:locale:alternate content=pt_BR><meta data-rh=true property=og:locale:alternate content=ro><meta data-rh=true property=og:locale:alternate content=sl><meta data-rh=true property=og:locale:alternate content=sr><meta data-rh=true property=og:locale:alternate content=ta><meta data-rh=true property=og:locale:alternate content=th><meta data-rh=true property=og:locale:alternate content=tr><meta data-rh=true property=og:locale:alternate content=vi><meta data-rh=true property=og:locale:alternate content=zh_CN><meta data-rh=true property=og:locale:alternate content=zh_TW><meta data-rh=true name=docusaurus_locale content=fa><meta data-rh=true name=docsearch:language content=fa><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="ساختارهای پیشرفته | open.mp"><meta data-rh=true name=description content="دستکاری آرایه"><meta data-rh=true property=og:description content="دستکاری آرایه"><link data-rh=true rel=icon href=/fa/favicon.ico><link data-rh=true rel=canonical href=https://open.mp/fa/docs/tutorials/AdvancedStructures><link data-rh=true rel=alternate href=https://open.mp/docs/tutorials/AdvancedStructures hreflang=en><link data-rh=true rel=alternate href=https://open.mp/es/docs/tutorials/AdvancedStructures hreflang=es><link data-rh=true rel=alternate href=https://open.mp/ru/docs/tutorials/AdvancedStructures hreflang=ru><link data-rh=true rel=alternate href=https://open.mp/ar/docs/tutorials/AdvancedStructures hreflang=ar><link data-rh=true rel=alternate href=https://open.mp/bs/docs/tutorials/AdvancedStructures hreflang=bs><link data-rh=true rel=alternate href=https://open.mp/de/docs/tutorials/AdvancedStructures hreflang=de><link data-rh=true rel=alternate href=https://open.mp/fil/docs/tutorials/AdvancedStructures hreflang=fil><link data-rh=true rel=alternate href=https://open.mp/fr/docs/tutorials/AdvancedStructures hreflang=fr><link data-rh=true rel=alternate href=https://open.mp/fa/docs/tutorials/AdvancedStructures hreflang=fa><link data-rh=true rel=alternate href=https://open.mp/hu/docs/tutorials/AdvancedStructures hreflang=hu><link data-rh=true rel=alternate href=https://open.mp/id/docs/tutorials/AdvancedStructures hreflang=id><link data-rh=true rel=alternate href=https://open.mp/it/docs/tutorials/AdvancedStructures hreflang=it><link data-rh=true rel=alternate href=https://open.mp/pl/docs/tutorials/AdvancedStructures hreflang=pl><link data-rh=true rel=alternate href=https://open.mp/pt-BR/docs/tutorials/AdvancedStructures hreflang=pt-BR><link data-rh=true rel=alternate href=https://open.mp/ro/docs/tutorials/AdvancedStructures hreflang=ro><link data-rh=true rel=alternate href=https://open.mp/sl/docs/tutorials/AdvancedStructures hreflang=sl><link data-rh=true rel=alternate href=https://open.mp/sr/docs/tutorials/AdvancedStructures hreflang=sr><link data-rh=true rel=alternate href=https://open.mp/ta/docs/tutorials/AdvancedStructures hreflang=ta><link data-rh=true rel=alternate href=https://open.mp/th/docs/tutorials/AdvancedStructures hreflang=th><link data-rh=true rel=alternate href=https://open.mp/tr/docs/tutorials/AdvancedStructures hreflang=tr><link data-rh=true rel=alternate href=https://open.mp/vi/docs/tutorials/AdvancedStructures hreflang=vi><link data-rh=true rel=alternate href=https://open.mp/zh-CN/docs/tutorials/AdvancedStructures hreflang=zh-CN><link data-rh=true rel=alternate href=https://open.mp/zh-TW/docs/tutorials/AdvancedStructures hreflang=zh-TW><link data-rh=true rel=alternate href=https://open.mp/docs/tutorials/AdvancedStructures hreflang=x-default><link data-rh=true rel=preconnect href=https://AOKXGK39Z7-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://open.mp/fa/docs/tutorials/AdvancedStructures","name":"ساختارهای پیشرفته","position":1}]}</script><link rel=alternate type=application/rss+xml href=/fa/blog/rss.xml title="open.mp RSS Feed"><link rel=alternate type=application/atom+xml href=/fa/blog/atom.xml title="open.mp Atom Feed"><link rel=search type=application/opensearchdescription+xml title=open.mp href=/fa/opensearch.xml><link rel=stylesheet href=/fa/assets/css/styles.aee78164.css><script src=/fa/assets/js/runtime~main.4a3cd7c0.js defer></script><script src=/fa/assets/js/main.8d592ce9.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/fa/images/assets/logo-light-trans.svg><link rel=preload as=image href=/fa/images/assets/logo.svg><div role=region aria-label="پرش به مطلب اصلی"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>پرش به مطلب اصلی</a></div><nav aria-label="صفحه اصلی" class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="باز و بست منو" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/fa/><div class=navbar__logo><img src=/fa/images/assets/logo-light-trans.svg alt="open.mp logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/fa/images/assets/logo-light-trans.svg alt="open.mp logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Open Multiplayer</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/fa/docs>Docs</a><a class="navbar__item navbar__link" href=/fa/blog>Blog</a><a href=https://forum.open.mp/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Forums</a><a class="navbar__item navbar__link" href=/fa/servers>Servers</a><a class="navbar__item navbar__link" href=/fa/partners>Partners</a><a href=https://opencollective.com/openmultiplayer target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>فارسی</a><ul class=dropdown__menu><li><a href=/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/es/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/ru/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=ru>Русский</a><li><a href=/ar/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=ar>العربية</a><li><a href=/bs/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=bs>Bosanski</a><li><a href=/de/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=de>Deutsch</a><li><a href=/fil/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=fil>Filipino</a><li><a href=/fr/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/fa/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=fa>فارسی</a><li><a href=/hu/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=hu>Magyar</a><li><a href=/id/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=id>Indonesia</a><li><a href=/it/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=it>Italiano</a><li><a href=/pl/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=pl>Polski</a><li><a href=/pt-BR/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=pt-BR>Português (Brasil)</a><li><a href=/ro/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=ro>Română</a><li><a href=/sl/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=sl>Slovenščina</a><li><a href=/sr/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=sr>Српски</a><li><a href=/ta/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=ta>தமிழ்</a><li><a href=/th/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=th>ไทย</a><li><a href=/tr/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=tr>Türkçe</a><li><a href=/vi/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=vi>Tiếng Việt</a><li><a href=/zh-CN/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-CN>中文（中国）</a><li><a href=/zh-TW/docs/tutorials/AdvancedStructures target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-TW>中文（台灣）</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="بین حالت تاریک و روشن سوئیچ کنید (الان system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="جستجو (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>جستجو</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="بازگشت به بالا" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="نوار کناری مستندات" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/fa/docs>معرفی</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/fa/docs/scripting/callbacks/OnActorStreamIn>Scripting</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/fa/docs/server/CommonServerIssues>Server</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/fa/docs/client/ClientCommands>Client</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/fa/docs/tutorials/AdvancedStructures>Tutorials</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/fa/docs/tutorials/AdvancedStructures>ساختارهای پیشرفته</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/Binary>باینری</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/MenuGuide>راهنمای منو</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/PickupGuide>راهنمای Pickup</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/PluginDevelopmentGuide>Plugin Development Guide</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/PortForwarding>Port Forward کردن</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/QueryMechanism>SA:MP Query Mechanism</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/colorfix>Color Fix</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/cooldowns>Cooldowns</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/servervariablesystem>Server variable system</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/fa/docs/tutorials/stringmanipulation>String Manipulation</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/fa/docs/awesome>منابع عالی</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/fa/docs/changelog>گزارش تغییرات</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/fa/docs/meta/Contributing>meta</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="نشانگر صفحات"><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="صفحه اصلی" class=breadcrumbs__link href=/fa/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Tutorials</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>ساختارهای پیشرفته</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">مطالب این صفحه</button></div><div class="theme-doc-markdown markdown"><header><h1>ساختارهای پیشرفته</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id=دستکاری-آرایه>دستکاری آرایه<a href=#دستکاری-آرایه class=hash-link aria-label="لینک مستقیم به دستکاری آرایه" title="لینک مستقیم به دستکاری آرایه">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=یافتن-slot-خالی-به-درستی>یافتن slot خالی به درستی<a href=#یافتن-slot-خالی-به-درستی class=hash-link aria-label="لینک مستقیم به یافتن slot خالی به درستی" title="لینک مستقیم به یافتن slot خالی به درستی">​</a></h3>
<p>این مثال نشان می‌دهد چگونه با استفاده از شیوه‌های استاندارد برنامه‌نویسی slot خالی را در آرایه پیدا کنید.</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    gMyArray[10];</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">stock FindEmptySlot()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        i = 0;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    while (i &lt; sizeof (gMyArray) && gMyArray[i])</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        i++;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (i == sizeof (gMyArray)) return -1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return i;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>این مثال ساده فرض می‌کند slot آرایه اگر مقدارش 0 باشد خالی است. حلقه تا زمانی که مقادیر صفر نباشند، تمام مقادیر آرایه را حلقه می‌زند (می‌تواند با ثابت هم انجام شود). وقتی به یکی که 0 است برسد شرط while شکست می‌خورد و حلقه بدون استفاده از break که شیوه معمول است اما در موقعیت‌هایی مثل این ممنوع است، تمام می‌شود. این تابع همچنین -1 برمی‌گرداند اگر slot آزاد پیدا نشود، که باید در انتهای دیگر بررسی شود. بیشتر معمولاً id پیدا شده را مستقیماً استفاده می‌کنید:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">MyFunction()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        i = 0;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    while (i &lt; sizeof (gMyArray) && gMyArray[i])</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        i++;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (i == sizeof (gMyArray))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        printf("No free slot found");</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        return 0;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    printf("Slot %d is empty", i);</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // از slot پیدا شده در کد خود برای هر چیزی استفاده کنید</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return 1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<p>بدیهی است که عبارت "gMyArray[i]" را با نشانگر خود از slot در استفاده جایگزین کنید.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=لیست>لیست<a href=#لیست class=hash-link aria-label="لینک مستقیم به لیست" title="لینک مستقیم به لیست">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=مقدمه>مقدمه<a href=#مقدمه class=hash-link aria-label="لینک مستقیم به مقدمه" title="لینک مستقیم به مقدمه">​</a></h4>
<p>لیست‌ها نوع بسیار مفیدی از ساختار هستند، آنها اساساً آرایه‌ای هستند که قسمت بعدی یا داده مربوطه توسط قسمت آخر اشاره می‌شود.</p>
<p>مثال:</p>
<p>فرض کنید آرایه زیر را دارید:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">3, 1, 64, 2, 4, 786, 2, 9</span><br></span></code></pre></div></div>
<p>اگر می‌خواستید آرایه را مرتب کنید در نهایت خواهید داشت:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">1, 2, 2, 3, 4, 9, 64, 786</span><br></span></code></pre></div></div>
<p>اگر اما می‌خواستید داده‌ها را در ترتیب اصلی بگذارید اما همچنان اعداد را به ترتیب برای دلیلی بدانید (فقط یک مثال است)، مشکلی دارید، چگونه قرار است اعداد را همزمان در دو ترتیب داشته باشید؟ این استفاده خوبی از لیست‌ها خواهد بود. برای ساختن لیست از این داده‌ها نیاز دارید آرایه را به آرایه دوبعدی تبدیل کنید، جایی که بعد دوم 2 سلول بزرگ باشد، بعد اول شامل عدد اصلی، دیگری شامل index بزرگترین عدد بعدی. همچنین نیاز به متغیر جداگانه برای نگهداری index کوچکترین عدد دارید، پس آرایه جدیدتان چنین خواهد بود:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">start = 1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">3, 1, 64, 2, 4, 786, 2, 9</span><br></span><span class=token-line style=color:#393A34><span class="token plain">4, 3, 5,  6, 7, -1,  0, 2</span><br></span></code></pre></div></div>
<p>index بعدی مرتبط با 786 برابر -1 است، این یک index نامعتبر آرایه است و انتهای لیست را نشان می‌دهد، یعنی اعداد بیشتری نیست. دو تای 2 واضحاً می‌توانند در هر طرفی باشند، اولی در آرایه اولی در لیست هم هست زیرا محتمل‌تر است اول با آن برخورد شود.</p>
<p>مزیت دیگر این روش مرتب کردن اعداد این است که اضافه کردن اعداد بیشتر بسیار سریع‌تر است. اگر می‌خواستید عدد 3 دیگری را به آرایه مرتب شده اضافه کنید ابتدا نیاز دارید حداقل 4 عدد را یک slot به راست منتقل کنید تا فضا درست کنید، اینجا وحشتناک نیست اما در آرایه‌های بزرگتر بسیار کند است. با نسخه لیست فقط می‌توانید 3 را به انتهای آرایه اضافه کنید و یک مقدار واحد در لیست تغییر دهید:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">start = 1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">3, 1, 64, 2, 4, 786, 2, 9, 3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">8, 3, 5,  6, 7, -1,  0, 2, 4</span><br></span><span class=token-line style=color:#393A34><span class="token plain">^ این مقدار را تغییر بده        ^ بالاترین slot بعدی</span><br></span></code></pre></div></div>
<p>هیچ‌یک از اعداد دیگر حرکت نکرده‌اند پس هیچ‌یک از indexهای دیگر نیاز به به‌روزرسانی ندارند، فقط کمترین عدد بعدی را بگذارید به عدد جدید اشاره کند و عدد جدید را بگذارید به عددی که کمترین بعدی قبلاً اشاره می‌کرد اشاره کند. حذف مقدار حتی آسان‌تر است:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">start = 1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">3, 1, 64, X, 4, 786, 2, 9, 3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">8, 6, 5,  6, 7, -1,  0, 2, 4</span><br></span><span class=token-line style=color:#393A34><span class="token plain">   ^ تغییر یافته تا از مقدار حذف شده بپرد</span><br></span></code></pre></div></div>
<p>اینجا اولین 2 حذف شده و عددی که به آن عدد اشاره می‌کرد (1) به‌روزرسانی شده تا به عددی که عدد حذف شده اشاره می‌کرد اشاره کند. در این مثال نه pointer عدد حذف شده و نه خود عدد حذف نشده‌اند، اما غیرممکن است دنبال کردن لیست به آن slot برسید پس مهم نیست، عملاً حذف شده است.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=انواع>انواع<a href=#انواع class=hash-link aria-label="لینک مستقیم به انواع" title="لینک مستقیم به انواع">​</a></h4>
<p>لیست‌ها در مثال‌های بالا فقط لیست‌های تکی ساده بودند، همچنین می‌توانید لیست‌های دوتایی داشته باشید جایی که هر مقدار به مقدار بعدی و مقدار آخر اشاره می‌کند، اینها معمولاً pointer به انتهای لیست هم دارند تا به عقب بروند (مثلاً برای گرفتن اعداد به ترتیب نزولی):</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">start = 1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">end = 5</span><br></span><span class=token-line style=color:#393A34><span class="token plain">value: 3, 1,  64, 2, 4, 786, 2, 9, 3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">next:  8, 3,  5,  6, 7, -1,  0, 2, 4</span><br></span><span class=token-line style=color:#393A34><span class="token plain">last:  6, -1, 7,  1, 8, 2,   3, 4, 0</span><br></span></code></pre></div></div>
<p>باید با اینها مراقب باشید، خصوصاً وقتی بیش از یک مقدار از هر مقدار دارید، که last pointer به عددی اشاره کند که next pointer آن مستقیماً دوباره برمی‌گردد، مثلاً این اشتباه است:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">2,  3, 3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">1,  2, -1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">-1, 2, 0</span><br></span></code></pre></div></div>
<p>next pointer دوم به 3 در slot یک اشاره می‌کند، اما last pointer آن 3 برنمی‌گردد به دو، هر دو لیست روی خودشان به ترتیب هستند (زیرا دو سه می‌تواند هر طرفی باشد) اما با هم اشتباه هستند، نسخه صحیح خواهد بود:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">2,  3, 3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">1,  2, -1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">-1, 0, 2</span><br></span></code></pre></div></div>
<p>هر دوی آن لیست‌ها روی دو عدد انتهایی شروع و پایان می‌یابند، لیست پشت در مثال اشتباه روی عدد وسطی شروع شده بود.</p>
<p>نوع دیگر لیست، لیست حلقه‌ای است جایی که مقدار آخر به اولی برمی‌گردد. مزیت واضح این است که می‌توانید از هر مقداری به هر مقدار دیگری بدون دانستن از قبل اینکه هدف قبل یا بعد از نقطه شروع است برسید، فقط نیاز دارید مراقب باشید وارد حلقه بی‌نهایت نشوید زیرا نقطه پایان صریح -1 وجود ندارد. این لیست‌ها همچنان نقاط شروع دارند. همچنین می‌توانید لیست‌های حلقه‌ای دوتایی داشته باشید جایی که لیست next و last دارید، هر دوی آنها حلقه می‌زنند:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">start = 1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">end = 5</span><br></span><span class=token-line style=color:#393A34><span class="token plain">3, 1,  64, 2, 4, 786, 2, 9, 3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">8, 3,  5,  6, 7, 1,   0, 2, 4</span><br></span><span class=token-line style=color:#393A34><span class="token plain">6, 5,  7,  1, 8, 2,   3, 4, 0</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=لیستهای-مختلط>لیست‌های مختلط<a href=#لیستهای-مختلط class=hash-link aria-label="لینک مستقیم به لیست‌های مختلط" title="لینک مستقیم به لیست‌های مختلط">​</a></h4>
<p>لیست‌های مختلط آرایه‌هایی هستند که شامل چندین لیست همزمان هستند. مثال می‌تواند آرایه‌ای از مقادیر باشد، مرتب شده توسط لیست، با لیست دیگری که تمام slot‌های استفاده نشده را پیوند می‌دهد تا بدانید کجا می‌توانید مقدار جدید اضافه کنید. مثال (X یعنی slot استفاده نشده (آزاد)):</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">sortedStart = 3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">unusedStart = 1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">value: 34, X, X, 6, 34, 46, X,  54, 23, 25, X,  75, X, 45</span><br></span><span class=token-line style=color:#393A34><span class="token plain">sort:  4,        8, 13, 7,      11, 9,  0,      -1,    5</span><br></span><span class=token-line style=color:#393A34><span class="token plain">free:      2, 6,            10,             12,     -1</span><br></span></code></pre></div></div>
<p>بدیهی است دو لیست هرگز تعامل نمی‌کنند پس هر دو می‌توانند از همان slot برای مقدار بعدی‌شان استفاده کنند:</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">sortedStart = 3</span><br></span><span class=token-line style=color:#393A34><span class="token plain">unusedStart = 1</span><br></span><span class=token-line style=color:#393A34><span class="token plain">value: 34, X, X, 6, 34, 46, X,  54, 23, 25, X,  75, X,  45</span><br></span><span class=token-line style=color:#393A34><span class="token plain">next:  4,  2, 6, 8, 13, 7,  10, 11, 9,  0,  12, -1, -1, 5</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=کد>کد<a href=#کد class=hash-link aria-label="لینک مستقیم به کد" title="لینک مستقیم به کد">​</a></h4>
<p>قبل از شروع کد باید تصمیم بگیرید کدام نوع لیست برای برنامه شما مناسب‌تر است، این کاملاً بر اساس برنامه است و نمی‌تواند به راحتی اینجا پوشش داده شود. تمام این مثال‌ها لیست‌های مختلط هستند، یک لیست برای مقادیر مورد نیاز، یکی برای slot‌های استفاده نشده.</p>
<p>این مثال نشان می‌دهد چگونه کد برای لیست مرتب شده عددی صعودی بنویسید.</p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">#define NUMBER_OF_VALUES (10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">enum E_DATA_LIST</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    E_DATA_LIST_VALUE,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    E_DATA_LIST_NEXT</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    gListData[NUMBER_OF_VALUES][E_DATA_LIST],</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    gUnusedStart = 0,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    gListStart = -1; // بدون لیست شروع می‌شود</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// این تابع لیست را مقداردهی اولیه می‌کند</span><br></span><span class=token-line style=color:#393A34><span class="token plain">List_Setup()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        i,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        size = NUMBER_OF_VALUES;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    size--;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    for (i = 0; i &lt; size; i++)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // برای شروع همه slotها استفاده نشده‌اند</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        gListData[i][E_DATA_LIST_NEXT] = i + 1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // لیست را پایان بده</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    gListData[size][E_DATA_LIST_NEXT] = -1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// این تابع مقدار را به لیست اضافه می‌کند (با استفاده از مرتب‌سازی ساده)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">List_Add(value)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // بررسی کن اگر slotهای آزاد در آرایه وجود دارد</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (gUnusedStart == -1) return -1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        pointer = gListStart,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        last = -1,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        slot = gUnusedStart;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // مقدار را به آرایه اضافه کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    gListData[slot][E_DATA_LIST_VALUE] = value;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // لیست خالی را به‌روزرسانی کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    gUnusedStart = gListData[slot][E_DATA_LIST_NEXT];</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // تا رسیدن به عدد بزرگتر/مساوی در لیست حلقه بزن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    while (pointer != -1 && gListData[pointer][E_DATA_LIST_VALUE] &lt; value)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // موقعیت مقدار آخر را ذخیره کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        last = pointer;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // به slot بعدی حرکت کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        pointer = gListData[pointer][E_DATA_LIST_NEXT];</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // اگر به اینجا رسیدیم از مقادیر تمام شدیم یا به یکی بزرگتر رسیدیم</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // بررسی کن اگر هیچ عددی بررسی کردیم</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (last == -1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // اولین عدد بزرگتر بود یا لیستی وجود ندارد</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // در هر حال مقدار جدید را به شروع لیست اضافه کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        gListData[slot][E_DATA_LIST_NEXT] = gListStart;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        gListStart = slot;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // مقدار جدید را در لیست قرار بده</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        gListData[slot][E_DATA_LIST_NEXT] = pointer;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        gListData[last][E_DATA_LIST_NEXT] = slot;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return slot;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// این تابع مقدار را از slot داده شده در آرایه حذف می‌کند (برگشت داده شده توسط List_Add)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">List_Remove(slot)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">{</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // این slot معتبر است؟</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (slot &lt; 0 || slot >= NUMBER_OF_VALUES) return 0;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // ابتدا slot قبل را پیدا کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        pointer = gListStart,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        last = -1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    while (pointer != -1 && pointer != slot)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        last = pointer;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        pointer = gListData[pointer][E_DATA_LIST_NEXT];</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // slot را در لیست پیدا کردیم؟</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (pointer == -1) return 0;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (last == -1)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // مقدار اولی در لیست است</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // این slot را در لیست رد کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        gListStart = gListData[slot][E_DATA_LIST_NEXT];</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    {</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // مقدار در لیست است</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        // این slot را در لیست رد کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        gListData[last][E_DATA_LIST_NEXT] = gListData[slot][E_DATA_LIST_NEXT];</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    }</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // این slot را به لیست استفاده نشده اضافه کن</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    // لیست استفاده نشده در هیچ ترتیبی نیست پس مهم نیست</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    gListData[slot][E_DATA_LIST_NEXT] = gUnusedStart;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    gUnusedStart = slot;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    return 1;</span><br></span><span class=token-line style=color:#393A34><span class="token plain">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=درختهای-باینری>درخت‌های باینری<a href=#درختهای-باینری class=hash-link aria-label="لینک مستقیم به درخت‌های باینری" title="لینک مستقیم به درخت‌های باینری">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=مقدمه-1>مقدمه<a href=#مقدمه-1 class=hash-link aria-label="لینک مستقیم به مقدمه" title="لینک مستقیم به مقدمه">​</a></h4>
<p>درخت‌های باینری روش بسیار سریعی برای جستجوی داده در آرایه با استفاده از سیستم لیست بسیار خاص هستند. شناخته شده‌ترین درخت باینری احتمالاً بازی 20 سؤال است، با فقط 20 سؤال بله/خیر می‌توانید بیش از 1048576 آیتم داشته باشید. درخت باینری، همان طور که نامش نشان می‌دهد، نوعی درخت است، شبیه درخت خانوادگی، جایی که هر آیتم 0، 1 یا 2 فرزند دارد. آنها برای ترتیب دادن داده مثل لیست استفاده نمی‌شوند بلکه برای مرتب کردن داده برای جستجوی بسیار کارآمد استفاده می‌شوند. اساساً با آیتمی جایی نزدیک وسط لیست مرتب شده اشیا شروع می‌کنید (مثلاً عدد وسط در آرایه مرتب شده) و آن را با مقداری که می‌خواهید پیدا کنید مقایسه می‌کنید. اگر همان باشد آیتم خود را پیدا کرده‌اید، اگر بزرگتر باشد به آیتم سمت راست حرکت می‌کنید (نه بلافاصله سمت راست، آیتم سمت راست آیتم وسطی آیتمی در نشان سه چهارم خواهد بود)، اگر کمتر باشد به چپ حرکت می‌کنید، سپس فرآیند را تکرار می‌کنید.</p>
<p><strong>مثال</strong></p>
<div class="language-pawn codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-pawn codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">1 2 5 6 7 9 12 14 17 19 23 25 28 33 38</span><br></span></code></pre></div></div>
<p>آرایه مرتب شده قبلی را دارید و می‌خواهید بفهمید slot شماره 7 در کدام slot است (اگر اصلاً باشد)، در این مثال احتمالاً کارآمدتر است مستقیماً در آرایه حلقه بزنید تا پیدا کنید اما هدف این نیست، آن روش زمان به طور خطی با اندازه آرایه افزایش می‌یابد، زمان جستجوی باینری به طور خطی افزایش می‌یابد همان طور که آرایه به طور نمایی در اندازه افزایش می‌یابد. یعنی آرایه 128 بزرگ دو برابر زمان بیشتر برای جستجوی مستقیم نسبت به آرایه 64 بزرگ طول می‌کشد، اما جستجوی باینری 128 بزرگ فقط یک بررسی بیشتر از جستجوی باینری 64 بزرگ طول می‌کشد، اصلاً زیاد نیست.</p>
<p>اگر درخت باینری از داده بالا بسازیم خواهیم داشت: <img decoding=async loading=lazy src=https://sampwiki.blast.hk/wiki/Image:Binarytree.GIF alt=Binarytree class=img_ev3q></p>
<p>اگر از چپ به راست بخوانید، جنبه عمودی را نادیده بگیرید می‌توانید ببینید که اعداد به ترتیب هستند. حالا می‌توانیم سعی کنیم 7 را پیدا کنیم.</p>
<p>عدد شروع 14 است، 7 کمتر از 14 است پس به slot اشاره شده توسط شاخه چپ 14 می‌رویم. این ما را به 6 می‌رساند، 7 از 6 بزرگتر است پس راست به 9 می‌رویم، سپس دوباره چپ به 7. این روش 4 مقایسه برای پیدا کردن عدد طول کشید (شامل بررسی نهایی برای تأیید اینکه روی 7 هستیم)، استفاده از جستجوی مستقیم 5 طول می‌کشید.</p>
<p>بیایید بگوییم 7 وجود ندارد، با این درخت باینری خواهیم داشت: <img decoding=async loading=lazy src=https://sampwiki.blast.hk/wiki/Image:Binarytree-7-less.GIF alt=Binarytree-7-less class=img_ev3q></p>
<p>این، بر خلاف مثال بالا، یک عدد فرزند واحد (9) همراه با اعداد 2 و 0 فرزند دارد. فقط درخت کامل داشته باشید وقتی (2^n)-1 عدد داشته باشید (0, 1, 3, 7, 15, 31 ...)، هر عدد دیگری درخت کاملاً پر نخواهد بود. در این حالت وقتی به 9، جایی که 7 خواهد بود، می‌رسیم شاخه چپی پیدا نخواهیم کرد، یعنی 7 وجود ندارد (ممکن نیست در جای دیگری در درخت باشد، فکرش را بکنید)، پس -1 برای slot نامعتبر برمی‌گردانیم.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=متعادل-و-نامتعادل>متعادل و نامتعادل<a href=#متعادل-و-نامتعادل class=hash-link aria-label="لینک مستقیم به متعادل و نامتعادل" title="لینک مستقیم به متعادل و نامتعادل">​</a></h4>
<p>درخت‌ها در مثال‌های بالا درخت‌های باینری متعادل نامیده می‌شوند، این یعنی تا جایی که ممکن است همه شاخه‌ها طول یکسان دارند (بدیهی است در دومی اعداد کافی برای این حالت وجود ندارد اما تا جایی که ممکن است نزدیک است). ساختن درخت‌های متعادل آسان نیست، روش پذیرفته شده عمومی ساختن درخت‌های تقریباً متعادل قرار دادن اعداد به ترتیب تصادفی است، این ممکن است یعنی با چیزی مثل این خواهید داشت: <img decoding=async loading=lazy src=https://sampwiki.blast.hk/wiki/Image:Binarytree-uneven.GIF alt=Binarytree-uneven class=img_ev3q></p>
<p>بدیهی است این درخت همچنان معتبر است اما سمت راست خیلی بزرگتر از چپ است، اما پیدا کردن 25 همچنان فقط 7 مقایسه در این نسبت به 12 در لیست مستقیم طول می‌کشد. همچنین، تا زمانی که با عدد نسبتاً وسطی شروع کنید روش درج تصادفی باید درخت نسبتاً متعادلی تولید کند. بدترین کار ممکن این است که اعداد را به ترتیب قرار دهید زیرا آنگاه هیچ شاخه چپی اصلاً نخواهد بود (یا شاخه‌های راست اگر برعکس انجام شود)، اما حتی در این بدترین حالت درخت باینری بیش از لیست مستقیم برای جستجو طول نخواهد کشید.</p>
<p><strong>تغییر</strong></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=اضافه-کردن>اضافه کردن<a href=#اضافه-کردن class=hash-link aria-label="لینک مستقیم به اضافه کردن" title="لینک مستقیم به اضافه کردن">​</a></h4>
<p>اضافه کردن مقدار به درخت باینری نسبتاً آسان است، فقط درخت را دنبال می‌کنید، مقداری که می‌خواهید اضافه کنید را به عنوان مرجع استفاده می‌کنید تا به شاخه خالی برسید و عدد را آنجا اضافه کنید. مثلاً اگر می‌خواستید عدد 15 را به درخت متعادل اصلی ما اضافه کنید در شاخه چپ 17 خواهد بود. اگر می‌خواستیم عدد 8 را به درخت متعادل دوم اضافه کنیم (آنی بدون 7) در slot قدیمی 7 در چپ 9 خواهد بود.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=حذف>حذف<a href=#حذف class=hash-link aria-label="لینک مستقیم به حذف" title="لینک مستقیم به حذف">​</a></h4>
<p>حذف عدد از درخت باینری می‌تواند سخت یا آسان باشد. اگر عدد در انتهای شاخه باشد (مثلاً 1, 5, 7, 12 و غیره در درخت اصلی) فقط آنها را حذف می‌کنید. اگر عددی فقط یک فرزند داشته باشد (مثلاً 9 در مثال دوم) فقط آن فرزند را (مثلاً 12) به موقعیت آنها منتقل می‌کنید (پس فرزندان 6 در مثال دوم جدید 2 و 12 با حذف 9 خواهند بود). حذف فقط وقتی جالب می‌شود که node دو فرزند داشته باشد. حداقل چهار راه برای انجام این کار وجود دارد:</p>
<p>روش اول از نظر محاسباتی ساده‌ترین است. اساساً یکی از شاخه‌ها را انتخاب می‌کنید (چپ یا راست، برای این توضیح راست فرض کنید) و node حذف شده را با اولین node آن شاخه جایگزین می‌کنید (یعنی فرزند راست node حذف شده). سپس از طریق شاخه جدید چپ می‌روید تا به انتها برسید و شاخه چپ را آنجا قرار می‌دهید. مثلاً اگر 14 را از مثال اصلی حذف کنید 25 جای آن را در بالای درخت خواهد گرفت و 6 به شاخه چپ 17 متصل خواهد شد. این روش سریع است اما درخت‌های بسیار نامتعادل به سرعت ایجاد می‌کند.</p>
<p>روش دوم گرفتن تمام اعدادی که فرزند node که تازه حذف کردید هستند و بازسازی درخت باینری جدید از آنها، سپس قرار دادن بالای آن درخت در node که تازه حذف کردید است. این درخت را نسبتاً متعادل نگه می‌دارد اما بدیهی است کندتر است.</p>
<p>روش سوم ترکیب دو روش بالا و بازسازی درخت درجا است، پیچیده‌تر برای کد است اما درخت را متعادل نگه می‌دارد و سریع‌تر از روش دوم است (اگرچه هیچ جا نزدیک سریعی روش اول نیست).</p>
<p>روش نهایی فهرست شده اینجا فقط تنظیم پرچمی روی مقدار که می‌گوید دیگر استفاده نمی‌شود است، این حتی سریع‌تر از روش اول است و ساختار را حفظ می‌کند اما یعنی نمی‌توانید slotها را دوباره استفاده کنید مگر اینکه بتوانید مقداری برای جایگزینی با آن بعداً پیدا کنید.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/openmultiplayer/web/edit/master/frontend/docs/tutorials/AdvancedStructures.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>ویرایش مطالب این صفحه</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="صفحات مستندات"><a class="pagination-nav__link pagination-nav__link--prev" href=/fa/docs/client/sa-mp.cfg><div class=pagination-nav__sublabel>قبلی</div><div class=pagination-nav__label>sa-mp.cfg</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/fa/docs/tutorials/Binary><div class=pagination-nav__sublabel>بعدی</div><div class=pagination-nav__label>باینری</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#دستکاری-آرایه class="table-of-contents__link toc-highlight">دستکاری آرایه</a><ul><li><a href=#یافتن-slot-خالی-به-درستی class="table-of-contents__link toc-highlight">یافتن slot خالی به درستی</a><li><a href=#لیست class="table-of-contents__link toc-highlight">لیست</a><li><a href=#درختهای-باینری class="table-of-contents__link toc-highlight">درخت‌های باینری</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Documentations</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/fa/docs>Introduction</a><li class=footer__item><a class=footer__link-item href=/fa/docs>open.mp Migration</a><li class=footer__item><a class=footer__link-item href=/fa/docs/server/config.json>config.json</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://discord.gg/samp target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/openmultiplayer/open.mp target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://opencollective.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>Donate<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://youtube.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>YouTube<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://x.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>X<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/fa/servers>Servers</a><li class=footer__item><a class=footer__link-item href=/fa/blog>Blog</a><li class=footer__item><a class=footer__link-item href=/fa/uid>UID Generator</a><li class=footer__item><a href=https://sa-mp.mp/ target=_blank rel="noopener noreferrer" class=footer__link-item>SA-MP<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/fa/images/assets/logo.svg alt="open.mp logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src=/fa/images/assets/logo.svg alt="open.mp logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class=footer__copyright>Copyright © 2025 open.mp. Built with Docusaurus.</div></div></div></footer></div>
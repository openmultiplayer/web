<!doctype html><html lang=sl dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-scripting/callbacks/OnPlayerKeyStateChange" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.8.1"><title data-rh=true>OnPlayerKeyStateChange | open.mp</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://open.mp/sl/images/assets/wordmark-coloured-bg.png><meta data-rh=true name=twitter:image content=https://open.mp/sl/images/assets/wordmark-coloured-bg.png><meta data-rh=true property=og:url content=https://open.mp/sl/docs/scripting/callbacks/OnPlayerKeyStateChange><meta data-rh=true property=og:locale content=sl><meta data-rh=true property=og:locale:alternate content=en><meta data-rh=true property=og:locale:alternate content=es><meta data-rh=true property=og:locale:alternate content=ru><meta data-rh=true property=og:locale:alternate content=ar><meta data-rh=true property=og:locale:alternate content=bs><meta data-rh=true property=og:locale:alternate content=de><meta data-rh=true property=og:locale:alternate content=fil><meta data-rh=true property=og:locale:alternate content=fr><meta data-rh=true property=og:locale:alternate content=fa><meta data-rh=true property=og:locale:alternate content=hu><meta data-rh=true property=og:locale:alternate content=id><meta data-rh=true property=og:locale:alternate content=it><meta data-rh=true property=og:locale:alternate content=nl><meta data-rh=true property=og:locale:alternate content=pl><meta data-rh=true property=og:locale:alternate content=pt_BR><meta data-rh=true property=og:locale:alternate content=ro><meta data-rh=true property=og:locale:alternate content=sr><meta data-rh=true property=og:locale:alternate content=ta><meta data-rh=true property=og:locale:alternate content=th><meta data-rh=true property=og:locale:alternate content=tr><meta data-rh=true property=og:locale:alternate content=vi><meta data-rh=true property=og:locale:alternate content=zh_CN><meta data-rh=true property=og:locale:alternate content=zh_TW><meta data-rh=true name=docusaurus_locale content=sl><meta data-rh=true name=docsearch:language content=sl><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="OnPlayerKeyStateChange | open.mp"><meta data-rh=true name=description content="This callback is called when the state of any supported key is changed (pressed/released)."><meta data-rh=true property=og:description content="This callback is called when the state of any supported key is changed (pressed/released)."><link data-rh=true rel=icon href=/sl/favicon.ico><link data-rh=true rel=canonical href=https://open.mp/sl/docs/scripting/callbacks/OnPlayerKeyStateChange><link data-rh=true rel=alternate href=https://open.mp/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=en><link data-rh=true rel=alternate href=https://open.mp/es/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=es><link data-rh=true rel=alternate href=https://open.mp/ru/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=ru><link data-rh=true rel=alternate href=https://open.mp/ar/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=ar><link data-rh=true rel=alternate href=https://open.mp/bs/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=bs><link data-rh=true rel=alternate href=https://open.mp/de/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=de><link data-rh=true rel=alternate href=https://open.mp/fil/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=fil><link data-rh=true rel=alternate href=https://open.mp/fr/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=fr><link data-rh=true rel=alternate href=https://open.mp/fa/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=fa><link data-rh=true rel=alternate href=https://open.mp/hu/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=hu><link data-rh=true rel=alternate href=https://open.mp/id/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=id><link data-rh=true rel=alternate href=https://open.mp/it/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=it><link data-rh=true rel=alternate href=https://open.mp/nl/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=nl><link data-rh=true rel=alternate href=https://open.mp/pl/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=pl><link data-rh=true rel=alternate href=https://open.mp/pt-BR/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=pt-BR><link data-rh=true rel=alternate href=https://open.mp/ro/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=ro><link data-rh=true rel=alternate href=https://open.mp/sl/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=sl><link data-rh=true rel=alternate href=https://open.mp/sr/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=sr><link data-rh=true rel=alternate href=https://open.mp/ta/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=ta><link data-rh=true rel=alternate href=https://open.mp/th/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=th><link data-rh=true rel=alternate href=https://open.mp/tr/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=tr><link data-rh=true rel=alternate href=https://open.mp/vi/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=vi><link data-rh=true rel=alternate href=https://open.mp/zh-CN/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=zh-CN><link data-rh=true rel=alternate href=https://open.mp/zh-TW/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=zh-TW><link data-rh=true rel=alternate href=https://open.mp/docs/scripting/callbacks/OnPlayerKeyStateChange hreflang=x-default><link data-rh=true rel=preconnect href=https://AOKXGK39Z7-dsn.algolia.net crossorigin=anonymous><script data-rh=true type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://open.mp/sl/docs/scripting/callbacks/OnPlayerKeyStateChange","name":"OnPlayerKeyStateChange","position":1}]}</script><link rel=alternate type=application/rss+xml href=/sl/blog/rss.xml title="open.mp RSS Feed"><link rel=alternate type=application/atom+xml href=/sl/blog/atom.xml title="open.mp Atom Feed"><link rel=search type=application/opensearchdescription+xml title=open.mp href=/sl/opensearch.xml><link rel=stylesheet href=/sl/assets/css/styles.673c18e6.css><script src=/sl/assets/js/runtime~main.308c2ad8.js defer></script><script src=/sl/assets/js/main.c93cf894.js defer></script><body class=navigation-with-keyboard><svg xmlns=http://www.w3.org/2000/svg style="display: none;"><defs>
<symbol id=theme-svg-external-link viewBox="0 0 24 24"><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light",e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/sl/images/assets/logo-light-trans.svg><link rel=preload as=image href=/sl/images/assets/logo.svg><div role=region aria-label="Preskoči na vsebino"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Preskoči na vsebino</a></div><nav aria-label="Glavna navigacija" class="theme-layout-navbar navbar navbar--fixed-top"><div class=navbar__inner><div class="theme-layout-navbar-left navbar__items"><button aria-label="Preklopi navigacijsko vrstico" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/sl/><div class=navbar__logo><img src=/sl/images/assets/logo-light-trans.svg alt="open.mp logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/sl/images/assets/logo-light-trans.svg alt="open.mp logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Open Multiplayer</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/sl/docs>Docs</a><a class="navbar__item navbar__link" href=/sl/blog>Blog</a><a href=https://forum.open.mp/ target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Forums</a><a class="navbar__item navbar__link" href=/sl/servers>Servers</a><a class="navbar__item navbar__link" href=/sl/partners>Partners</a><a href=https://opencollective.com/openmultiplayer target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Donate<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>Slovenščina</a><ul class=dropdown__menu><li><a href=/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=en>English</a><li><a href=/es/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=es>Español</a><li><a href=/ru/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=ru>Русский</a><li><a href=/ar/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=ar>العربية</a><li><a href=/bs/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=bs>Bosanski</a><li><a href=/de/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=de>Deutsch</a><li><a href=/fil/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=fil>Filipino</a><li><a href=/fr/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=fr>Français</a><li><a href=/fa/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=fa>فارسی</a><li><a href=/hu/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=hu>Magyar</a><li><a href=/id/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=id>Indonesia</a><li><a href=/it/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=it>Italiano</a><li><a href=/nl/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=nl>Nederlands</a><li><a href=/pl/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=pl>Polski</a><li><a href=/pt-BR/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=pt-BR>Português (Brasil)</a><li><a href=/ro/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=ro>Română</a><li><a href=/sl/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=sl>Slovenščina</a><li><a href=/sr/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=sr>Српски</a><li><a href=/ta/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=ta>தமிழ்</a><li><a href=/th/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=th>ไทย</a><li><a href=/tr/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=tr>Türkçe</a><li><a href=/vi/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=vi>Tiếng Việt</a><li><a href=/zh-CN/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-CN>简体中文</a><li><a href=/zh-TW/docs/scripting/callbacks/OnPlayerKeyStateChange target=_self rel="noopener noreferrer" class=dropdown__link lang=zh-TW>繁體中文</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="system mode" aria-label="Preklopi med temnim in svetlim načinom (trenutno system mode)"><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 aria-hidden=true class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill=currentColor d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"/></svg></button></div><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Išči (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Išči</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Nazaj na vrh" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Stranska vrstica dokumentacije" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/sl/docs>Introduction</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/sl/docs/scripting/callbacks/OnActorStreamIn>Scripting</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true tabindex=0 href=/sl/docs/scripting/callbacks/OnActorStreamIn>Callbacks</a></div><ul class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnActorStreamIn>OnActorStreamIn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnActorStreamOut>OnActorStreamOut</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnClientCheckResponse>OnClientCheckResponse</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnClientMessage>OnClientMessage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnDialogResponse>OnDialogResponse</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnEnterExitModShop>OnEnterExitModShop</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnFilterScriptExit>OnFilterScriptExit</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnFilterScriptInit>OnFilterScriptInit</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnGameModeExit>OnGameModeExit</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnGameModeInit>OnGameModeInit</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnIncomingConnection>OnIncomingConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCChangeNode>OnNPCChangeNode</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCCreate>OnNPCCreate</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCDeath>OnNPCDeath</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCDestroy>OnNPCDestroy</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCFinishMove>OnNPCFinishMove</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCFinishMovePath>OnNPCFinishMovePath</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCFinishMovePathPoint>OnNPCFinishMovePathPoint</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCFinishNode>OnNPCFinishNode</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCFinishNodePoint>OnNPCFinishNodePoint</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCGiveDamage>OnNPCGiveDamage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCPlaybackEnd>OnNPCPlaybackEnd</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCPlaybackStart>OnNPCPlaybackStart</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCRespawn>OnNPCRespawn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCSpawn>OnNPCSpawn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCTakeDamage>OnNPCTakeDamage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCWeaponShot>OnNPCWeaponShot</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnNPCWeaponStateChange>OnNPCWeaponStateChange</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnObjectMoved>OnObjectMoved</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPickupStreamIn>OnPickupStreamIn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPickupStreamOut>OnPickupStreamOut</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerClickGangZone>OnPlayerClickGangZone</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerClickMap>OnPlayerClickMap</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerClickPlayer>OnPlayerClickPlayer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerClickPlayerGangZone>OnPlayerClickPlayerGangZone</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerClickPlayerTextDraw>OnPlayerClickPlayerTextDraw</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerClickTextDraw>OnPlayerClickTextDraw</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerCommandText>OnPlayerCommandText</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerConnect>OnPlayerConnect</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerDeath>OnPlayerDeath</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerDisconnect>OnPlayerDisconnect</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerEditAttachedObject>OnPlayerEditAttachedObject</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerEditObject>OnPlayerEditObject</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerEnterCheckpoint>OnPlayerEnterCheckpoint</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerEnterGangZone>OnPlayerEnterGangZone</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerEnterPlayerGangZone>OnPlayerEnterPlayerGangZone</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerEnterRaceCheckpoint>OnPlayerEnterRaceCheckpoint</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerEnterVehicle>OnPlayerEnterVehicle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerExitVehicle>OnPlayerExitVehicle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerExitedMenu>OnPlayerExitedMenu</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerFinishedDownloading>OnPlayerFinishedDownloading</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerGiveDamage>OnPlayerGiveDamage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerGiveDamageActor>OnPlayerGiveDamageActor</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerInteriorChange>OnPlayerInteriorChange</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerKeyStateChange>OnPlayerKeyStateChange</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerLeaveCheckpoint>OnPlayerLeaveCheckpoint</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerLeaveGangZone>OnPlayerLeaveGangZone</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerLeavePlayerGangZone>OnPlayerLeavePlayerGangZone</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerLeaveRaceCheckpoint>OnPlayerLeaveRaceCheckpoint</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerObjectMoved>OnPlayerObjectMoved</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerPickUpPickup>OnPlayerPickUpPickup</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerPickUpPlayerPickup>OnPlayerPickUpPlayerPickup</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerPickupStreamIn>OnPlayerPickupStreamIn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerPickupStreamOut>OnPlayerPickupStreamOut</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerRequestClass>OnPlayerRequestClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerRequestDownload>OnPlayerRequestDownload</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerRequestSpawn>OnPlayerRequestSpawn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerSelectObject>OnPlayerSelectObject</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerSelectedMenuRow>OnPlayerSelectedMenuRow</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerSpawn>OnPlayerSpawn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerStateChange>OnPlayerStateChange</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerStreamIn>OnPlayerStreamIn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerStreamOut>OnPlayerStreamOut</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerTakeDamage>OnPlayerTakeDamage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerText>OnPlayerText</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerUpdate>OnPlayerUpdate</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnPlayerWeaponShot>OnPlayerWeaponShot</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnRconCommand>OnRconCommand</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnRconLoginAttempt>OnRconLoginAttempt</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnRecordingPlaybackEnd>OnRecordingPlaybackEnd</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnScriptLoadPlayer>OnScriptLoadPlayer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnScriptUnloadPlayer>OnScriptUnloadPlayer</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnTrailerUpdate>OnTrailerUpdate</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnUnoccupiedVehicleUpdate>OnUnoccupiedVehicleUpdate</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnVehicleDamageStatusUpdate>OnVehicleDamageStatusUpdate</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnVehicleDeath>OnVehicleDeath</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnVehicleMod>OnVehicleMod</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnVehiclePaintjob>OnVehiclePaintjob</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnVehicleRespray>OnVehicleRespray</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnVehicleSirenStateChange>OnVehicleSirenStateChange</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnVehicleSpawn>OnVehicleSpawn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnVehicleStreamIn>OnVehicleStreamIn</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/sl/docs/scripting/callbacks/OnVehicleStreamOut>OnVehicleStreamOut</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/sl/docs/scripting/functions/AddCharModel>Functions</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/sl/docs/scripting/language/reference/Contents>Language</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false tabindex=0 href=/sl/docs/scripting/resources/anglemodes>Resources</a></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/sl/docs/server/CommonServerIssues>Server</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/sl/docs/client/ClientCommands>Client</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/sl/docs/tutorials/AdvancedStructures>Tutorials</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/sl/docs/awesome>Awesome</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/sl/docs/changelog>Changelog</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/sl/docs/meta/Contributing>meta</a></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Drobtine><ul class=breadcrumbs><li class=breadcrumbs__item><a aria-label="Domača stran" class=breadcrumbs__link href=/sl/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Scripting</span><li class=breadcrumbs__item><span class=breadcrumbs__link>Callbacks</span><li class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link>OnPlayerKeyStateChange</span></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">Na tej strani</button></div><div class="theme-doc-markdown markdown"><header><h1>OnPlayerKeyStateChange</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id=description>Description<a href=#description class=hash-link aria-label="Direktna povezava na Description" title="Direktna povezava na Description">​</a></h2>
<p>This callback is called when the state of any <a href=/sl/docs/scripting/resources/keys>supported</a> key is changed (pressed/released).<br>Directional keys do not trigger OnPlayerKeyStateChange (up/down/left/right).</p>
<table><thead><tr><th>Name<th>Description<tbody><tr><td>playerid<td>The ID of the player that pressed or released a key.<tr><td>KEY<!-- -->:newkeys<td>A map (bitmask) of the keys currently held - <a href=/sl/docs/scripting/resources/keys>see here</a><tr><td>KEY<!-- -->:oldkeys<td>A map (bitmask) of the keys held prior to the current change - <a href=/sl/docs/scripting/resources/keys>see here</a>.</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=returns>Returns<a href=#returns class=hash-link aria-label="Direktna povezava na Returns" title="Direktna povezava na Returns">​</a></h2>
<ul>
<li>This callback does not handle returns.</li>
<li>It is always called first in gamemode.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=notes>Notes<a href=#notes class=hash-link aria-label="Direktna povezava na Notes" title="Direktna povezava na Notes">​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>informacija</div><div class=admonitionContent_BuS1><p>This callback can also be called by NPC.</div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 12 16"><path fill-rule=evenodd d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"/></svg></span>namig</div><div class=admonitionContent_BuS1><p>Directional keys do not trigger OnPlayerKeyStateChange (up/down/left/right).<br>They can only be detected with <a href=/sl/docs/scripting/functions/GetPlayerKeys>GetPlayerKeys</a> (in <a href=/sl/docs/scripting/callbacks/OnPlayerUpdate>OnPlayerUpdate</a> or a timer).</div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=related-functions>Related Functions<a href=#related-functions class=hash-link aria-label="Direktna povezava na Related Functions" title="Direktna povezava na Related Functions">​</a></h2>
<p>The following functions might be useful, as they're related to this callback in one way or another.</p>
<ul>
<li><a href=/sl/docs/scripting/functions/GetPlayerKeys>GetPlayerKeys</a>: Check what keys a player is holding.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=additional-information>Additional Information<a href=#additional-information class=hash-link aria-label="Direktna povezava na Additional Information" title="Direktna povezava na Additional Information">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=introduction>Introduction<a href=#introduction class=hash-link aria-label="Direktna povezava na Introduction" title="Direktna povezava na Introduction">​</a></h3>
<p>This callback is called whenever a player presses or releases one of the supported keys (see <a href=/sl/docs/scripting/resources/keys>Keys</a>).<br>The keys which are supported are not actual keyboard keys, but San Andreas mapped function keys, this means that, for example, you can't detect when someone presses the <strong>spacebar</strong>, but can detect when they press their sprint key (which may, or may not, be assigned to the spacebar (it is by default)).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=parameters>Parameters<a href=#parameters class=hash-link aria-label="Direktna povezava na Parameters" title="Direktna povezava na Parameters">​</a></h3>
<p>The parameters to this function are a list of all keys currently being held down and all the keys held down a moment ago. The callback is called when a key state changes (that is, when a key is either pressed or released) and passes the states or all keys before and after this change. This information can be used to see exactly what happened but the variables can not be used directly in the same way as parameters to other functions. To reduce the number of variables only a single BIT is used to represent a key, this means that one variable may contain multiple keys at once and simply comparing values will not always work.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-not-to-check-for-a-key>How to NOT to check for a key<a href=#how-to-not-to-check-for-a-key class=hash-link aria-label="Direktna povezava na How to NOT to check for a key" title="Direktna povezava na How to NOT to check for a key">​</a></h3>
<p>Let's presume that you want to detect when a player presses their FIRE button, the obvious code would be:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newkeys </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>This code may even work in your testing, but it is wrong and your testing is insufficient. Try crouching and pressing fire - your code will instantly stop working. Why? Because "newkeys" is no longer the same as "KEY_FIRE", it is the same as "KEY_FIRE" COMBINED WITH "KEY_CROUCH".</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-check-for-a-key>How to check for a key<a href=#how-to-check-for-a-key class=hash-link aria-label="Direktna povezava na How to check for a key" title="Direktna povezava na How to check for a key">​</a></h3>
<p>So, if the variable can contain multiple keys at once, how do you check for just a single one? The answer is bit masking. Each key has its own bit in the variable (some keys have the same bit, but they are onfoot/incar keys, so can never be pressed at the same time anyway) and you need to check for just that single bit:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Note that the single <strong>&</strong> is correct - this is a bitwise AND, not a logical AND, which is what the two ampersands are called.</p>
<p>Now if you test this code it will work whether you are crouching or standing when you press the fire key. However there is still one slight problem - it will fire as long as you are holding the key. OnPlayerKeyStateChange is called every time a key changes and that code is true whenever the the fire key is held down. If you press fire the code will fire, if that key is held and you press crouch - that code will fire again because a key (crouch) has changed and fire is still held down How do you detect when a key is first pressed, but not trigger again when it's still held and another key changes?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-check-for-a-key-that-has-been-pressed>How to check for a key that has been pressed<a href=#how-to-check-for-a-key-that-has-been-pressed class=hash-link aria-label="Direktna povezava na How to check for a key that has been pressed" title="Direktna povezava na How to check for a key that has been pressed">​</a></h3>
<p>This is where "oldkeys" comes in. To check if a key has just been pressed you need to first check whether it is set in "newkeys" - meaning it's held down, and then check that it's NOT in "oldkeys" - meaning it's only just been held down. The following code does this:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">oldkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>That will ONLY be true when the FIRE key is first pressed, not when it's held and another key changes.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-check-for-a-key-being-released>How to check for a key being released<a href=#how-to-check-for-a-key-being-released class=hash-link aria-label="Direktna povezava na How to check for a key being released" title="Direktna povezava na How to check for a key being released">​</a></h3>
<p>Exactly the same principle as above, but reversed:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">oldkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=how-to-check-for-multiple-keys>How to check for multiple keys<a href=#how-to-check-for-multiple-keys class=hash-link aria-label="Direktna povezava na How to check for multiple keys" title="Direktna povezava na How to check for multiple keys">​</a></h3>
<p>If you want to check for players HOLDING crouch and fire then the following code will work fine:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_CROUCH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>However if you want to detect when they FIRST press fire and crouch the following code WILL NOT work. It will work if they manage to press the two keys at exactly the same time, but if they're fractionally out (far less than half a second) it won't:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">oldkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_CROUCH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">oldkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> KEY_CROUCH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Why not? Because OnPlayerKeyStateChange is called every time a single key changes. So they press "KEY_FIRE" - OnPlayerKeyStateChange is called with "KEY_FIRE" in "newkeys" and not in "oldkeys", then they press "KEY_CROUCH" - OnPlayerKeyStateChange is called with "KEY_CROUCH" and "KEY_FIRE" in "newkeys", but "KEY_FIRE" is now also in "oldkeys" as it's already been pressed, so "!(oldkeys & KEY_FIRE)" will fail. Fortunately the solution is very simple (in fact simpler than the original code):</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">newkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">KEY_FIRE </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> KEY_CROUCH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>==</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">KEY_FIRE </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> KEY_CROUCH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&&</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">oldkeys </span><span class="token operator" style=color:#393A34>&</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">KEY_FIRE </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> KEY_CROUCH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>!=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">KEY_FIRE </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> KEY_CROUCH</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>This may look complicated, but it checks that both keys are set in "newkeys" and that both the keys were not set in "oldkeys", if one of them was set in "oldkeys" that doesn't matter as not both of them were. All these things can be simplified greatly with defines.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=simplification>Simplification<a href=#simplification class=hash-link aria-label="Direktna povezava na Simplification" title="Direktna povezava na Simplification">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=detecting-holding-a-key>Detecting holding a key<a href=#detecting-holding-a-key class=hash-link aria-label="Direktna povezava na Detecting holding a key" title="Direktna povezava na Detecting holding a key">​</a></h3>
<p>The define:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// HOLDING(keys)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name function" style=color:#d73a49>HOLDING</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property punctuation" style=color:#393A34>\</span><span class="token macro property" style=color:#36acaa></span><br></span><span class=token-line style=color:#393A34><span class="token macro property" style=color:#36acaa>	</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression" style=color:#36acaa>newkeys </span><span class="token macro property expression operator" style=color:#393A34>&</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression operator" style=color:#393A34>==</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Holding one key:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>HOLDING</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> KEY_FIRE </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Holding multiple keys:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>HOLDING</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> KEY_FIRE </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> KEY_CROUCH </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=detecting-first-pressing-a-key>Detecting first pressing a key<a href=#detecting-first-pressing-a-key class=hash-link aria-label="Direktna povezava na Detecting first pressing a key" title="Direktna povezava na Detecting first pressing a key">​</a></h3>
<p>The define:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// PRESSED(keys)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name function" style=color:#d73a49>PRESSED</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property punctuation" style=color:#393A34>\</span><span class="token macro property" style=color:#36acaa></span><br></span><span class=token-line style=color:#393A34><span class="token macro property" style=color:#36acaa>	</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression" style=color:#36acaa>newkeys </span><span class="token macro property expression operator" style=color:#393A34>&</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression operator" style=color:#393A34>==</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression operator" style=color:#393A34>&&</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression" style=color:#36acaa>oldkeys </span><span class="token macro property expression operator" style=color:#393A34>&</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression operator" style=color:#393A34>!=</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Pressed one key:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>PRESSED</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> KEY_FIRE </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Pressed multiple keys:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>PRESSED</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> KEY_FIRE </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> KEY_CROUCH </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=detecting-if-a-player-is-pressing-a-key-currently>Detecting if a player is pressing a key currently<a href=#detecting-if-a-player-is-pressing-a-key-currently class=hash-link aria-label="Direktna povezava na Detecting if a player is pressing a key currently" title="Direktna povezava na Detecting if a player is pressing a key currently">​</a></h3>
<p>The define:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// PRESSING(keyVariable, keys)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name function" style=color:#d73a49>PRESSING</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>,</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>1</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property punctuation" style=color:#393A34>\</span><span class="token macro property" style=color:#36acaa></span><br></span><span class=token-line style=color:#393A34><span class="token macro property" style=color:#36acaa>	</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression operator" style=color:#393A34>&</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>1</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Pressing one key:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>PRESSING</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> newkeys</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> KEY_FIRE </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Pressing multiple keys:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>PRESSING</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> newkeys</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> KEY_FIRE </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> KEY_CROUCH </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=detecting-releasing-a-key>Detecting releasing a key<a href=#detecting-releasing-a-key class=hash-link aria-label="Direktna povezava na Detecting releasing a key" title="Direktna povezava na Detecting releasing a key">​</a></h3>
<p>The define:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>// RELEASED(keys)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name function" style=color:#d73a49>RELEASED</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property punctuation" style=color:#393A34>\</span><span class="token macro property" style=color:#36acaa></span><br></span><span class=token-line style=color:#393A34><span class="token macro property" style=color:#36acaa>	</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression" style=color:#36acaa>newkeys </span><span class="token macro property expression operator" style=color:#393A34>&</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression operator" style=color:#393A34>!=</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression operator" style=color:#393A34>&&</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression" style=color:#36acaa>oldkeys </span><span class="token macro property expression operator" style=color:#393A34>&</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression operator" style=color:#393A34>==</span><span class="token macro property expression" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression operator" style=color:#393A34>%</span><span class="token macro property expression number" style=color:#36acaa>0</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Released one key:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>RELEASED</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> KEY_FIRE </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<p>Released multiple keys:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>RELEASED</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"> KEY_FIRE </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> KEY_CROUCH </span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=examples>Examples<a href=#examples class=hash-link aria-label="Direktna povezava na Examples" title="Direktna povezava na Examples">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=attach-nos-when-the-player-presses-fire>Attach NOS when the player presses fire<a href=#attach-nos-when-the-player-presses-fire class=hash-link aria-label="Direktna povezava na Attach NOS when the player presses fire" title="Direktna povezava na Attach NOS when the player presses fire">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">public </span><span class="token function" style=color:#d73a49>OnPlayerKeyStateChange</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> KEY</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">newkeys</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> KEY</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">oldkeys</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>PRESSED</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">KEY_FIRE</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>IsPlayerInAnyVehicle</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">			</span><span class="token function" style=color:#d73a49>AddVehicleComponent</span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>GetPlayerVehicleID</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1010</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=super-jump>Super jump<a href=#super-jump class=hash-link aria-label="Direktna povezava na Super jump" title="Direktna povezava na Super jump">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">public </span><span class="token function" style=color:#d73a49>OnPlayerKeyStateChange</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> KEY</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">newkeys</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> KEY</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">oldkeys</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>PRESSED</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">KEY_JUMP</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			Float</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">x</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">			Float</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">y</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">			Float</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">z</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token function" style=color:#d73a49>GetPlayerPos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> y</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> z</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token function" style=color:#d73a49>SetPlayerPos</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> x</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> y</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> z </span><span class="token operator" style=color:#393A34>+</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>10.0</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=god-mode-while-holding-use>God mode while holding use<a href=#god-mode-while-holding-use class=hash-link aria-label="Direktna povezava na God mode while holding use" title="Direktna povezava na God mode while holding use">​</a></h3>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-c codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">new</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	Float</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">gPlayerHealth</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">MAX_PLAYERS</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>if</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression operator" style=color:#393A34>!</span><span class="token macro property expression" style=color:#36acaa>defined INFINITY</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>define</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property macro-name" style=color:#36acaa>INFINITY</span><span class="token macro property" style=color:#36acaa> </span><span class="token macro property expression punctuation" style=color:#393A34>(</span><span class="token macro property expression" style=color:#36acaa>Float</span><span class="token macro property expression operator" style=color:#393A34>:</span><span class="token macro property expression number" style=color:#36acaa>0x7F800000</span><span class="token macro property expression punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token macro property directive-hash" style=color:#36acaa>#</span><span class="token macro property directive keyword" style=color:#00009f>endif</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">public </span><span class="token function" style=color:#d73a49>OnPlayerKeyStateChange</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> KEY</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">newkeys</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> KEY</span><span class="token operator" style=color:#393A34>:</span><span class="token plain">oldkeys</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>PRESSED</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">KEY_ACTION</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token comment" style=color:#999988;font-style:italic>// They just pressed the action key, save their</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token comment" style=color:#999988;font-style:italic>// old health for restoration.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token function" style=color:#d73a49>GetPlayerHealth</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> gPlayerHealth</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token function" style=color:#d73a49>SetPlayerHealth</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> INFINITY</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token keyword" style=color:#00009f>else</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>if</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token function" style=color:#d73a49>RELEASED</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">KEY_ACTION</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token comment" style=color:#999988;font-style:italic>// They just let go of action - restore</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token comment" style=color:#999988;font-style:italic>// their old health again.</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		</span><span class="token function" style=color:#d73a49>SetPlayerHealth</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> gPlayerHealth</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">playerid</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><span class="token keyword" style=color:#00009f>return</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=explanation>Explanation<a href=#explanation class=hash-link aria-label="Direktna povezava na Explanation" title="Direktna povezava na Explanation">​</a></h3>
<p>You don't need to worry about HOW it's done, just that it is. HOLDING detects if they're pressing a key (or keys), regardless of wether they were pressing it before, PRESSED detects if they only just pressed the key(s) and RELEASED detects if they just released a key(s). However if you want to know more - read on.</p>
<p>The reason why you need to do it this way, not just using & or ==, is to detect exactly the keys you want while ignoring others which may or may not be pressed. In binary KEY_SPRINT is:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">0b00001000</span><br></span></code></pre></div></div>
<p>and KEY_JUMP is:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">0b00100000</span><br></span></code></pre></div></div>
<p>thus ORing them into the wanted keys (we could also add them in this example but that's not always the case) gives:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">0b00101000</span><br></span></code></pre></div></div>
<p>If we were only using & and OnPlayerKeyStateChange was called for a player pressing jump we would get the following code:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">newkeys = 0b00100000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">wanted  = 0b00101000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ANDed   = 0b00100000</span><br></span></code></pre></div></div>
<p>The AND of the two numbers is not 0, thus the result of the check is true, which isn't what we want.</p>
<p>If we only used == the two numbers are clearly not the same thus the check would fail, which is what we want.</p>
<p>If the player was pressing jump, sprint and crouch we would get the following code:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">newkeys = 0b00101010</span><br></span><span class=token-line style=color:#393A34><span class="token plain">wanted  = 0b00101000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ANDed   = 0b00101000</span><br></span></code></pre></div></div>
<p>The ANDed version is the same as the required keys and also not 0, thus will give the correct answer, however the two original numbers are not the same so == will fail. In both the examples one of the two has given the right answer and one has given the wrong answer. If we compare the first one using & and == we get:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">newkeys = 0b00100000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">wanted  = 0b00101000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ANDed   = 0b00100000</span><br></span></code></pre></div></div>
<p>Obviously wanted and ANDed are not the same so the check fails, which is correct. For the second example:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_QJqH><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">newkeys = 0b00101010</span><br></span><span class=token-line style=color:#393A34><span class="token plain">wanted  = 0b00101000</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ANDed   = 0b00101000</span><br></span></code></pre></div></div>
<p>Wanted and ANDed are the same so comparing them as equal will result in a true result, which again is correct.</p>
<p>So using this method we can accurately check if certain keys are pressed ignoring all other keys which may or may not be pressed. the oldkeys check just uses != instead of == to ensure that the required keys were not previously pressed, so we know one of them was just pressed.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class=col><b>Oznake:</b><ul class="tags_jXut padding--none margin-left--sm"><li class=tag_QGVx><a rel=tag class="tag_zVej tagRegular_sFm0" href=/sl/docs/tags/player>player</a></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/openmultiplayer/web/edit/master/frontend/i18n/sl/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerKeyStateChange.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Uredi to stran</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Strani z dokumenti"><a class="pagination-nav__link pagination-nav__link--prev" href=/sl/docs/scripting/callbacks/OnPlayerInteriorChange><div class=pagination-nav__sublabel>Prejšnji</div><div class=pagination-nav__label>OnPlayerInteriorChange</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/sl/docs/scripting/callbacks/OnPlayerLeaveCheckpoint><div class=pagination-nav__sublabel>Naslednji</div><div class=pagination-nav__label>OnPlayerLeaveCheckpoint</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#description class="table-of-contents__link toc-highlight">Description</a><li><a href=#returns class="table-of-contents__link toc-highlight">Returns</a><li><a href=#notes class="table-of-contents__link toc-highlight">Notes</a><li><a href=#related-functions class="table-of-contents__link toc-highlight">Related Functions</a><li><a href=#additional-information class="table-of-contents__link toc-highlight">Additional Information</a><ul><li><a href=#introduction class="table-of-contents__link toc-highlight">Introduction</a><li><a href=#parameters class="table-of-contents__link toc-highlight">Parameters</a><li><a href=#how-to-not-to-check-for-a-key class="table-of-contents__link toc-highlight">How to NOT to check for a key</a><li><a href=#how-to-check-for-a-key class="table-of-contents__link toc-highlight">How to check for a key</a><li><a href=#how-to-check-for-a-key-that-has-been-pressed class="table-of-contents__link toc-highlight">How to check for a key that has been pressed</a><li><a href=#how-to-check-for-a-key-being-released class="table-of-contents__link toc-highlight">How to check for a key being released</a><li><a href=#how-to-check-for-multiple-keys class="table-of-contents__link toc-highlight">How to check for multiple keys</a></ul><li><a href=#simplification class="table-of-contents__link toc-highlight">Simplification</a><ul><li><a href=#detecting-holding-a-key class="table-of-contents__link toc-highlight">Detecting holding a key</a><li><a href=#detecting-first-pressing-a-key class="table-of-contents__link toc-highlight">Detecting first pressing a key</a><li><a href=#detecting-if-a-player-is-pressing-a-key-currently class="table-of-contents__link toc-highlight">Detecting if a player is pressing a key currently</a><li><a href=#detecting-releasing-a-key class="table-of-contents__link toc-highlight">Detecting releasing a key</a></ul><li><a href=#examples class="table-of-contents__link toc-highlight">Examples</a><ul><li><a href=#attach-nos-when-the-player-presses-fire class="table-of-contents__link toc-highlight">Attach NOS when the player presses fire</a><li><a href=#super-jump class="table-of-contents__link toc-highlight">Super jump</a><li><a href=#god-mode-while-holding-use class="table-of-contents__link toc-highlight">God mode while holding use</a><li><a href=#explanation class="table-of-contents__link toc-highlight">Explanation</a></ul></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Documentations</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/sl/docs>Introduction</a><li class=footer__item><a class=footer__link-item href=/sl/docs>open.mp Migration</a><li class=footer__item><a class=footer__link-item href=/sl/docs/server/config.json>config.json</a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>Community</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://discord.gg/samp target=_blank rel="noopener noreferrer" class=footer__link-item>Discord<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://github.com/openmultiplayer/open.mp target=_blank rel="noopener noreferrer" class=footer__link-item>GitHub<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://opencollective.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>Donate<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://youtube.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>YouTube<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a><li class=footer__item><a href=https://x.com/openmultiplayer target=_blank rel="noopener noreferrer" class=footer__link-item>X<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div><div class="theme-layout-footer-column col footer__col"><div class=footer__title>More</div><ul class="footer__items clean-list"><li class=footer__item><a class=footer__link-item href=/sl/servers>Servers</a><li class=footer__item><a class=footer__link-item href=/sl/blog>Blog</a><li class=footer__item><a class=footer__link-item href=/sl/animations>Animations</a><li class=footer__item><a class=footer__link-item href=/sl/uid>UID Generator</a><li class=footer__item><a href=https://sa-mp.mp/ target=_blank rel="noopener noreferrer" class=footer__link-item>SA-MP<svg width=13.5 height=13.5 aria-hidden=true class=iconExternalLink_nPIU><use href=#theme-svg-external-link /></svg></a></ul></div></div><div class="footer__bottom text--center"><div class=margin-bottom--sm><img src=/sl/images/assets/logo.svg alt="open.mp logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src=/sl/images/assets/logo.svg alt="open.mp logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class=footer__copyright>Copyright © 2025 open.mp. Built with Docusaurus.</div></div></div></footer></div>
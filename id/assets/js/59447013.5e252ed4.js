"use strict";(self.webpackChunkomp_web=self.webpackChunkomp_web||[]).push([["82189"],{51622:function(a,e,n){n.r(e),n.d(e,{frontMatter:()=>l,toc:()=>d,default:()=>u,metadata:()=>i,assets:()=>s,contentTitle:()=>p});var i=JSON.parse('{"id":"scripting/callbacks/OnPlayerUpdate","title":"OnPlayerUpdate","description":"Callback ini akan terpanggil ketika klien/pemain memperbarui server dengan statusnya.","source":"@site/i18n/id/docusaurus-plugin-content-docs/current/scripting/callbacks/OnPlayerUpdate.md","sourceDirName":"scripting/callbacks","slug":"/scripting/callbacks/OnPlayerUpdate","permalink":"/id/docs/scripting/callbacks/OnPlayerUpdate","draft":false,"unlisted":false,"editUrl":"https://github.com/openmultiplayer/web/edit/master/frontend/docs/scripting/callbacks/OnPlayerUpdate.md","tags":[{"inline":true,"label":"player","permalink":"/id/docs/tags/player"}],"version":"current","frontMatter":{"title":"OnPlayerUpdate","sidebar_label":"OnPlayerUpdate","description":"Callback ini akan terpanggil ketika klien/pemain memperbarui server dengan statusnya.","tags":["player"]},"sidebar":"docsSidebar","previous":{"title":"OnPlayerText","permalink":"/id/docs/scripting/callbacks/OnPlayerText"},"next":{"title":"OnPlayerWeaponShot","permalink":"/id/docs/scripting/callbacks/OnPlayerWeaponShot"}}'),t=n(85893),r=n(50065);let l={title:"OnPlayerUpdate",sidebar_label:"OnPlayerUpdate",description:"Callback ini akan terpanggil ketika klien/pemain memperbarui server dengan statusnya.",tags:["player"]},p=void 0,s={},d=[{value:"Deskripsi",id:"deskripsi",level:2},{value:"Returns",id:"returns",level:2},{value:"Contoh",id:"contoh",level:2},{value:"Catatan",id:"catatan",level:2},{value:"Fungsi Terkait",id:"fungsi-terkait",level:2}];function o(a){let e={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...a.components},{TipNPCCallbacks:n}=e;return n||function(a,e){throw Error("Expected "+(e?"component":"object")+" `"+a+"` to be defined: you likely forgot to import, pass, or provide it.")}("TipNPCCallbacks",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"deskripsi",children:"Deskripsi"}),"\n",(0,t.jsx)(e.p,{children:"Callback ini di panggil ketika klien/pemain memperbarui server dengan statusnya. Ini sering digunakan untuk membuat memanggil balik khusus untuk pembaruan klien yang tidak dilacak secara aktif oleh server, seperti pembaruan kesehatan atau baju besi atau pemain yang mengganti senjata."}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:"Nama"}),(0,t.jsx)(e.th,{children:"Deskripsi"})]})}),(0,t.jsx)(e.tbody,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"playerid"}),(0,t.jsx)(e.td,{children:"ID dari pemain yang mengirim paket pembaruan."})]})})]}),"\n",(0,t.jsx)(e.h2,{id:"returns",children:"Returns"}),"\n",(0,t.jsx)(e.p,{children:"0 - Pembaruan dari pemain ini tidak akan di duplikat ke klien lain."}),"\n",(0,t.jsx)(e.p,{children:"1 - Menunjukkan bahwa pembaruan ini dapat diproses secara normal dan dikirim ke pemain lain."}),"\n",(0,t.jsx)(e.p,{children:"Ini selalu di panggil pertama dalam filtersciprt."}),"\n",(0,t.jsx)(e.h2,{id:"contoh",children:"Contoh"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-c",children:'public OnPlayerUpdate(playerid)\n{\n    new iCurWeap = GetPlayerWeapon(playerid); // Mengembalikan senjata kepada pemain saat ini\n    if (iCurWeap\xa0!= GetPVarInt(playerid, "iCurrentWeapon")) // Jika dia mengganti senjata sejak pembaruan terakhir\n    {\n        // Mari kita memanggil balik panggilan bernama OnPlayerChangeWeapon\n        OnPlayerChangeWeapon(playerid, GetPVarInt(playerid, "iCurrentWeapon"), iCurWeap);\n        SetPVarInt(playerid, "iCurrentWeapon", iCurWeap);//Memperbarui variabel senjata\n    }\n    return 1; // Kirim pembaruan ini ke pemain lain.\n}\n\nstock OnPlayerChangeWeapon(playerid, oldweapon, newweapon)\n{\n    new     s[128],\n        oWeapon[24],\n        nWeapon[24];\n\n    GetWeaponName(oldweapon, oWeapon, sizeof(oWeapon));\n    GetWeaponName(newweapon, nWeapon, sizeof(nWeapon));\n\n    format(s, sizeof(s), "Kamu telah mengganti senjata dari %s ke %s!", oWeapon, nWeapon);\n\n    SendClientMessage(playerid, 0xFFFFFFFF, s);\n}\npublic OnPlayerUpdate(playerid)\n{\n    new Float:fHealth;\n\n    GetPlayerHealth(playerid, fHealth);\n\n    if (fHealth\xa0!= GetPVarFloat(playerid, "faPlayerHealth"))\n    {\n        // Darah pemain telah berubah sejak pembaruan terakhir -> server, jadi jelas itu yang diperbarui.\n        // Mari kita lakukan pemeriksaan lanjutan untuk melihat apakah dia kehilangan atau memperoleh Darah, cheat anti-health?\xa0;)\n\n        if (fHealth > GetPVarFloat(playerid, "faPlayerHealth"))\n        {\n            /* Dia telah mendapatkan Darah! Cheat? Tulis skrip Anda sendiri di sini untuk mengetahui bagaimana seorang pemain\n            memperoleh darah! */\n        }\n        else\n        {\n            /* Dia telah kehilangan darah! */\n        }\n\n        SetPVarFloat(playerid, "faPlayerHealth", fHealth);\n    }\n}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"catatan",children:"Catatan"}),"\n",(0,t.jsx)(n,{}),"\n",(0,t.jsx)(e.admonition,{type:"warning",children:(0,t.jsx)(e.p,{children:"Callback ini di panggil, rata-rata, 30 kali per detik, per pemain; hanya di gunakan ketika Anda tahu untuk apa itu (atau lebih penting lagi untuk TIDAK di masukkan). Frekuensi panggilan balik ini untuk setiap pemain bervariasi, tergantung pada apa yang dilakukan pemain. Mengemudi atau menembak akan memicu lebih banyak pembaruan daripada diam."})}),"\n",(0,t.jsx)(e.h2,{id:"fungsi-terkait",children:"Fungsi Terkait"})]})}function u(a={}){let{wrapper:e}={...(0,r.a)(),...a.components};return e?(0,t.jsx)(e,{...a,children:(0,t.jsx)(o,{...a})}):o(a)}},50065:function(a,e,n){n.d(e,{Z:()=>p,a:()=>l});var i=n(67294);let t={},r=i.createContext(t);function l(a){let e=i.useContext(r);return i.useMemo(function(){return"function"==typeof a?a(e):{...e,...a}},[e,a])}function p(a){let e;return e=a.disableParentContext?"function"==typeof a.components?a.components(t):a.components||t:l(a.components),i.createElement(r.Provider,{value:e},a.children)}}}]);